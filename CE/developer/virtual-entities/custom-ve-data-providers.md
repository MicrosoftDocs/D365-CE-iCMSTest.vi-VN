---
title: Custom virtual entity data providers (Developer Guide for Dynamics 365 for Customer Engagement) | MicrosoftDocs
ms.date: 10/31/2017
ms.service: crm-online
ms.topic: article
applies_to:
- Dynamics 365 for Customer Engagement (online)
ms.assetid: d329dade-16c5-46e9-8dec-4b8efb996d22
author: JimDaly
ms.author: jdaly
manager: amyla
search.audienceType:
- developer
search.app:
- D365CE
ms.openlocfilehash: 73a6f5f2438effe7a1c8e65eee2af8c3588fe865
ms.sourcegitcommit: 9f0efd59de16a6d9902fa372cb25fc0baf1c2838
ms.translationtype: HT
ms.contentlocale: vi-VN
ms.lasthandoff: 01/08/2019
ms.locfileid: "385812"
---
# <a name="custom-virtual-entity-data-providers"></a><span data-ttu-id="e99a7-102">Custom virtual entity data providers</span><span class="sxs-lookup"><span data-stu-id="e99a7-102">Custom virtual entity data providers</span></span>

[!INCLUDE[](../../includes/cc_applies_to_update_9_0_0.md)]

<span data-ttu-id="e99a7-103">Using the [!INCLUDE[pn-dynamics365](../../includes/pn-dynamics-365.md)] for Customer Engagement apps Data SDK, .NET Developers have the option of creating custom virtual entity data providers to help integrate external data source types that are not supported by an existing data provider.</span><span class="sxs-lookup"><span data-stu-id="e99a7-103">Using the [!INCLUDE[pn-dynamics365](../../includes/pn-dynamics-365.md)] for Customer Engagement apps Data SDK, .NET Developers have the option of creating custom virtual entity data providers to help integrate external data source types that are not supported by an existing data provider.</span></span> <span data-ttu-id="e99a7-104">Each data provider is composed of a reusable set of [!INCLUDE[pn-dynamics365](../../includes/pn-dynamics-365.md)] for Customer Engagement apps plug-ins that implement the supported CRUD operations.</span><span class="sxs-lookup"><span data-stu-id="e99a7-104">Each data provider is composed of a reusable set of [!INCLUDE[pn-dynamics365](../../includes/pn-dynamics-365.md)] for Customer Engagement apps plug-ins that implement the supported CRUD operations.</span></span> <span data-ttu-id="e99a7-105">(The initial release is limited to the **Retrieve** and **RetrieveMultiple** read operations.)  This section provides fundamental information about data providers and approaches to developing custom providers, including example code.</span><span class="sxs-lookup"><span data-stu-id="e99a7-105">(The initial release is limited to the **Retrieve** and **RetrieveMultiple** read operations.)  This section provides fundamental information about data providers and approaches to developing custom providers, including example code.</span></span>

> [!NOTE]
> <span data-ttu-id="e99a7-106">As an alternative to creating a custom data source provider, you should consider adapting your data source to an existing data provider.</span><span class="sxs-lookup"><span data-stu-id="e99a7-106">As an alternative to creating a custom data source provider, you should consider adapting your data source to an existing data provider.</span></span> <span data-ttu-id="e99a7-107">For example, if you create an OData v4 interface to your external data source, then you can directly access it with the supplied standard OData v4 Data Provider.</span><span class="sxs-lookup"><span data-stu-id="e99a7-107">For example, if you create an OData v4 interface to your external data source, then you can directly access it with the supplied standard OData v4 Data Provider.</span></span> <span data-ttu-id="e99a7-108">The mechanism of adding this REST interface varies with the underlying data service technology, for example see [WCF Data Services 4.5](https://docs.microsoft.com/dotnet/framework/data/wcf/).</span><span class="sxs-lookup"><span data-stu-id="e99a7-108">The mechanism of adding this REST interface varies with the underlying data service technology, for example see [WCF Data Services 4.5](https://docs.microsoft.com/dotnet/framework/data/wcf/).</span></span> <span data-ttu-id="e99a7-109">OData has broad industry support, with a wide range of dedicated tools and compatible technologies.</span><span class="sxs-lookup"><span data-stu-id="e99a7-109">OData has broad industry support, with a wide range of dedicated tools and compatible technologies.</span></span>


## <a name="prerequisites"></a><span data-ttu-id="e99a7-110">Điều kiện tiên quyết</span><span class="sxs-lookup"><span data-stu-id="e99a7-110">Prerequisites</span></span>

<span data-ttu-id="e99a7-111">Custom data providers require substantial development resources to create and maintain.</span><span class="sxs-lookup"><span data-stu-id="e99a7-111">Custom data providers require substantial development resources to create and maintain.</span></span> <span data-ttu-id="e99a7-112">You must have fundamental knowledge of the following areas:</span><span class="sxs-lookup"><span data-stu-id="e99a7-112">You must have fundamental knowledge of the following areas:</span></span>

* <span data-ttu-id="e99a7-113">The external data source schema and associated data access techniques.</span><span class="sxs-lookup"><span data-stu-id="e99a7-113">The external data source schema and associated data access techniques.</span></span>  <span data-ttu-id="e99a7-114">This domain knowledge is specific to the external data source type.</span><span class="sxs-lookup"><span data-stu-id="e99a7-114">This domain knowledge is specific to the external data source type.</span></span>
* [!INCLUDE[pn-dynamics365](../../includes/pn-dynamics-365.md)] <span data-ttu-id="e99a7-115">for Customer Engagement apps metadata schema; for more information see [The metadata and data models in Microsoft Dynamics 365 for Customer Engagement apps](../metadata-data-models.md).</span><span class="sxs-lookup"><span data-stu-id="e99a7-115">for Customer Engagement apps metadata schema; for more information see [The metadata and data models in Microsoft Dynamics 365 for Customer Engagement apps](../metadata-data-models.md).</span></span>
* [!INCLUDE[pn-dynamics365](../../includes/pn-dynamics-365.md)] <span data-ttu-id="e99a7-116">for Customer Engagement apps event system; for more information see [Introduction to the event framework](../introduction-event-framework.md).</span><span class="sxs-lookup"><span data-stu-id="e99a7-116">for Customer Engagement apps event system; for more information see [Introduction to the event framework](../introduction-event-framework.md).</span></span> 
* [!INCLUDE[pn-dynamics365](../../includes/pn-dynamics-365.md)] <span data-ttu-id="e99a7-117">for Customer Engagement apps plug-in architecture and development; for more information see [Plug-in development](../plugin-development.md).</span><span class="sxs-lookup"><span data-stu-id="e99a7-117">for Customer Engagement apps plug-in architecture and development; for more information see [Plug-in development](../plugin-development.md).</span></span>

<span data-ttu-id="e99a7-118">You will also need to manually download the [!INCLUDE[pn-dynamics365](../../includes/pn-dynamics-365.md)] for Customer Engagement apps Data SDK, or include the corresponding NuGet package in your projects.</span><span class="sxs-lookup"><span data-stu-id="e99a7-118">You will also need to manually download the [!INCLUDE[pn-dynamics365](../../includes/pn-dynamics-365.md)] for Customer Engagement apps Data SDK, or include the corresponding NuGet package in your projects.</span></span> <span data-ttu-id="e99a7-119">This SDK is compatible with Visual Studio 2015 or 2017.</span><span class="sxs-lookup"><span data-stu-id="e99a7-119">This SDK is compatible with Visual Studio 2015 or 2017.</span></span>  <!-- TODO: When the final package is ready, put in proper name and link. -->

<!-- ## Data Provider Architecture -->
<!-- TODO: it would be nice to have a more detailed architecture diagram of a data provider and add discussion. -->


## <a name="categories-of-providers"></a><span data-ttu-id="e99a7-120">Categories of providers</span><span class="sxs-lookup"><span data-stu-id="e99a7-120">Categories of providers</span></span>

<span data-ttu-id="e99a7-121">There are two general categories of data provider you can create using the virtual entity data SDK assemblies: generic or targeted.</span><span class="sxs-lookup"><span data-stu-id="e99a7-121">There are two general categories of data provider you can create using the virtual entity data SDK assemblies: generic or targeted.</span></span> <span data-ttu-id="e99a7-122">The table below describes these approaches and matches them to the data provider development model best suited for that approach.</span><span class="sxs-lookup"><span data-stu-id="e99a7-122">The table below describes these approaches and matches them to the data provider development model best suited for that approach.</span></span>

|<span data-ttu-id="e99a7-123">**Thể loại**</span><span class="sxs-lookup"><span data-stu-id="e99a7-123">**Category**</span></span>|<span data-ttu-id="e99a7-124">**Dev Model**</span><span class="sxs-lookup"><span data-stu-id="e99a7-124">**Dev Model**</span></span>|<span data-ttu-id="e99a7-125">**Mô tả**</span><span class="sxs-lookup"><span data-stu-id="e99a7-125">**Description**</span></span>|
|------------|-------------|---------------|
|<span data-ttu-id="e99a7-126"> Chung</span><span class="sxs-lookup"><span data-stu-id="e99a7-126">Generic</span></span>|<span data-ttu-id="e99a7-127">"Bare metal" provider</span><span class="sxs-lookup"><span data-stu-id="e99a7-127">"Bare metal" provider</span></span>|<span data-ttu-id="e99a7-128">These providers can flexibly translate FetchXML query expressions to the associated request to the external data source, then return the resulting entity instances.</span><span class="sxs-lookup"><span data-stu-id="e99a7-128">These providers can flexibly translate FetchXML query expressions to the associated request to the external data source, then return the resulting entity instances.</span></span> <span data-ttu-id="e99a7-129">Such a provider can be reused for all instances of this data source type.</span><span class="sxs-lookup"><span data-stu-id="e99a7-129">Such a provider can be reused for all instances of this data source type.</span></span> <span data-ttu-id="e99a7-130">This approach is the most general but is more complicated to develop.</span><span class="sxs-lookup"><span data-stu-id="e99a7-130">This approach is the most general but is more complicated to develop.</span></span>  <span data-ttu-id="e99a7-131">If the schema of the data source changes, the affected virtual entities must only be remapped.</span><span class="sxs-lookup"><span data-stu-id="e99a7-131">If the schema of the data source changes, the affected virtual entities must only be remapped.</span></span>|
|<span data-ttu-id="e99a7-132">Targeted</span><span class="sxs-lookup"><span data-stu-id="e99a7-132">Targeted</span></span>|<span data-ttu-id="e99a7-133">LINQ provider for known schema</span><span class="sxs-lookup"><span data-stu-id="e99a7-133">LINQ provider for known schema</span></span>|<span data-ttu-id="e99a7-134">Such a provider only narrowly translates queries into the associated LINQ call to a known, existing data source instance.</span><span class="sxs-lookup"><span data-stu-id="e99a7-134">Such a provider only narrowly translates queries into the associated LINQ call to a known, existing data source instance.</span></span> <span data-ttu-id="e99a7-135">The data source must be a LINQ provider as described in the topic [Enabling a Data Source for LINQ Querying](https://docs.microsoft.com/dotnet/csharp/programming-guide/concepts/linq/enabling-a-data-source-for-linq-querying1).</span><span class="sxs-lookup"><span data-stu-id="e99a7-135">The data source must be a LINQ provider as described in the topic [Enabling a Data Source for LINQ Querying](https://docs.microsoft.com/dotnet/csharp/programming-guide/concepts/linq/enabling-a-data-source-for-linq-querying1).</span></span> <span data-ttu-id="e99a7-136">This approach is limited to a specific data source instance, but requires much less coding.</span><span class="sxs-lookup"><span data-stu-id="e99a7-136">This approach is limited to a specific data source instance, but requires much less coding.</span></span> <span data-ttu-id="e99a7-137">If the schema of the data source changes, the data provider must be updated and rebuilt.</span><span class="sxs-lookup"><span data-stu-id="e99a7-137">If the schema of the data source changes, the data provider must be updated and rebuilt.</span></span>|
| | | |

<!-- TODO: Couldn't find the above link as a .md file in current repo. -->

<span data-ttu-id="e99a7-138">The standard Odata v4 Data Provider and the Cosmos DB Data Provider are examples of generic providers.</span><span class="sxs-lookup"><span data-stu-id="e99a7-138">The standard Odata v4 Data Provider and the Cosmos DB Data Provider are examples of generic providers.</span></span>


## <a name="steps-to-use-a-custom-data-provider"></a><span data-ttu-id="e99a7-139">Steps to use a custom data provider</span><span class="sxs-lookup"><span data-stu-id="e99a7-139">Steps to use a custom data provider</span></span>

<span data-ttu-id="e99a7-140">There are several steps that are required to create a virtual entity data provider solution that can be imported into your [!INCLUDE[pn-dynamics365](../../includes/pn-dynamics-365.md)] for Customer Engagement apps applications:</span><span class="sxs-lookup"><span data-stu-id="e99a7-140">There are several steps that are required to create a virtual entity data provider solution that can be imported into your [!INCLUDE[pn-dynamics365](../../includes/pn-dynamics-365.md)] for Customer Engagement apps applications:</span></span>

1. <span data-ttu-id="e99a7-141">Develop the custom data provider plug-in DLL (or set of DLLs).</span><span class="sxs-lookup"><span data-stu-id="e99a7-141">Develop the custom data provider plug-in DLL (or set of DLLs).</span></span>
2. <span data-ttu-id="e99a7-142">Register the custom data provider with your [!INCLUDE[pn-dynamics365](../../includes/pn-dynamics-365.md)] for Customer Engagement apps service using the Plug-in Registration Tool (PRT).</span><span class="sxs-lookup"><span data-stu-id="e99a7-142">Register the custom data provider with your [!INCLUDE[pn-dynamics365](../../includes/pn-dynamics-365.md)] for Customer Engagement apps service using the Plug-in Registration Tool (PRT).</span></span>
3. <span data-ttu-id="e99a7-143">Create a data provider solution.</span><span class="sxs-lookup"><span data-stu-id="e99a7-143">Create a data provider solution.</span></span>
4. <span data-ttu-id="e99a7-144">Customize the data source entity to reflect your data type or specific instance.</span><span class="sxs-lookup"><span data-stu-id="e99a7-144">Customize the data source entity to reflect your data type or specific instance.</span></span>
5. <span data-ttu-id="e99a7-145">Export the custom data provider solution.</span><span class="sxs-lookup"><span data-stu-id="e99a7-145">Export the custom data provider solution.</span></span>


### <a name="plug-in-development"></a><span data-ttu-id="e99a7-146">Plug-in development</span><span class="sxs-lookup"><span data-stu-id="e99a7-146">Plug-in development</span></span>

<span data-ttu-id="e99a7-147">Because virtual entities in this release are read-only, you will write the data provider in the form of a plug-in registered on the **Retrieve** and **RetrieveMultiple** events.</span><span class="sxs-lookup"><span data-stu-id="e99a7-147">Because virtual entities in this release are read-only, you will write the data provider in the form of a plug-in registered on the **Retrieve** and **RetrieveMultiple** events.</span></span> <span data-ttu-id="e99a7-148">Each respective event will include information in the execution context which describes the kind of data to return.</span><span class="sxs-lookup"><span data-stu-id="e99a7-148">Each respective event will include information in the execution context which describes the kind of data to return.</span></span> 

|<span data-ttu-id="e99a7-149">**Sự kiện**</span><span class="sxs-lookup"><span data-stu-id="e99a7-149">**Event**</span></span>|<span data-ttu-id="e99a7-150">**Execution Context**</span><span class="sxs-lookup"><span data-stu-id="e99a7-150">**Execution Context**</span></span>|
|---------|---------------------|
|<span data-ttu-id="e99a7-151">**Truy xuất**</span><span class="sxs-lookup"><span data-stu-id="e99a7-151">**Retrieve**</span></span>|<span data-ttu-id="e99a7-152">Describes which entity to retrieve as well as the attributes and any related entities to include.</span><span class="sxs-lookup"><span data-stu-id="e99a7-152">Describes which entity to retrieve as well as the attributes and any related entities to include.</span></span>|
|<span data-ttu-id="e99a7-153">**RetrieveMultiple**</span><span class="sxs-lookup"><span data-stu-id="e99a7-153">**RetrieveMultiple**</span></span>|<span data-ttu-id="e99a7-154">Contains a [QueryExpression](https://msdn.microsoft.com/library/microsoft.xrm.sdk.query.queryexpression.aspx) object defining the query.</span><span class="sxs-lookup"><span data-stu-id="e99a7-154">Contains a [QueryExpression](https://msdn.microsoft.com/library/microsoft.xrm.sdk.query.queryexpression.aspx) object defining the query.</span></span> <span data-ttu-id="e99a7-155">The framework contains a **QueryExpressionVisitor** class designed to inspect different parts of the query expression tree.</span><span class="sxs-lookup"><span data-stu-id="e99a7-155">The framework contains a **QueryExpressionVisitor** class designed to inspect different parts of the query expression tree.</span></span>|
| | |

<span data-ttu-id="e99a7-156">For both events, you must :</span><span class="sxs-lookup"><span data-stu-id="e99a7-156">For both events, you must :</span></span>
1. <span data-ttu-id="e99a7-157">Convert the respective information in the execution context into a query that will work for your external data source.</span><span class="sxs-lookup"><span data-stu-id="e99a7-157">Convert the respective information in the execution context into a query that will work for your external data source.</span></span>
2. <span data-ttu-id="e99a7-158">Retrieve the data from the external system.</span><span class="sxs-lookup"><span data-stu-id="e99a7-158">Retrieve the data from the external system.</span></span>
3. <span data-ttu-id="e99a7-159">For **Retrieve**, convert the data into an [Entity](https://msdn.microsoft.com/library/microsoft.xrm.sdk.entity.aspx); otherwise, for **RetrieveMultiple**, convert it to an [EntityCollection](https://msdn.microsoft.com/library/microsoft.xrm.sdk.entitycollection.aspx).</span><span class="sxs-lookup"><span data-stu-id="e99a7-159">For **Retrieve**, convert the data into an [Entity](https://msdn.microsoft.com/library/microsoft.xrm.sdk.entity.aspx); otherwise, for **RetrieveMultiple**, convert it to an [EntityCollection](https://msdn.microsoft.com/library/microsoft.xrm.sdk.entitycollection.aspx).</span></span> <span data-ttu-id="e99a7-160">This result is returned through the Dynamics 365 for Customer Engagement apps platform to the user executing the query.</span><span class="sxs-lookup"><span data-stu-id="e99a7-160">This result is returned through the Dynamics 365 for Customer Engagement apps platform to the user executing the query.</span></span> 

<span data-ttu-id="e99a7-161">The classes in the Microsoft.Xrm.Sdk.Data namespace provide a framework to assist in mapping the Dynamics 365 for Customer Engagement apps query information from the execution context into a query in the format appropriate for your external data source.</span><span class="sxs-lookup"><span data-stu-id="e99a7-161">The classes in the Microsoft.Xrm.Sdk.Data namespace provide a framework to assist in mapping the Dynamics 365 for Customer Engagement apps query information from the execution context into a query in the format appropriate for your external data source.</span></span> <span data-ttu-id="e99a7-162">This framework will help you convert the data returned in to the appropriate **Entity** or **EntityCollection** types expected by the Dynamics 365 for Customer Engagement apps platform.</span><span class="sxs-lookup"><span data-stu-id="e99a7-162">This framework will help you convert the data returned in to the appropriate **Entity** or **EntityCollection** types expected by the Dynamics 365 for Customer Engagement apps platform.</span></span> 

#### <a name="data-provider-exceptions"></a><span data-ttu-id="e99a7-163">Data provider exceptions</span><span class="sxs-lookup"><span data-stu-id="e99a7-163">Data provider exceptions</span></span>

<span data-ttu-id="e99a7-164">If for any reason your code cannot achieve the expected result, you must throw the appropriate error.</span><span class="sxs-lookup"><span data-stu-id="e99a7-164">If for any reason your code cannot achieve the expected result, you must throw the appropriate error.</span></span> <span data-ttu-id="e99a7-165">The Microsoft.Xrm.Sdk.Data.Exceptions namespace contains the following exception classes, derived from **SdkExceptionBase**, that you can use for this purpose:</span><span class="sxs-lookup"><span data-stu-id="e99a7-165">The Microsoft.Xrm.Sdk.Data.Exceptions namespace contains the following exception classes, derived from **SdkExceptionBase**, that you can use for this purpose:</span></span>  

|<span data-ttu-id="e99a7-166">**Exception Class**</span><span class="sxs-lookup"><span data-stu-id="e99a7-166">**Exception Class**</span></span>|<span data-ttu-id="e99a7-167">**Mô tả**</span><span class="sxs-lookup"><span data-stu-id="e99a7-167">**Description**</span></span>|
|---------------|-----------|
|<span data-ttu-id="e99a7-168">AttributeNotFoundException</span><span class="sxs-lookup"><span data-stu-id="e99a7-168">AttributeNotFoundException</span></span>|<span data-ttu-id="e99a7-169">The query specifies an attribute that was not found in the associated external data record.</span><span class="sxs-lookup"><span data-stu-id="e99a7-169">The query specifies an attribute that was not found in the associated external data record.</span></span> <span data-ttu-id="e99a7-170">Typically occurs as a result of faulty type mapping or a external data source schema change.</span><span class="sxs-lookup"><span data-stu-id="e99a7-170">Typically occurs as a result of faulty type mapping or a external data source schema change.</span></span>|
|<span data-ttu-id="e99a7-171">AuthenticationException</span><span class="sxs-lookup"><span data-stu-id="e99a7-171">AuthenticationException</span></span>|<span data-ttu-id="e99a7-172">An error occurred during security authentication to the external data source service; for example HTTP status 401 received from the external data service.</span><span class="sxs-lookup"><span data-stu-id="e99a7-172">An error occurred during security authentication to the external data source service; for example HTTP status 401 received from the external data service.</span></span> <span data-ttu-id="e99a7-173">Typically occurs because the current user does not have proper privileges or the connection information in the associated **EntityDataSource** is incorrect.</span><span class="sxs-lookup"><span data-stu-id="e99a7-173">Typically occurs because the current user does not have proper privileges or the connection information in the associated **EntityDataSource** is incorrect.</span></span>|
|<span data-ttu-id="e99a7-174">EndpointException</span><span class="sxs-lookup"><span data-stu-id="e99a7-174">EndpointException</span></span>|<span data-ttu-id="e99a7-175">The endpoint configuration in the data source entity is invalid or the endpoint does not exist.</span><span class="sxs-lookup"><span data-stu-id="e99a7-175">The endpoint configuration in the data source entity is invalid or the endpoint does not exist.</span></span>|
|<span data-ttu-id="e99a7-176">EntityNotFoundException</span><span class="sxs-lookup"><span data-stu-id="e99a7-176">EntityNotFoundException</span></span>|<span data-ttu-id="e99a7-177">The query targets an entity which does not exist.</span><span class="sxs-lookup"><span data-stu-id="e99a7-177">The query targets an entity which does not exist.</span></span> <span data-ttu-id="e99a7-178">Typically occurs as a result of faulty type mapping or a external data source schema change.</span><span class="sxs-lookup"><span data-stu-id="e99a7-178">Typically occurs as a result of faulty type mapping or a external data source schema change.</span></span>|
|<span data-ttu-id="e99a7-179">GenericDataAccessException</span><span class="sxs-lookup"><span data-stu-id="e99a7-179">GenericDataAccessException</span></span>|<span data-ttu-id="e99a7-180">A general data access error, used when the error does not map to a more specific exception.</span><span class="sxs-lookup"><span data-stu-id="e99a7-180">A general data access error, used when the error does not map to a more specific exception.</span></span>|
|<span data-ttu-id="e99a7-181">InvalidMetadataException</span><span class="sxs-lookup"><span data-stu-id="e99a7-181">InvalidMetadataException</span></span>| |
|<span data-ttu-id="e99a7-182">InvalidQueryException</span><span class="sxs-lookup"><span data-stu-id="e99a7-182">InvalidQueryException</span></span>|<span data-ttu-id="e99a7-183">The specified query is invalid; for example it an invalid clause combination or unsupported comparison operator.</span><span class="sxs-lookup"><span data-stu-id="e99a7-183">The specified query is invalid; for example it an invalid clause combination or unsupported comparison operator.</span></span>|
|<span data-ttu-id="e99a7-184">ObjectNotFoundException</span><span class="sxs-lookup"><span data-stu-id="e99a7-184">ObjectNotFoundException</span></span>|<span data-ttu-id="e99a7-185">The specified record in the external data source does not exist.</span><span class="sxs-lookup"><span data-stu-id="e99a7-185">The specified record in the external data source does not exist.</span></span>|
|<span data-ttu-id="e99a7-186">TimeoutException</span><span class="sxs-lookup"><span data-stu-id="e99a7-186">TimeoutException</span></span>|<span data-ttu-id="e99a7-187">The external operation did not complete within the allowed time; for example, the result of a HTTP status 408 from the external data service.</span><span class="sxs-lookup"><span data-stu-id="e99a7-187">The external operation did not complete within the allowed time; for example, the result of a HTTP status 408 from the external data service.</span></span>|
| | |

<span data-ttu-id="e99a7-188">To assist you in plug-in development, the Dynamics 365 for Customer Engagement apps Data SDK contains the _Plugin Profiler and Debugger_; for more information see [TBD]<!-- TODO: Obtain information on this tool, create subtopic. -->.</span><span class="sxs-lookup"><span data-stu-id="e99a7-188">To assist you in plug-in development, the Dynamics 365 for Customer Engagement apps Data SDK contains the _Plugin Profiler and Debugger_; for more information see [TBD]<!-- TODO: Obtain information on this tool, create subtopic. -->.</span></span>


### <a name="plug-in-registration"></a><span data-ttu-id="e99a7-189">Plug-in registration</span><span class="sxs-lookup"><span data-stu-id="e99a7-189">Plug-in registration</span></span>

<span data-ttu-id="e99a7-190">Unlike an ordinary plugin, you will only use the _Plugin Registration Tool_ (PRT) to register the assembly and the plugins for each event.</span><span class="sxs-lookup"><span data-stu-id="e99a7-190">Unlike an ordinary plugin, you will only use the _Plugin Registration Tool_ (PRT) to register the assembly and the plugins for each event.</span></span> <span data-ttu-id="e99a7-191">You will not register specific steps.</span><span class="sxs-lookup"><span data-stu-id="e99a7-191">You will not register specific steps.</span></span> <span data-ttu-id="e99a7-192">Your plugin will run in stage 30, the main core transaction stage for the operation that is not available for ordinary plugin steps.</span><span class="sxs-lookup"><span data-stu-id="e99a7-192">Your plugin will run in stage 30, the main core transaction stage for the operation that is not available for ordinary plugin steps.</span></span> <span data-ttu-id="e99a7-193">Instead of registering steps, you will configure your data provider using the [Microsoft.Dynamics.CRM.EntityDataProvider](../entities/entitydataprovider.md) and [Microsoft.Dynamics.CRM.EntityDataSource](../entities/entitydatasource.md) entities.</span><span class="sxs-lookup"><span data-stu-id="e99a7-193">Instead of registering steps, you will configure your data provider using the [Microsoft.Dynamics.CRM.EntityDataProvider](../entities/entitydataprovider.md) and [Microsoft.Dynamics.CRM.EntityDataSource](../entities/entitydatasource.md) entities.</span></span> 

<!-- TODO: If the PRT is essentially the same as past versions, then replace italics with link to current DOCS topic.  That topic might need updating.  If this is a special version of this tool only int he Data SDK, then it might need a separate topic. -->

|<span data-ttu-id="e99a7-194">**Thực thể**</span><span class="sxs-lookup"><span data-stu-id="e99a7-194">**Entity**</span></span>|<span data-ttu-id="e99a7-195">**Mô tả**</span><span class="sxs-lookup"><span data-stu-id="e99a7-195">**Description**</span></span>|
|-----|-----|
|[<span data-ttu-id="e99a7-196">EntityDataProvider</span><span class="sxs-lookup"><span data-stu-id="e99a7-196">EntityDataProvider</span></span>](../entities/entitydataprovider.md)|<span data-ttu-id="e99a7-197">Defines the plugins to use for each event and the logical name of the data source.</span><span class="sxs-lookup"><span data-stu-id="e99a7-197">Defines the plugins to use for each event and the logical name of the data source.</span></span>|
|[<span data-ttu-id="e99a7-198">EntityDataSource</span><span class="sxs-lookup"><span data-stu-id="e99a7-198">EntityDataSource</span></span>](../entities/entitydatasource.md)|<span data-ttu-id="e99a7-199">Provides the entity context and any connection information required for the external data source, including any secrets required to authenticate.</span><span class="sxs-lookup"><span data-stu-id="e99a7-199">Provides the entity context and any connection information required for the external data source, including any secrets required to authenticate.</span></span>|
| | |

<span data-ttu-id="e99a7-200">When the metadata for your virtual entity is configured, your plugins are registered using the PRT and the correct configuration data is set in the **EntityDataProvider** and **EntityDataSource** entities, your virtual entity will start to respond to requests.</span><span class="sxs-lookup"><span data-stu-id="e99a7-200">When the metadata for your virtual entity is configured, your plugins are registered using the PRT and the correct configuration data is set in the **EntityDataProvider** and **EntityDataSource** entities, your virtual entity will start to respond to requests.</span></span>

 
