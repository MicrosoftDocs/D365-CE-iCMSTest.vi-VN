---
title: Dependency and execution order in asynchronous operations (Developer Guide for Dynamics 365 for Customer Engagement apps) | MicrosoftDocs
description: An asynchronous operation can be made dependent with another asynchronous operation. A dependent asynchronous operation does not execute until the operation that it is dependent with has finished executing.
ms.custom: ''
ms.date: 10/31/2017
ms.reviewer: ''
ms.service: crm-online
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
applies_to:
- Dynamics 365 for Customer Engagement (online)
ms.assetid: 180b0ac3-b869-4bdf-92a7-c4b0226d9a48
caps.latest.revision: 16
author: JimDaly
ms.author: jdaly
manager: amyla
search.audienceType:
- developer
search.app:
- D365CE
ms.openlocfilehash: bb2a3fb373bd707447944865399467ee88d6672d
ms.sourcegitcommit: 9f0efd59de16a6d9902fa372cb25fc0baf1c2838
ms.translationtype: HT
ms.contentlocale: vi-VN
ms.lasthandoff: 01/08/2019
ms.locfileid: "387932"
---
# <a name="dependency-and-execution-order-in-asynchronous-operations"></a><span data-ttu-id="711d6-104">Dependency and execution order in asynchronous operations</span><span class="sxs-lookup"><span data-stu-id="711d6-104">Dependency and execution order in asynchronous operations</span></span>

[!INCLUDE[](../includes/cc_applies_to_update_9_0_0.md)]

<span data-ttu-id="711d6-105">An asynchronous operation can be made dependent with another asynchronous operation.</span><span class="sxs-lookup"><span data-stu-id="711d6-105">An asynchronous operation can be made dependent with another asynchronous operation.</span></span> <span data-ttu-id="711d6-106">A dependent asynchronous operation does not execute until the operation that it is dependent with has finished executing.</span><span class="sxs-lookup"><span data-stu-id="711d6-106">A dependent asynchronous operation does not execute until the operation that it is dependent with has finished executing.</span></span> <span data-ttu-id="711d6-107">For example, if asynchronous operation B is dependent with asynchronous operation A, operation B does not execute until after operation A executes and is completed.</span><span class="sxs-lookup"><span data-stu-id="711d6-107">For example, if asynchronous operation B is dependent with asynchronous operation A, operation B does not execute until after operation A executes and is completed.</span></span> <span data-ttu-id="711d6-108">This dependency between asynchronous operations is established by setting the `AsyncOperation.DependencyToken` attribute, which can contain any string value.</span><span class="sxs-lookup"><span data-stu-id="711d6-108">This dependency between asynchronous operations is established by setting the `AsyncOperation.DependencyToken` attribute, which can contain any string value.</span></span> <span data-ttu-id="711d6-109">Any dependent asynchronous operations must have the same `AsyncOperation.DependencyToken` value.</span><span class="sxs-lookup"><span data-stu-id="711d6-109">Any dependent asynchronous operations must have the same `AsyncOperation.DependencyToken` value.</span></span>  
  
 <span data-ttu-id="711d6-110">The [!INCLUDE[pn_dynamics_crm](../includes/pn-dynamics-crm.md)] apps platform establishes which asynchronous operation is dependent when the operations are created in the asynchronous queue.</span><span class="sxs-lookup"><span data-stu-id="711d6-110">The [!INCLUDE[pn_dynamics_crm](../includes/pn-dynamics-crm.md)] apps platform establishes which asynchronous operation is dependent when the operations are created in the asynchronous queue.</span></span> <span data-ttu-id="711d6-111">For example, consider three asynchronous operations named A, B, and C, where B and C should only execute after A is completed.</span><span class="sxs-lookup"><span data-stu-id="711d6-111">For example, consider three asynchronous operations named A, B, and C, where B and C should only execute after A is completed.</span></span> <span data-ttu-id="711d6-112">To establish the correct dependencies, A must be created in the queue first, followed by B and then C. This is because the order in which the operations are created establishes the sequence of their execution.</span><span class="sxs-lookup"><span data-stu-id="711d6-112">To establish the correct dependencies, A must be created in the queue first, followed by B and then C. This is because the order in which the operations are created establishes the sequence of their execution.</span></span> <span data-ttu-id="711d6-113">In this example, all three asynchronous operations have the same `AsyncOperation.DependencyToken`.</span><span class="sxs-lookup"><span data-stu-id="711d6-113">In this example, all three asynchronous operations have the same `AsyncOperation.DependencyToken`.</span></span> <span data-ttu-id="711d6-114">At run time, A executes first.</span><span class="sxs-lookup"><span data-stu-id="711d6-114">At run time, A executes first.</span></span> <span data-ttu-id="711d6-115">After A has completed, B executes to completion, and then C executes until completion.</span><span class="sxs-lookup"><span data-stu-id="711d6-115">After A has completed, B executes to completion, and then C executes until completion.</span></span>  
  
 <span data-ttu-id="711d6-116">In the previous example, if operation B is postponed, operation A executes until it is completed and operation C is blocked until operation B is no longer postponed and executes until completed.</span><span class="sxs-lookup"><span data-stu-id="711d6-116">In the previous example, if operation B is postponed, operation A executes until it is completed and operation C is blocked until operation B is no longer postponed and executes until completed.</span></span> <span data-ttu-id="711d6-117">You can postpone execution of an asynchronous operation by using the `AsyncOperation.PostponeUntil` attribute.</span><span class="sxs-lookup"><span data-stu-id="711d6-117">You can postpone execution of an asynchronous operation by using the `AsyncOperation.PostponeUntil` attribute.</span></span>  
  
 <span data-ttu-id="711d6-118">Any asynchronous operation that has a `AsyncOperation.DependencyToken` value of **null** executes independent of all other asynchronous operations in the queue.</span><span class="sxs-lookup"><span data-stu-id="711d6-118">Any asynchronous operation that has a `AsyncOperation.DependencyToken` value of **null** executes independent of all other asynchronous operations in the queue.</span></span> <span data-ttu-id="711d6-119">The order of execution with regard to other independent operations is not guaranteed.</span><span class="sxs-lookup"><span data-stu-id="711d6-119">The order of execution with regard to other independent operations is not guaranteed.</span></span> <span data-ttu-id="711d6-120">However, asynchronous operations created earlier have a better chance of executing before operations created later.</span><span class="sxs-lookup"><span data-stu-id="711d6-120">However, asynchronous operations created earlier have a better chance of executing before operations created later.</span></span>  <span data-ttu-id="711d6-121">This assumes that the operations are not postponed and are not set to a state of Completed.</span><span class="sxs-lookup"><span data-stu-id="711d6-121">This assumes that the operations are not postponed and are not set to a state of Completed.</span></span>  
  
 <span data-ttu-id="711d6-122">The dependency token must be set when the asynchronous operation is created.</span><span class="sxs-lookup"><span data-stu-id="711d6-122">The dependency token must be set when the asynchronous operation is created.</span></span> <span data-ttu-id="711d6-123">Because [!INCLUDE[pn_dynamics_crm](../includes/pn-dynamics-crm.md)] apps create asynchronous operations for bulk operations such as bulk email, bulk delete, and import, you cannot make use of the dependency token for these operations.</span><span class="sxs-lookup"><span data-stu-id="711d6-123">Because [!INCLUDE[pn_dynamics_crm](../includes/pn-dynamics-crm.md)] apps create asynchronous operations for bulk operations such as bulk email, bulk delete, and import, you cannot make use of the dependency token for these operations.</span></span> <span data-ttu-id="711d6-124">In addition, the dependency token cannot be used to order execution of asynchronous registered plug-ins because the asynchronous operation that executes plug-ins is created by the Queue Manager.</span><span class="sxs-lookup"><span data-stu-id="711d6-124">In addition, the dependency token cannot be used to order execution of asynchronous registered plug-ins because the asynchronous operation that executes plug-ins is created by the Queue Manager.</span></span> <span data-ttu-id="711d6-125">For more information, refer to [Asynchronous Service Architecture](asynchronous-service-architecture.md).</span><span class="sxs-lookup"><span data-stu-id="711d6-125">For more information, refer to [Asynchronous Service Architecture](asynchronous-service-architecture.md).</span></span>  
  
### <a name="see-also"></a><span data-ttu-id="711d6-126">Xem thÃªm</span><span class="sxs-lookup"><span data-stu-id="711d6-126">See also</span></span>  
 <span data-ttu-id="711d6-127">[Asynchronous Service in Dynamics 365 for Customer Engagement apps](asynchronous-service.md) </span><span class="sxs-lookup"><span data-stu-id="711d6-127">[Asynchronous Service in Dynamics 365 for Customer Engagement apps](asynchronous-service.md) </span></span>  
 [<span data-ttu-id="711d6-128">Asynchronous Service in Dynamics 365 for Customer Engagement apps</span><span class="sxs-lookup"><span data-stu-id="711d6-128">Asynchronous Service in Dynamics 365 for Customer Engagement apps</span></span>](recurrence-pattern-asynchronous-job-execution.md)
