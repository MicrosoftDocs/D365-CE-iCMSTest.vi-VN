---
title: Client API form context in Dynamics 365 for Customer Engagement apps | MicrosoftDocs
ms.date: 05/11/2017
ms.service: crm-online
ms.topic: conceptual
applies_to:
- Dynamics 365 for Customer Engagement (online)
ms.assetid: 0cf94e8d-801a-451f-98c3-130e912f963b
author: KumarVivek
ms.author: kvivek
manager: amyla
search.audienceType:
- developer
search.app:
- D365CE
ms.openlocfilehash: baabd55ac770f8083a6cbe48f701ca551f9b6ab5
ms.sourcegitcommit: 9f0efd59de16a6d9902fa372cb25fc0baf1c2838
ms.translationtype: HT
ms.contentlocale: vi-VN
ms.lasthandoff: 01/08/2019
ms.locfileid: "388558"
---
# <a name="client-api-form-context"></a><span data-ttu-id="f4e0b-102">Client API form context</span><span class="sxs-lookup"><span data-stu-id="f4e0b-102">Client API form context</span></span>

[!INCLUDE[](../../includes/cc_applies_to_update_9_0_0.md)]

<span data-ttu-id="f4e0b-103">The Client API form context (**formContext**) provides a reference to the form or to an item on the form, such as, a quick view control or a row in an editable grid, against which the current code is executed.</span><span class="sxs-lookup"><span data-stu-id="f4e0b-103">The Client API form context (**formContext**) provides a reference to the form or to an item on the form, such as, a quick view control or a row in an editable grid, against which the current code is executed.</span></span>

<span data-ttu-id="f4e0b-104">Earlier, the global **Xrm.Page** object was used to represent a form or an item on the form.</span><span class="sxs-lookup"><span data-stu-id="f4e0b-104">Earlier, the global **Xrm.Page** object was used to represent a form or an item on the form.</span></span> <span data-ttu-id="f4e0b-105">With [!INCLUDE [pn-crm-9-0-0-online](../../includes/pn-crm-9-0-0-online.md)], the **Xrm.Page** object is [deprecated](/dynamics365/get-started/whats-new/customer-engagement/important-changes-coming#some-client-apis-are-deprecated), and you should use the [getFormContext](reference/executioncontext/getFormContext.md) method of the passed in execution context object to return reference to the appropriate form or an item on the form.</span><span class="sxs-lookup"><span data-stu-id="f4e0b-105">With [!INCLUDE [pn-crm-9-0-0-online](../../includes/pn-crm-9-0-0-online.md)], the **Xrm.Page** object is [deprecated](/dynamics365/get-started/whats-new/customer-engagement/important-changes-coming#some-client-apis-are-deprecated), and you should use the [getFormContext](reference/executioncontext/getFormContext.md) method of the passed in execution context object to return reference to the appropriate form or an item on the form.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="f4e0b-106">*Deprecated* means that we intend to remove a feature or capability from a future major release of Dynamics 365 for Customer Engagement apps; the feature or capability will continue to work and is fully supported until it is officially removed.</span><span class="sxs-lookup"><span data-stu-id="f4e0b-106">*Deprecated* means that we intend to remove a feature or capability from a future major release of Dynamics 365 for Customer Engagement apps; the feature or capability will continue to work and is fully supported until it is officially removed.</span></span><br/><br/><span data-ttu-id="f4e0b-107">Use of the **Xrm.Page** object as a static access to the primary form context is *still* supported to maintain backward compatibility with the existing scripts, and won’t be removed as soon as some other client API methods listed in the [Client API deprecation](/dynamics365/get-started/whats-new/customer-engagement/important-changes-coming#some-client-apis-are-deprecated) section.</span><span class="sxs-lookup"><span data-stu-id="f4e0b-107">Use of the **Xrm.Page** object as a static access to the primary form context is *still* supported to maintain backward compatibility with the existing scripts, and won’t be removed as soon as some other client API methods listed in the [Client API deprecation](/dynamics365/get-started/whats-new/customer-engagement/important-changes-coming#some-client-apis-are-deprecated) section.</span></span> <span data-ttu-id="f4e0b-108">We recommend that you use the new **formContext** object instead of the **Xrm.Page** object in your code targeting version 9.0 or later where possible.</span><span class="sxs-lookup"><span data-stu-id="f4e0b-108">We recommend that you use the new **formContext** object instead of the **Xrm.Page** object in your code targeting version 9.0 or later where possible.</span></span> <span data-ttu-id="f4e0b-109">Also, using the **formContext** object enables you to create common event handlers that can operate either on a form or in an editable grid depending on where its called.</span><span class="sxs-lookup"><span data-stu-id="f4e0b-109">Also, using the **formContext** object enables you to create common event handlers that can operate either on a form or in an editable grid depending on where its called.</span></span> <span data-ttu-id="f4e0b-110">More information: [getFormContext (Client API reference)](reference/executioncontext/getFormContext.md).</span><span class="sxs-lookup"><span data-stu-id="f4e0b-110">More information: [getFormContext (Client API reference)](reference/executioncontext/getFormContext.md).</span></span><br><br><span data-ttu-id="f4e0b-111">Getting the **formContext** object for JavaScript functions for ribbon actions is different from how you get it in form scripting.</span><span class="sxs-lookup"><span data-stu-id="f4e0b-111">Getting the **formContext** object for JavaScript functions for ribbon actions is different from how you get it in form scripting.</span></span> <span data-ttu-id="f4e0b-112">More information: [Form and grid context in ribbon actions](../customize-dev/pass-dynamics-365-data-page-parameter-ribbon-actions.md#form-and-grid-context-in-ribbon-actions).</span><span class="sxs-lookup"><span data-stu-id="f4e0b-112">More information: [Form and grid context in ribbon actions](../customize-dev/pass-dynamics-365-data-page-parameter-ribbon-actions.md#form-and-grid-context-in-ribbon-actions).</span></span>

## <a name="using-the-formcontext-object-instead-of-the-xrmpage-object"></a><span data-ttu-id="f4e0b-113">Using the formContext object instead of the Xrm.Page object</span><span class="sxs-lookup"><span data-stu-id="f4e0b-113">Using the formContext object instead of the Xrm.Page object</span></span> 

<span data-ttu-id="f4e0b-114">It's easy to convert existing code with **Xrm.Page** to use the new **formContext** object.</span><span class="sxs-lookup"><span data-stu-id="f4e0b-114">It's easy to convert existing code with **Xrm.Page** to use the new **formContext** object.</span></span> <span data-ttu-id="f4e0b-115">For example, consider the following script that uses the **Xrm.Page** object:</span><span class="sxs-lookup"><span data-stu-id="f4e0b-115">For example, consider the following script that uses the **Xrm.Page** object:</span></span>

```JavaScript
function displayName()
{
    var firstName = Xrm.Page.getAttribute("firstname").getValue();
    var lastName = Xrm.Page.getAttribute("lastname").getValue();
    console.log(firstName + " " + lastName);
}
```

<span data-ttu-id="f4e0b-116">Here is the updated script that uses the passed in execution context to retrieve the **formContext** object instead of using the static **Xrm.Page** object:</span><span class="sxs-lookup"><span data-stu-id="f4e0b-116">Here is the updated script that uses the passed in execution context to retrieve the **formContext** object instead of using the static **Xrm.Page** object:</span></span>

```JavaScript
function displayName(executionContext)
{
    var formContext = executionContext.getFormContext(); // get formContext

    // use formContext instead of Xrm.Page  
    var firstName = formContext.getAttribute("firstname").getValue(); 
    var lastName = formContext.getAttribute("lastname").getValue();
    console.log(firstName + " " + lastName);
}
```

>[!IMPORTANT]
><span data-ttu-id="f4e0b-117">You must remember to select the **Pass execution context as first parameter** option in the **Handler Properties** dialog while defining your event handlers to use the **formContext** object.</span><span class="sxs-lookup"><span data-stu-id="f4e0b-117">You must remember to select the **Pass execution context as first parameter** option in the **Handler Properties** dialog while defining your event handlers to use the **formContext** object.</span></span> <span data-ttu-id="f4e0b-118">More information: [Client API execution context](clientapi-execution-context.md)</span><span class="sxs-lookup"><span data-stu-id="f4e0b-118">More information: [Client API execution context](clientapi-execution-context.md)</span></span>

## <a name="formcontext-object-model"></a><span data-ttu-id="f4e0b-119">formContext object model</span><span class="sxs-lookup"><span data-stu-id="f4e0b-119">formContext object model</span></span>

<span data-ttu-id="f4e0b-120">Use the **data** and **ui** objects under the **formContext** object to programmatically manipulate data and user interface elements in Customer Engagement.</span><span class="sxs-lookup"><span data-stu-id="f4e0b-120">Use the **data** and **ui** objects under the **formContext** object to programmatically manipulate data and user interface elements in Customer Engagement.</span></span>

![formContext object model](../media/ClientAPI-formContextModel.png)

### <a name="data-object"></a><span data-ttu-id="f4e0b-122">data object</span><span class="sxs-lookup"><span data-stu-id="f4e0b-122">data object</span></span>

<span data-ttu-id="f4e0b-123">Provides access to the entity data and methods to manage the data in the form as well as in the business process flow control.</span><span class="sxs-lookup"><span data-stu-id="f4e0b-123">Provides access to the entity data and methods to manage the data in the form as well as in the business process flow control.</span></span> <span data-ttu-id="f4e0b-124">Contains the following objects:</span><span class="sxs-lookup"><span data-stu-id="f4e0b-124">Contains the following objects:</span></span>

| <span data-ttu-id="f4e0b-125">**Đối tượng**</span><span class="sxs-lookup"><span data-stu-id="f4e0b-125">**Object**</span></span>  | <span data-ttu-id="f4e0b-126">**Mô tả**</span><span class="sxs-lookup"><span data-stu-id="f4e0b-126">**Description**</span></span>|
|-----------------|----------------|
|<span data-ttu-id="f4e0b-127">thực thể</span><span class="sxs-lookup"><span data-stu-id="f4e0b-127">entity</span></span>|<span data-ttu-id="f4e0b-128">Provides methods to retrieve information specific to the record displayed on the page, the save method, and a collection of all the attributes included on the form</span><span class="sxs-lookup"><span data-stu-id="f4e0b-128">Provides methods to retrieve information specific to the record displayed on the page, the save method, and a collection of all the attributes included on the form</span></span>|
|<span data-ttu-id="f4e0b-129">process</span><span class="sxs-lookup"><span data-stu-id="f4e0b-129">process</span></span>|<span data-ttu-id="f4e0b-130">Provides methods to retrieve properties of a business process flow.</span><span class="sxs-lookup"><span data-stu-id="f4e0b-130">Provides methods to retrieve properties of a business process flow.</span></span>|

<span data-ttu-id="f4e0b-131">It also provides an **attributes** collection for accessing non-entity bound control.</span><span class="sxs-lookup"><span data-stu-id="f4e0b-131">It also provides an **attributes** collection for accessing non-entity bound control.</span></span> <span data-ttu-id="f4e0b-132">See the **Collections in the formContext object model** section later in this topic.</span><span class="sxs-lookup"><span data-stu-id="f4e0b-132">See the **Collections in the formContext object model** section later in this topic.</span></span>

<span data-ttu-id="f4e0b-133">More information: [formContext.data](reference/formContext-data.md)</span><span class="sxs-lookup"><span data-stu-id="f4e0b-133">More information: [formContext.data](reference/formContext-data.md)</span></span> 

### <a name="ui-object"></a><span data-ttu-id="f4e0b-134">ui object</span><span class="sxs-lookup"><span data-stu-id="f4e0b-134">ui object</span></span>

<span data-ttu-id="f4e0b-135">Provides methods to retrieve information about the user interface, in addition to collections for several sub components of the form or grid.</span><span class="sxs-lookup"><span data-stu-id="f4e0b-135">Provides methods to retrieve information about the user interface, in addition to collections for several sub components of the form or grid.</span></span> <span data-ttu-id="f4e0b-136">Contains the following objects:</span><span class="sxs-lookup"><span data-stu-id="f4e0b-136">Contains the following objects:</span></span>

| <span data-ttu-id="f4e0b-137">**Đối tượng**</span><span class="sxs-lookup"><span data-stu-id="f4e0b-137">**Object**</span></span>  | <span data-ttu-id="f4e0b-138">**Mô tả**</span><span class="sxs-lookup"><span data-stu-id="f4e0b-138">**Description**</span></span>|
|-----------------|----------------|
|<span data-ttu-id="f4e0b-139">formSelector</span><span class="sxs-lookup"><span data-stu-id="f4e0b-139">formSelector</span></span>|<span data-ttu-id="f4e0b-140">Provides an items collection that provides capabilities to query the forms available for the current user.</span><span class="sxs-lookup"><span data-stu-id="f4e0b-140">Provides an items collection that provides capabilities to query the forms available for the current user.</span></span> <span data-ttu-id="f4e0b-141">Use the navigate method to close the current form and open a different one.</span><span class="sxs-lookup"><span data-stu-id="f4e0b-141">Use the navigate method to close the current form and open a different one.</span></span>|
|<span data-ttu-id="f4e0b-142">navigation</span><span class="sxs-lookup"><span data-stu-id="f4e0b-142">navigation</span></span>|<span data-ttu-id="f4e0b-143">Does not contain any methods.</span><span class="sxs-lookup"><span data-stu-id="f4e0b-143">Does not contain any methods.</span></span> <span data-ttu-id="f4e0b-144">Provides access to navigation items through the items collection.</span><span class="sxs-lookup"><span data-stu-id="f4e0b-144">Provides access to navigation items through the items collection.</span></span> <span data-ttu-id="f4e0b-145">See the next section on collections for more information.</span><span class="sxs-lookup"><span data-stu-id="f4e0b-145">See the next section on collections for more information.</span></span>|
|<span data-ttu-id="f4e0b-146">process</span><span class="sxs-lookup"><span data-stu-id="f4e0b-146">process</span></span>|<span data-ttu-id="f4e0b-147">Provides methods to interact with the business process flow control on a form.</span><span class="sxs-lookup"><span data-stu-id="f4e0b-147">Provides methods to interact with the business process flow control on a form.</span></span>|

<span data-ttu-id="f4e0b-148">More information: [formContext.ui](reference/formContext-ui.md)</span><span class="sxs-lookup"><span data-stu-id="f4e0b-148">More information: [formContext.ui](reference/formContext-ui.md)</span></span>

## <a name="collections-in-the-formcontext-object-model"></a><span data-ttu-id="f4e0b-149">Collections in the formContext object model</span><span class="sxs-lookup"><span data-stu-id="f4e0b-149">Collections in the formContext object model</span></span>

<span data-ttu-id="f4e0b-150">The following table describes the collections in **Xrm** object model.</span><span class="sxs-lookup"><span data-stu-id="f4e0b-150">The following table describes the collections in **Xrm** object model.</span></span> <span data-ttu-id="f4e0b-151">For information about the methods available for collections in general, see [Collections (Client API reference)](reference/collections.md).</span><span class="sxs-lookup"><span data-stu-id="f4e0b-151">For information about the methods available for collections in general, see [Collections (Client API reference)](reference/collections.md).</span></span>


| <span data-ttu-id="f4e0b-152">**Thu thập**</span><span class="sxs-lookup"><span data-stu-id="f4e0b-152">**Collection**</span></span> |  <span data-ttu-id="f4e0b-153">**Mô tả**</span><span class="sxs-lookup"><span data-stu-id="f4e0b-153">**Description**</span></span>  |
|-----------|-----------------|
| [<span data-ttu-id="f4e0b-154">attributes</span><span class="sxs-lookup"><span data-stu-id="f4e0b-154">attributes</span></span>](reference/attributes.md) | <span data-ttu-id="f4e0b-155">Two objects contain an attributes collection:</span><span class="sxs-lookup"><span data-stu-id="f4e0b-155">Two objects contain an attributes collection:</span></span><br/><br/><span data-ttu-id="f4e0b-156">- **formContext.data.attributes** collection provides access to non-entity bound attributes.</span><span class="sxs-lookup"><span data-stu-id="f4e0b-156">- **formContext.data.attributes** collection provides access to non-entity bound attributes.</span></span><br/><br/><span data-ttu-id="f4e0b-157">- **formContext.data.entity.attributes** collection provides access to each entity attribute that is available on the form.</span><span class="sxs-lookup"><span data-stu-id="f4e0b-157">- **formContext.data.entity.attributes** collection provides access to each entity attribute that is available on the form.</span></span> <span data-ttu-id="f4e0b-158">Only those attributes that correspond to fields added to the form are available.</span><span class="sxs-lookup"><span data-stu-id="f4e0b-158">Only those attributes that correspond to fields added to the form are available.</span></span> |
| [<span data-ttu-id="f4e0b-159">controls</span><span class="sxs-lookup"><span data-stu-id="f4e0b-159">controls</span></span>](reference/controls.md) | <span data-ttu-id="f4e0b-160">Three objects contain a controls collection:</span><span class="sxs-lookup"><span data-stu-id="f4e0b-160">Three objects contain a controls collection:</span></span><br/><br/> <span data-ttu-id="f4e0b-161">- **formContext.ui.controls**: Provides access to each control present on the form.</span><span class="sxs-lookup"><span data-stu-id="f4e0b-161">- **formContext.ui.controls**: Provides access to each control present on the form.</span></span><br/><br/><span data-ttu-id="f4e0b-162">- **formContext.data.entity.attribute.controls**: Because an attribute may have more than one control on the form, this collection provides access to each of them.</span><span class="sxs-lookup"><span data-stu-id="f4e0b-162">- **formContext.data.entity.attribute.controls**: Because an attribute may have more than one control on the form, this collection provides access to each of them.</span></span> <span data-ttu-id="f4e0b-163">This collection will contain only one item unless multiple controls for the attribute are added to the form.</span><span class="sxs-lookup"><span data-stu-id="f4e0b-163">This collection will contain only one item unless multiple controls for the attribute are added to the form.</span></span><br/><br/><span data-ttu-id="f4e0b-164">- **formContext.ui.tabs.sections.controls**: This collection only contains the controls found in the section.</span><span class="sxs-lookup"><span data-stu-id="f4e0b-164">- **formContext.ui.tabs.sections.controls**: This collection only contains the controls found in the section.</span></span> |
| <span data-ttu-id="f4e0b-165">**formContext.data.process.**[stages](reference/formContext-data-process/process/getStages.md) and **formContext.data.process**.[steps](reference/formContext-data-process/stage/getSteps.md)</span><span class="sxs-lookup"><span data-stu-id="f4e0b-165">**formContext.data.process.**[stages](reference/formContext-data-process/process/getStages.md) and **formContext.data.process**.[steps](reference/formContext-data-process/stage/getSteps.md)</span></span> | <span data-ttu-id="f4e0b-166">Provides access to stages and steps collection in a business process flow.</span><span class="sxs-lookup"><span data-stu-id="f4e0b-166">Provides access to stages and steps collection in a business process flow.</span></span> <span data-ttu-id="f4e0b-167">These also allow for adding and removing of items from the collection.</span><span class="sxs-lookup"><span data-stu-id="f4e0b-167">These also allow for adding and removing of items from the collection.</span></span> |
| <span data-ttu-id="f4e0b-168">**formContext.ui.formselector.**[items](reference/formContext-ui-formselector.md)</span><span class="sxs-lookup"><span data-stu-id="f4e0b-168">**formContext.ui.formselector.**[items](reference/formContext-ui-formselector.md)</span></span>  | <span data-ttu-id="f4e0b-169">When multiple forms are provided for an entity, you can associate each form with security roles.</span><span class="sxs-lookup"><span data-stu-id="f4e0b-169">When multiple forms are provided for an entity, you can associate each form with security roles.</span></span> <span data-ttu-id="f4e0b-170">When the security roles associated with a user enable them to see more than one form, the **formContext.ui.formSelector.items** collection provides access to each form definition available to that user.</span><span class="sxs-lookup"><span data-stu-id="f4e0b-170">When the security roles associated with a user enable them to see more than one form, the **formContext.ui.formSelector.items** collection provides access to each form definition available to that user.</span></span> |
| <span data-ttu-id="f4e0b-171">**formContext.ui.navigation.**[items](reference/formContext-ui-navigation.md)</span><span class="sxs-lookup"><span data-stu-id="f4e0b-171">**formContext.ui.navigation.**[items](reference/formContext-ui-navigation.md)</span></span> | <span data-ttu-id="f4e0b-172">The **formContext.ui.navigation.items** collection provides access to navigation items that are defined using the navigation area of the form editor.</span><span class="sxs-lookup"><span data-stu-id="f4e0b-172">The **formContext.ui.navigation.items** collection provides access to navigation items that are defined using the navigation area of the form editor.</span></span> <span data-ttu-id="f4e0b-173">People navigate to these using the command bar.</span><span class="sxs-lookup"><span data-stu-id="f4e0b-173">People navigate to these using the command bar.</span></span> |
| <span data-ttu-id="f4e0b-174">**formContext.ui.**[quickForms](reference/formContext-ui-quickForms.md)</span><span class="sxs-lookup"><span data-stu-id="f4e0b-174">**formContext.ui.**[quickForms](reference/formContext-ui-quickForms.md)</span></span> | <span data-ttu-id="f4e0b-175">Provides methods to access all the quick view controls and its constituent controls on the Customer Enagagement forms.</span><span class="sxs-lookup"><span data-stu-id="f4e0b-175">Provides methods to access all the quick view controls and its constituent controls on the Customer Enagagement forms.</span></span> |
| <span data-ttu-id="f4e0b-176">**formContext.ui.**[tabs](reference/formContext-ui-tabs.md)</span><span class="sxs-lookup"><span data-stu-id="f4e0b-176">**formContext.ui.**[tabs](reference/formContext-ui-tabs.md)</span></span> | <span data-ttu-id="f4e0b-177">You can organize each form by using one or more tabs.</span><span class="sxs-lookup"><span data-stu-id="f4e0b-177">You can organize each form by using one or more tabs.</span></span> <span data-ttu-id="f4e0b-178">This collection provides access to each of these tabs.</span><span class="sxs-lookup"><span data-stu-id="f4e0b-178">This collection provides access to each of these tabs.</span></span> |
| <span data-ttu-id="f4e0b-179">**formContext.ui.tabs.**[sections](reference/formContext-ui-sections.md)</span><span class="sxs-lookup"><span data-stu-id="f4e0b-179">**formContext.ui.tabs.**[sections](reference/formContext-ui-sections.md)</span></span> | <span data-ttu-id="f4e0b-180">You can organize each form tab by using one or more sections.</span><span class="sxs-lookup"><span data-stu-id="f4e0b-180">You can organize each form tab by using one or more sections.</span></span> <span data-ttu-id="f4e0b-181">The tab **sections** collection provides access to each of these sections.</span><span class="sxs-lookup"><span data-stu-id="f4e0b-181">The tab **sections** collection provides access to each of these sections.</span></span>|

### <a name="related-topics"></a><span data-ttu-id="f4e0b-182">Chủ đề liên quan</span><span class="sxs-lookup"><span data-stu-id="f4e0b-182">Related topics</span></span>

[<span data-ttu-id="f4e0b-183">getFormContext method</span><span class="sxs-lookup"><span data-stu-id="f4e0b-183">getFormContext method</span></span>](reference/executioncontext/getFormContext.md)

[<span data-ttu-id="f4e0b-184">getGlobalContext method</span><span class="sxs-lookup"><span data-stu-id="f4e0b-184">getGlobalContext method</span></span>](reference/xrm-utility/getGlobalContext.md)

[<span data-ttu-id="f4e0b-185">Execution context methods</span><span class="sxs-lookup"><span data-stu-id="f4e0b-185">Execution context methods</span></span>](reference/execution-context.md) 



