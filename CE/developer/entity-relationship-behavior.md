---
title: Entity relationship behavior (Developer Guide for Dynamics 365 for Customer Engagement apps) | MicrosoftDocs
descriptions: Cascading of behaviors may arise in case of one-to-many entity relationships and they can be configured to preserve data integrity and automate business processes
ms.custom: ''
ms.date: 11/03/2017
ms.reviewer: ''
ms.service: crm-online
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
applies_to:
- Dynamics 365 for Customer Engagement (online)
helpviewer_keywords:
- entity relationship behaviors, automating business processes
- entity relationship behaviors, preserving data integrity
- reparent actions
- automating business processes
- entity relationship behaviors, overview
- parental relationships between entities
- entity relationship behaviors, parental relationships between entities
- cascading behaviors from one-to-many entity relationships
- entity relationship behaviors, reparent actions
- configuring entity relationship behaviors, associated classes and properties to use
- entity relationship behaviors, configuring entity relationship behaviors
- entity relationship behaviors, cascading behaviors from one-to-many entity relationships
- preserving data integrity
- entity relationship behaviors, cascading behaviors of related entities in the entity hierarchy
ms.assetid: 841dbfc8-05e1-4992-83ac-b9d47eab1e7b
caps.latest.revision: 27
author: JimDaly
ms.author: jdaly
manager: amyla
search.audienceType:
- developer
search.app:
- D365CE
ms.openlocfilehash: 0f5c4be646baffda04a539b4b64dc6f875fda372
ms.sourcegitcommit: 9f0efd59de16a6d9902fa372cb25fc0baf1c2838
ms.translationtype: HT
ms.contentlocale: vi-VN
ms.lasthandoff: 01/08/2019
ms.locfileid: "388410"
---
# <a name="entity-relationship-behavior"></a><span data-ttu-id="3dcea-102">Entity relationship behavior</span><span class="sxs-lookup"><span data-stu-id="3dcea-102">Entity relationship behavior</span></span>

[!INCLUDE[](../includes/cc_applies_to_update_9_0_0.md)]

<span data-ttu-id="3dcea-103">When a one-to-many entity relationship exists there are cascading behaviors that can be configured to preserve data integrity and automate business processes.</span><span class="sxs-lookup"><span data-stu-id="3dcea-103">When a one-to-many entity relationship exists there are cascading behaviors that can be configured to preserve data integrity and automate business processes.</span></span> <span data-ttu-id="3dcea-104">This topic will explain some key concepts and describe how you can configure these cascading behaviors.</span><span class="sxs-lookup"><span data-stu-id="3dcea-104">This topic will explain some key concepts and describe how you can configure these cascading behaviors.</span></span>  
  
 <span data-ttu-id="3dcea-105">Before describing how to configure entity relationship behaviors it is useful to consider how it applies to your business.</span><span class="sxs-lookup"><span data-stu-id="3dcea-105">Before describing how to configure entity relationship behaviors it is useful to consider how it applies to your business.</span></span> <span data-ttu-id="3dcea-106">Three key concepts are:</span><span class="sxs-lookup"><span data-stu-id="3dcea-106">Three key concepts are:</span></span>  
  
-   [<span data-ttu-id="3dcea-107">Bảo vệ tính toàn vẹn của dữ liệu</span><span class="sxs-lookup"><span data-stu-id="3dcea-107">Preserve data integrity</span></span>](entity-relationship-behavior.md#BKMK_DataIntegrity)  
  
-   [<span data-ttu-id="3dcea-108">Quy trình công việc tự động</span><span class="sxs-lookup"><span data-stu-id="3dcea-108">Automate business processes</span></span>](entity-relationship-behavior.md#BKMK_BusinessProcesses)  
  
-   [<span data-ttu-id="3dcea-109">Cascading behavior</span><span class="sxs-lookup"><span data-stu-id="3dcea-109">Cascading behavior</span></span>](entity-relationship-behavior.md#BKMK_CascadingBehavior)  
  
<a name="BKMK_DataIntegrity"></a>   
## <a name="preserve-data-integrity"></a><span data-ttu-id="3dcea-110">Bảo vệ tính toàn vẹn của dữ liệu</span><span class="sxs-lookup"><span data-stu-id="3dcea-110">Preserve data integrity</span></span>  
 <span data-ttu-id="3dcea-111">Each entity can have rules that define a valid record.</span><span class="sxs-lookup"><span data-stu-id="3dcea-111">Each entity can have rules that define a valid record.</span></span> <span data-ttu-id="3dcea-112">For example, a [!INCLUDE[pn_dynamics_crm](../includes/pn-dynamics-crm.md)] apps opportunity record must include a reference to a potential customer.</span><span class="sxs-lookup"><span data-stu-id="3dcea-112">For example, a [!INCLUDE[pn_dynamics_crm](../includes/pn-dynamics-crm.md)] apps opportunity record must include a reference to a potential customer.</span></span> <span data-ttu-id="3dcea-113">Users can’t create a new opportunity record without either adding an existing customer or creating a new customer record.</span><span class="sxs-lookup"><span data-stu-id="3dcea-113">Users can’t create a new opportunity record without either adding an existing customer or creating a new customer record.</span></span>  
  
 <span data-ttu-id="3dcea-114">But what if the account or contact that represents the customer is deleted?</span><span class="sxs-lookup"><span data-stu-id="3dcea-114">But what if the account or contact that represents the customer is deleted?</span></span> <span data-ttu-id="3dcea-115">In a case like this, possible alternatives are to either:</span><span class="sxs-lookup"><span data-stu-id="3dcea-115">In a case like this, possible alternatives are to either:</span></span>  
  
- <span data-ttu-id="3dcea-116">Restrict any attempt to delete a customer record with an associated opportunity.</span><span class="sxs-lookup"><span data-stu-id="3dcea-116">Restrict any attempt to delete a customer record with an associated opportunity.</span></span>  
  
- <span data-ttu-id="3dcea-117">Cascade the delete action when a corresponding customer record is deleted so that any related opportunity records are automatically deleted.</span><span class="sxs-lookup"><span data-stu-id="3dcea-117">Cascade the delete action when a corresponding customer record is deleted so that any related opportunity records are automatically deleted.</span></span>  
  
  <span data-ttu-id="3dcea-118">In [!INCLUDE[pn_dynamics_crm](../includes/pn-dynamics-crm.md)] apps for the one-to-many relationships that relate opportunities with customers, such as `Opportunity.opportunity_customer_accounts` and `Contact.opportunity_customer_contacts`, the behavior is to cascade the delete action.</span><span class="sxs-lookup"><span data-stu-id="3dcea-118">In [!INCLUDE[pn_dynamics_crm](../includes/pn-dynamics-crm.md)] apps for the one-to-many relationships that relate opportunities with customers, such as `Opportunity.opportunity_customer_accounts` and `Contact.opportunity_customer_contacts`, the behavior is to cascade the delete action.</span></span>  
  
  <span data-ttu-id="3dcea-119">When you model your data to use in [!INCLUDE[pn_dynamics_crm](../includes/pn-dynamics-crm.md)] apps you will have similar decisions for how you want to preserve data integrity.</span><span class="sxs-lookup"><span data-stu-id="3dcea-119">When you model your data to use in [!INCLUDE[pn_dynamics_crm](../includes/pn-dynamics-crm.md)] apps you will have similar decisions for how you want to preserve data integrity.</span></span>  
  
<a name="BKMK_BusinessProcesses"></a>   
## <a name="automate-business-processes"></a><span data-ttu-id="3dcea-120">Automate business processes</span><span class="sxs-lookup"><span data-stu-id="3dcea-120">Automate business processes</span></span>  
 <span data-ttu-id="3dcea-121">Your business processes may require you to perform actions on records that have related records.</span><span class="sxs-lookup"><span data-stu-id="3dcea-121">Your business processes may require you to perform actions on records that have related records.</span></span> <span data-ttu-id="3dcea-122">For example, you may need to assign an account to a new salesperson.</span><span class="sxs-lookup"><span data-stu-id="3dcea-122">For example, you may need to assign an account to a new salesperson.</span></span> <span data-ttu-id="3dcea-123">If that account record has any opportunity records, some options include:</span><span class="sxs-lookup"><span data-stu-id="3dcea-123">If that account record has any opportunity records, some options include:</span></span>  
  
- <span data-ttu-id="3dcea-124">**Không phải làm gì.**</span><span class="sxs-lookup"><span data-stu-id="3dcea-124">**Do nothing.**</span></span> <span data-ttu-id="3dcea-125">The opportunities should continue to be owned by the individuals who work on them.</span><span class="sxs-lookup"><span data-stu-id="3dcea-125">The opportunities should continue to be owned by the individuals who work on them.</span></span>  
  
- <span data-ttu-id="3dcea-126">**Assign all the opportunities to the new salesperson.**</span><span class="sxs-lookup"><span data-stu-id="3dcea-126">**Assign all the opportunities to the new salesperson.**</span></span> <span data-ttu-id="3dcea-127">As the new owner of this account record, the salesperson is now responsible for all opportunities related to that account.</span><span class="sxs-lookup"><span data-stu-id="3dcea-127">As the new owner of this account record, the salesperson is now responsible for all opportunities related to that account.</span></span>  
  
- <span data-ttu-id="3dcea-128">**Only assign the active opportunities to the new salesperson.**</span><span class="sxs-lookup"><span data-stu-id="3dcea-128">**Only assign the active opportunities to the new salesperson.**</span></span> <span data-ttu-id="3dcea-129">Preserve the owner for any inactive opportunity records for reporting purposes.</span><span class="sxs-lookup"><span data-stu-id="3dcea-129">Preserve the owner for any inactive opportunity records for reporting purposes.</span></span>  
  
- <span data-ttu-id="3dcea-130">**Only assign the opportunities owned by the previous account owner to the new salesperson**.</span><span class="sxs-lookup"><span data-stu-id="3dcea-130">**Only assign the opportunities owned by the previous account owner to the new salesperson**.</span></span> <span data-ttu-id="3dcea-131">This allows the new salesperson to replace the previous owner.</span><span class="sxs-lookup"><span data-stu-id="3dcea-131">This allows the new salesperson to replace the previous owner.</span></span>  
  
  <span data-ttu-id="3dcea-132">These options are common ones you can configure using entity relationship behavior in [!INCLUDE[pn_dynamics_crm](../includes/pn-dynamics-crm.md)] apps.</span><span class="sxs-lookup"><span data-stu-id="3dcea-132">These options are common ones you can configure using entity relationship behavior in [!INCLUDE[pn_dynamics_crm](../includes/pn-dynamics-crm.md)] apps.</span></span> <span data-ttu-id="3dcea-133">If you require different behaviors consider purchasing a solution containing the behavior you need or developing a plugin to provide additional options.</span><span class="sxs-lookup"><span data-stu-id="3dcea-133">If you require different behaviors consider purchasing a solution containing the behavior you need or developing a plugin to provide additional options.</span></span>  
  
<a name="BKMK_CascadingBehavior"></a>   
## <a name="cascading-behavior"></a><span data-ttu-id="3dcea-134">Cascading behavior</span><span class="sxs-lookup"><span data-stu-id="3dcea-134">Cascading behavior</span></span>  
 <span data-ttu-id="3dcea-135">These configuration options are called cascading behaviors because they cascade down the hierarchy of related entities.</span><span class="sxs-lookup"><span data-stu-id="3dcea-135">These configuration options are called cascading behaviors because they cascade down the hierarchy of related entities.</span></span> <span data-ttu-id="3dcea-136">For example, if deleting an account causes related opportunities to be deleted, what about the activities associated with the opportunities?</span><span class="sxs-lookup"><span data-stu-id="3dcea-136">For example, if deleting an account causes related opportunities to be deleted, what about the activities associated with the opportunities?</span></span> <span data-ttu-id="3dcea-137">In [!INCLUDE[pn_dynamics_crm](../includes/pn-dynamics-crm.md)] apps the behavior defined in each of the entity relationships for activity type entities is that they are deleted as well.</span><span class="sxs-lookup"><span data-stu-id="3dcea-137">In [!INCLUDE[pn_dynamics_crm](../includes/pn-dynamics-crm.md)] apps the behavior defined in each of the entity relationships for activity type entities is that they are deleted as well.</span></span>  
  
 <span data-ttu-id="3dcea-138">However, not all entities are treated this way.</span><span class="sxs-lookup"><span data-stu-id="3dcea-138">However, not all entities are treated this way.</span></span> <span data-ttu-id="3dcea-139">For example, orders and invoices contain important business data that shouldn’t be inadvertently deleted.</span><span class="sxs-lookup"><span data-stu-id="3dcea-139">For example, orders and invoices contain important business data that shouldn’t be inadvertently deleted.</span></span> <span data-ttu-id="3dcea-140">They have entity relationship behavior configured to restrict deleting customer or opportunity records that they are associated with.</span><span class="sxs-lookup"><span data-stu-id="3dcea-140">They have entity relationship behavior configured to restrict deleting customer or opportunity records that they are associated with.</span></span> <span data-ttu-id="3dcea-141">Before you can delete the customer or opportunity that has a related order or invoice record, you must delete the order or invoice first.</span><span class="sxs-lookup"><span data-stu-id="3dcea-141">Before you can delete the customer or opportunity that has a related order or invoice record, you must delete the order or invoice first.</span></span>  
  
 <span data-ttu-id="3dcea-142">As you model your business data by creating custom entities or when using existing [!INCLUDE[pn_dynamics_crm](../includes/pn-dynamics-crm.md)] apps system entities, consider the behavior you require and the implications for the entire hierarchy of related entities.</span><span class="sxs-lookup"><span data-stu-id="3dcea-142">As you model your business data by creating custom entities or when using existing [!INCLUDE[pn_dynamics_crm](../includes/pn-dynamics-crm.md)] apps system entities, consider the behavior you require and the implications for the entire hierarchy of related entities.</span></span>  
  
<a name="BKMK_ParentalEntityRelationships"></a>   
## <a name="parental-entity-relationships"></a><span data-ttu-id="3dcea-143">Mối quan hệ thực thể cấp độ cha</span><span class="sxs-lookup"><span data-stu-id="3dcea-143">Parental entity relationships</span></span>  
 <span data-ttu-id="3dcea-144">Mỗi cặp thực thể đủ điều kiện có một mối quan hệ 1:N có thể có nhiều mối quan hệ 1:N giữa chúng.</span><span class="sxs-lookup"><span data-stu-id="3dcea-144">Each pair of entities that are eligible to have a 1:N relationship can have multiple 1:N relationships between them.</span></span> <span data-ttu-id="3dcea-145">Yet only one of those relationships can be considered a *parental* entity relationship.</span><span class="sxs-lookup"><span data-stu-id="3dcea-145">Yet only one of those relationships can be considered a *parental* entity relationship.</span></span> <span data-ttu-id="3dcea-146">See [Customizable parental entity relationships](https://technet.microsoft.com/library/dn531061.aspx) for a list of all the customizable parental entity relationships.</span><span class="sxs-lookup"><span data-stu-id="3dcea-146">See [Customizable parental entity relationships](https://technet.microsoft.com/library/dn531061.aspx) for a list of all the customizable parental entity relationships.</span></span>  
  
 <span data-ttu-id="3dcea-147">A parental entity relationship is any 1:N entity relationship where one of the cascading options (defined in <xref:Microsoft.Xrm.Sdk.Metadata.CascadeType>) in the **Parental** column of the following table is true.</span><span class="sxs-lookup"><span data-stu-id="3dcea-147">A parental entity relationship is any 1:N entity relationship where one of the cascading options (defined in <xref:Microsoft.Xrm.Sdk.Metadata.CascadeType>) in the **Parental** column of the following table is true.</span></span>  
  
|<span data-ttu-id="3dcea-148">Hành động</span><span class="sxs-lookup"><span data-stu-id="3dcea-148">Action</span></span>|<span data-ttu-id="3dcea-149">Mục mẹ</span><span class="sxs-lookup"><span data-stu-id="3dcea-149">Parental</span></span>|<span data-ttu-id="3dcea-150">Không phải Mục mẹ</span><span class="sxs-lookup"><span data-stu-id="3dcea-150">Not Parental</span></span>|  
|------------|--------------|------------------|  
|<span data-ttu-id="3dcea-151">**Xóa**</span><span class="sxs-lookup"><span data-stu-id="3dcea-151">**Delete**</span></span>|<span data-ttu-id="3dcea-152">Cascade</span><span class="sxs-lookup"><span data-stu-id="3dcea-152">Cascade</span></span>|<span data-ttu-id="3dcea-153">Loại bỏ Liên kết</span><span class="sxs-lookup"><span data-stu-id="3dcea-153">RemoveLink</span></span><br /><span data-ttu-id="3dcea-154">Hạn chế</span><span class="sxs-lookup"><span data-stu-id="3dcea-154">Restrict</span></span>|  
|<span data-ttu-id="3dcea-155">**Chia sẻ**</span><span class="sxs-lookup"><span data-stu-id="3dcea-155">**Share**</span></span>|<span data-ttu-id="3dcea-156">Cascade</span><span class="sxs-lookup"><span data-stu-id="3dcea-156">Cascade</span></span><br /><span data-ttu-id="3dcea-157">UserOwned</span><span class="sxs-lookup"><span data-stu-id="3dcea-157">UserOwned</span></span><br /><span data-ttu-id="3dcea-158">Hoạt động</span><span class="sxs-lookup"><span data-stu-id="3dcea-158">Active</span></span>|<span data-ttu-id="3dcea-159">NoCascade</span><span class="sxs-lookup"><span data-stu-id="3dcea-159">NoCascade</span></span>|  
|<span data-ttu-id="3dcea-160">**Không chia sẻ**</span><span class="sxs-lookup"><span data-stu-id="3dcea-160">**Unshare**</span></span>|<span data-ttu-id="3dcea-161">Cascade</span><span class="sxs-lookup"><span data-stu-id="3dcea-161">Cascade</span></span><br /><span data-ttu-id="3dcea-162">UserOwned</span><span class="sxs-lookup"><span data-stu-id="3dcea-162">UserOwned</span></span><br /><span data-ttu-id="3dcea-163">Hoạt động</span><span class="sxs-lookup"><span data-stu-id="3dcea-163">Active</span></span>|<span data-ttu-id="3dcea-164">NoCascade</span><span class="sxs-lookup"><span data-stu-id="3dcea-164">NoCascade</span></span>|  
|<span data-ttu-id="3dcea-165">**Gán**</span><span class="sxs-lookup"><span data-stu-id="3dcea-165">**Assign**</span></span>|<span data-ttu-id="3dcea-166">Cascade</span><span class="sxs-lookup"><span data-stu-id="3dcea-166">Cascade</span></span><br /><span data-ttu-id="3dcea-167">UserOwned</span><span class="sxs-lookup"><span data-stu-id="3dcea-167">UserOwned</span></span><br /><span data-ttu-id="3dcea-168">Hoạt động</span><span class="sxs-lookup"><span data-stu-id="3dcea-168">Active</span></span>|<span data-ttu-id="3dcea-169">NoCascade</span><span class="sxs-lookup"><span data-stu-id="3dcea-169">NoCascade</span></span>|  
|<span data-ttu-id="3dcea-170">**Đổi mục mẹ**</span><span class="sxs-lookup"><span data-stu-id="3dcea-170">**Reparent**</span></span>|<span data-ttu-id="3dcea-171">Cascade</span><span class="sxs-lookup"><span data-stu-id="3dcea-171">Cascade</span></span><br /><span data-ttu-id="3dcea-172">UserOwned</span><span class="sxs-lookup"><span data-stu-id="3dcea-172">UserOwned</span></span><br /><span data-ttu-id="3dcea-173">Hoạt động</span><span class="sxs-lookup"><span data-stu-id="3dcea-173">Active</span></span>|<span data-ttu-id="3dcea-174">NoCascade</span><span class="sxs-lookup"><span data-stu-id="3dcea-174">NoCascade</span></span>|  
  
 <span data-ttu-id="3dcea-175">Each referencing entity in a 1:N entity relationship has one referencing  attribute where the relationship can be considered parental.</span><span class="sxs-lookup"><span data-stu-id="3dcea-175">Each referencing entity in a 1:N entity relationship has one referencing  attribute where the relationship can be considered parental.</span></span>  
  
 <span data-ttu-id="3dcea-176">For example, if you create a new custom entity and add a 1:N entity relationship with the account entity where your custom entity is the referencing entity, you can configure the actions for that entity relationship to use the options in the **Parental** column.</span><span class="sxs-lookup"><span data-stu-id="3dcea-176">For example, if you create a new custom entity and add a 1:N entity relationship with the account entity where your custom entity is the referencing entity, you can configure the actions for that entity relationship to use the options in the **Parental** column.</span></span> <span data-ttu-id="3dcea-177">Nếu sau đó, bạn thêm một mối quan hệ 1:N khác của thực thể có thực thể tuỳ chỉnh của bạn làm thực thể tham chiếu, thì bạn chỉ có thể định cấu hình hành động để sử dụng các tùy chọn trong cột **Không phải Mục mẹ**.</span><span class="sxs-lookup"><span data-stu-id="3dcea-177">If you later add another 1:N entity relationship with your custom entity as the referencing entity you can only configure the actions to use the options in the **Not Parental** column.</span></span>  
  
 <span data-ttu-id="3dcea-178">Thông thường, điều này có nghĩa là với mỗi cặp thực thể, chỉ có duy nhất một mối quan hệ phụ huynh.</span><span class="sxs-lookup"><span data-stu-id="3dcea-178">Usually this means that for each entity pair there is only one parental relationship.</span></span> <span data-ttu-id="3dcea-179">There are some cases where the referencing attribute on the referencing may include a reference to more than one type of entity.</span><span class="sxs-lookup"><span data-stu-id="3dcea-179">There are some cases where the referencing attribute on the referencing may include a reference to more than one type of entity.</span></span>  
  
 <span data-ttu-id="3dcea-180">For example, the `Opportunity` entity has a referencing attribute called `customerid` where a reference to either a contact or account record may be stored.</span><span class="sxs-lookup"><span data-stu-id="3dcea-180">For example, the `Opportunity` entity has a referencing attribute called `customerid` where a reference to either a contact or account record may be stored.</span></span> <span data-ttu-id="3dcea-181">There are two separate parental 1:N entity relationships in this case.</span><span class="sxs-lookup"><span data-stu-id="3dcea-181">There are two separate parental 1:N entity relationships in this case.</span></span>  
  
 <span data-ttu-id="3dcea-182">Any activity entity, for example, a task, fax, phone call, and so on, has a similar set of parental entity relationships for entities that can be associated using the `regardingobjectid` referencing attribute.</span><span class="sxs-lookup"><span data-stu-id="3dcea-182">Any activity entity, for example, a task, fax, phone call, and so on, has a similar set of parental entity relationships for entities that can be associated using the `regardingobjectid` referencing attribute.</span></span>  
  
<a name="BKMK_ConfigureEntityRelationshipBehavior"></a>   
## <a name="configure-entity-relationship-behavior"></a><span data-ttu-id="3dcea-183"> Đặt cấu hình hành vi của mối quan hệ thực thể</span><span class="sxs-lookup"><span data-stu-id="3dcea-183">Configure entity relationship behavior</span></span>  

### <a name="using-web-api"></a><span data-ttu-id="3dcea-184">Using Web API</span><span class="sxs-lookup"><span data-stu-id="3dcea-184">Using Web API</span></span>

<span data-ttu-id="3dcea-185">When working with Web API, you can define a One-to-Many relationship using <xref href="Microsoft.Dynamics.CRM.OneToManyRelationshipMetadata?text=OneToManyRelationshipMetadata EntityType" />.</span><span class="sxs-lookup"><span data-stu-id="3dcea-185">When working with Web API, you can define a One-to-Many relationship using <xref href="Microsoft.Dynamics.CRM.OneToManyRelationshipMetadata?text=OneToManyRelationshipMetadata EntityType" />.</span></span> <span data-ttu-id="3dcea-186">This definition includes the name of the intersect entity to be created as well as how the relationship should be displayed in the application by using <xref href="Microsoft.Dynamics.CRM.AssociatedMenuConfiguration?text=AssociatedMenuConfiguration ComplexType" />, <xref href="Microsoft.Dynamics.CRM.Label?text=Label ComplexType" /> and <xref href="Microsoft.Dynamics.CRM.LocalizedLabel?text=LocalizedLabel ComplexType" />.</span><span class="sxs-lookup"><span data-stu-id="3dcea-186">This definition includes the name of the intersect entity to be created as well as how the relationship should be displayed in the application by using <xref href="Microsoft.Dynamics.CRM.AssociatedMenuConfiguration?text=AssociatedMenuConfiguration ComplexType" />, <xref href="Microsoft.Dynamics.CRM.Label?text=Label ComplexType" /> and <xref href="Microsoft.Dynamics.CRM.LocalizedLabel?text=LocalizedLabel ComplexType" />.</span></span> <span data-ttu-id="3dcea-187">More information: [Create a One-to-Many relationship using Web API](webapi/create-update-entity-relationships-using-web-api.md#create-a-one-to-many-relationship).</span><span class="sxs-lookup"><span data-stu-id="3dcea-187">More information: [Create a One-to-Many relationship using Web API](webapi/create-update-entity-relationships-using-web-api.md#create-a-one-to-many-relationship).</span></span>

### <a name="using-organization-service"></a><span data-ttu-id="3dcea-188">Using Organization Service</span><span class="sxs-lookup"><span data-stu-id="3dcea-188">Using Organization Service</span></span>

<span data-ttu-id="3dcea-189">When you use <xref:Microsoft.Xrm.Sdk.Messages.CreateOneToManyRequest> or <xref:Microsoft.Xrm.Sdk.Messages.UpdateRelationshipRequest> you include an instance of a <xref:Microsoft.Xrm.Sdk.Metadata.OneToManyRelationshipMetadata> class in the body of the request.</span><span class="sxs-lookup"><span data-stu-id="3dcea-189">When you use <xref:Microsoft.Xrm.Sdk.Messages.CreateOneToManyRequest> or <xref:Microsoft.Xrm.Sdk.Messages.UpdateRelationshipRequest> you include an instance of a <xref:Microsoft.Xrm.Sdk.Metadata.OneToManyRelationshipMetadata> class in the body of the request.</span></span> <span data-ttu-id="3dcea-190">In the <xref:Microsoft.Xrm.Sdk.Metadata.OneToManyRelationshipMetadata.CascadeConfiguration> property of that class you use the <xref:Microsoft.Xrm.Sdk.Metadata.CascadeConfiguration> class.</span><span class="sxs-lookup"><span data-stu-id="3dcea-190">In the <xref:Microsoft.Xrm.Sdk.Metadata.OneToManyRelationshipMetadata.CascadeConfiguration> property of that class you use the <xref:Microsoft.Xrm.Sdk.Metadata.CascadeConfiguration> class.</span></span>  


<span data-ttu-id="3dcea-191">The `CascadeConfiguration` (<xref:Microsoft.Xrm.Sdk.Metadata.CascadeConfiguration> class or <xref href="Microsoft.Dynamics.CRM.CascadeConfiguration?text=CascadeConfiguration ComplexType" />) contains the properties representing actions that may be performed on the referenced entity in the one-to-many entity relationship.</span><span class="sxs-lookup"><span data-stu-id="3dcea-191">The `CascadeConfiguration` (<xref:Microsoft.Xrm.Sdk.Metadata.CascadeConfiguration> class or <xref href="Microsoft.Dynamics.CRM.CascadeConfiguration?text=CascadeConfiguration ComplexType" />) contains the properties representing actions that may be performed on the referenced entity in the one-to-many entity relationship.</span></span> <span data-ttu-id="3dcea-192">Each property can be assigned one of the values of the <xref href="Microsoft.Dynamics.CRM.CascadeType?text=CascadeType EnumType" />.</span><span class="sxs-lookup"><span data-stu-id="3dcea-192">Each property can be assigned one of the values of the <xref href="Microsoft.Dynamics.CRM.CascadeType?text=CascadeType EnumType" />.</span></span>  

|<span data-ttu-id="3dcea-193">Value</span><span class="sxs-lookup"><span data-stu-id="3dcea-193">Value</span></span>|<span data-ttu-id="3dcea-194">Application label</span><span class="sxs-lookup"><span data-stu-id="3dcea-194">Application label</span></span>|<span data-ttu-id="3dcea-195">Mô tả</span><span class="sxs-lookup"><span data-stu-id="3dcea-195">Description</span></span>|  
|-----------|-----------------------|-----------------|  
|<span data-ttu-id="3dcea-196">Hoạt động</span><span class="sxs-lookup"><span data-stu-id="3dcea-196">Active</span></span>|<span data-ttu-id="3dcea-197">Phân tầng mục hiện hoạt</span><span class="sxs-lookup"><span data-stu-id="3dcea-197">Cascade Active</span></span>|<span data-ttu-id="3dcea-198">Perform the action on all active referencing entity records associated with the referenced entity record.</span><span class="sxs-lookup"><span data-stu-id="3dcea-198">Perform the action on all active referencing entity records associated with the referenced entity record.</span></span>|  
|<span data-ttu-id="3dcea-199">Cascade</span><span class="sxs-lookup"><span data-stu-id="3dcea-199">Cascade</span></span>|<span data-ttu-id="3dcea-200">Phân tầng tất cả</span><span class="sxs-lookup"><span data-stu-id="3dcea-200">Cascade All</span></span>|<span data-ttu-id="3dcea-201">Perform the action on all referencing entity records associated with the referenced entity record.</span><span class="sxs-lookup"><span data-stu-id="3dcea-201">Perform the action on all referencing entity records associated with the referenced entity record.</span></span>|  
|<span data-ttu-id="3dcea-202">NoCascade</span><span class="sxs-lookup"><span data-stu-id="3dcea-202">NoCascade</span></span>|<span data-ttu-id="3dcea-203">Không phân tầng</span><span class="sxs-lookup"><span data-stu-id="3dcea-203">Cascade None</span></span>|<span data-ttu-id="3dcea-204">Không phải làm gì.</span><span class="sxs-lookup"><span data-stu-id="3dcea-204">Do nothing.</span></span>|  
|<span data-ttu-id="3dcea-205">Loại bỏ Liên kết</span><span class="sxs-lookup"><span data-stu-id="3dcea-205">RemoveLink</span></span>|<span data-ttu-id="3dcea-206">Loại bỏ liên kết</span><span class="sxs-lookup"><span data-stu-id="3dcea-206">Remove Link</span></span>|<span data-ttu-id="3dcea-207">Remove the value of the referencing attribute for all referencing entity records associated with the referenced entity record.</span><span class="sxs-lookup"><span data-stu-id="3dcea-207">Remove the value of the referencing attribute for all referencing entity records associated with the referenced entity record.</span></span>|  
|<span data-ttu-id="3dcea-208">Hạn chế</span><span class="sxs-lookup"><span data-stu-id="3dcea-208">Restrict</span></span>|<span data-ttu-id="3dcea-209">Hạn chế</span><span class="sxs-lookup"><span data-stu-id="3dcea-209">Restrict</span></span>|<span data-ttu-id="3dcea-210">Prevent the Referenced entity record from being deleted when referencing entities exist.</span><span class="sxs-lookup"><span data-stu-id="3dcea-210">Prevent the Referenced entity record from being deleted when referencing entities exist.</span></span>|  
|<span data-ttu-id="3dcea-211">UserOwned</span><span class="sxs-lookup"><span data-stu-id="3dcea-211">UserOwned</span></span>|<span data-ttu-id="3dcea-212">Phân tầng mục do người dùng sở hữu</span><span class="sxs-lookup"><span data-stu-id="3dcea-212">Cascade User Owned</span></span>|<span data-ttu-id="3dcea-213">Perform the action on all referencing entity records owned by the same user as the referenced entity record.</span><span class="sxs-lookup"><span data-stu-id="3dcea-213">Perform the action on all referencing entity records owned by the same user as the referenced entity record.</span></span>|  
  
 <span data-ttu-id="3dcea-214">The `CascadeConfiguration` (<xref:Microsoft.Xrm.Sdk.Metadata.CascadeConfiguration> class or <xref href="Microsoft.Dynamics.CRM.CascadeConfiguration?text=CascadeConfiguration ComplexType" />) contains the following properties representing actions that may be performed on the referenced entity in the one-to-many entity relationship.</span><span class="sxs-lookup"><span data-stu-id="3dcea-214">The `CascadeConfiguration` (<xref:Microsoft.Xrm.Sdk.Metadata.CascadeConfiguration> class or <xref href="Microsoft.Dynamics.CRM.CascadeConfiguration?text=CascadeConfiguration ComplexType" />) contains the following properties representing actions that may be performed on the referenced entity in the one-to-many entity relationship.</span></span>  
  
|<span data-ttu-id="3dcea-215">Hành động</span><span class="sxs-lookup"><span data-stu-id="3dcea-215">Action</span></span>|<span data-ttu-id="3dcea-216">Mô tả</span><span class="sxs-lookup"><span data-stu-id="3dcea-216">Description</span></span>|<span data-ttu-id="3dcea-217">Valid options</span><span class="sxs-lookup"><span data-stu-id="3dcea-217">Valid options</span></span>|  
|------------|-----------------|-------------------|  
|<span data-ttu-id="3dcea-218">Chỉ định</span><span class="sxs-lookup"><span data-stu-id="3dcea-218">Assign</span></span>|<span data-ttu-id="3dcea-219">The referenced entity record owner is changed.</span><span class="sxs-lookup"><span data-stu-id="3dcea-219">The referenced entity record owner is changed.</span></span>|<span data-ttu-id="3dcea-220">Hoạt động</span><span class="sxs-lookup"><span data-stu-id="3dcea-220">Active</span></span><br /><span data-ttu-id="3dcea-221">Cascade</span><span class="sxs-lookup"><span data-stu-id="3dcea-221">Cascade</span></span><br /><span data-ttu-id="3dcea-222">NoCascade</span><span class="sxs-lookup"><span data-stu-id="3dcea-222">NoCascade</span></span><br /><span data-ttu-id="3dcea-223">UserOwned</span><span class="sxs-lookup"><span data-stu-id="3dcea-223">UserOwned</span></span>|  
|<span data-ttu-id="3dcea-224">Xóa</span><span class="sxs-lookup"><span data-stu-id="3dcea-224">Delete</span></span>|<span data-ttu-id="3dcea-225">The referenced entity record is deleted.</span><span class="sxs-lookup"><span data-stu-id="3dcea-225">The referenced entity record is deleted.</span></span> <span data-ttu-id="3dcea-226">**Note:**  The options for this action are limited.</span><span class="sxs-lookup"><span data-stu-id="3dcea-226">**Note:**  The options for this action are limited.</span></span>|<span data-ttu-id="3dcea-227">Cascade</span><span class="sxs-lookup"><span data-stu-id="3dcea-227">Cascade</span></span><br /><span data-ttu-id="3dcea-228">Loại bỏ Liên kết</span><span class="sxs-lookup"><span data-stu-id="3dcea-228">RemoveLink</span></span><br /><span data-ttu-id="3dcea-229">Hạn chế</span><span class="sxs-lookup"><span data-stu-id="3dcea-229">Restrict</span></span>|  
|<span data-ttu-id="3dcea-230">Hợp nhất</span><span class="sxs-lookup"><span data-stu-id="3dcea-230">Merge</span></span>|<span data-ttu-id="3dcea-231">The record is merged with another record.</span><span class="sxs-lookup"><span data-stu-id="3dcea-231">The record is merged with another record.</span></span> <span data-ttu-id="3dcea-232">**Note:**  For referenced entities that can be merged, Cascade is the only valid option.</span><span class="sxs-lookup"><span data-stu-id="3dcea-232">**Note:**  For referenced entities that can be merged, Cascade is the only valid option.</span></span> <span data-ttu-id="3dcea-233">In other cases use NoCascade.</span><span class="sxs-lookup"><span data-stu-id="3dcea-233">In other cases use NoCascade.</span></span>|<span data-ttu-id="3dcea-234">Cascade</span><span class="sxs-lookup"><span data-stu-id="3dcea-234">Cascade</span></span><br /><span data-ttu-id="3dcea-235">NoCascade</span><span class="sxs-lookup"><span data-stu-id="3dcea-235">NoCascade</span></span>|  
|<span data-ttu-id="3dcea-236">Đổi mục mẹ</span><span class="sxs-lookup"><span data-stu-id="3dcea-236">Reparent</span></span>|<span data-ttu-id="3dcea-237">See [About the Reparent action](entity-relationship-behavior.md#BKMK_ReparentAction) below.</span><span class="sxs-lookup"><span data-stu-id="3dcea-237">See [About the Reparent action](entity-relationship-behavior.md#BKMK_ReparentAction) below.</span></span>|<span data-ttu-id="3dcea-238">Hoạt động</span><span class="sxs-lookup"><span data-stu-id="3dcea-238">Active</span></span><br /><span data-ttu-id="3dcea-239">Cascade</span><span class="sxs-lookup"><span data-stu-id="3dcea-239">Cascade</span></span><br /><span data-ttu-id="3dcea-240">NoCascade</span><span class="sxs-lookup"><span data-stu-id="3dcea-240">NoCascade</span></span><br /><span data-ttu-id="3dcea-241">UserOwned</span><span class="sxs-lookup"><span data-stu-id="3dcea-241">UserOwned</span></span>|  
|<span data-ttu-id="3dcea-242">Chia sẻ</span><span class="sxs-lookup"><span data-stu-id="3dcea-242">Share</span></span>|<span data-ttu-id="3dcea-243">When the referenced entity record is shared with another user.</span><span class="sxs-lookup"><span data-stu-id="3dcea-243">When the referenced entity record is shared with another user.</span></span>|<span data-ttu-id="3dcea-244">Hoạt động</span><span class="sxs-lookup"><span data-stu-id="3dcea-244">Active</span></span><br /><span data-ttu-id="3dcea-245">Cascade</span><span class="sxs-lookup"><span data-stu-id="3dcea-245">Cascade</span></span><br /><span data-ttu-id="3dcea-246">NoCascade</span><span class="sxs-lookup"><span data-stu-id="3dcea-246">NoCascade</span></span><br /><span data-ttu-id="3dcea-247">UserOwned</span><span class="sxs-lookup"><span data-stu-id="3dcea-247">UserOwned</span></span>|  
|<span data-ttu-id="3dcea-248">Không chia sẻ</span><span class="sxs-lookup"><span data-stu-id="3dcea-248">Unshare</span></span>|<span data-ttu-id="3dcea-249">When sharing is removed for the referenced entity record.</span><span class="sxs-lookup"><span data-stu-id="3dcea-249">When sharing is removed for the referenced entity record.</span></span>|<span data-ttu-id="3dcea-250">Hoạt động</span><span class="sxs-lookup"><span data-stu-id="3dcea-250">Active</span></span><br /><span data-ttu-id="3dcea-251">Cascade</span><span class="sxs-lookup"><span data-stu-id="3dcea-251">Cascade</span></span><br /><span data-ttu-id="3dcea-252">NoCascade</span><span class="sxs-lookup"><span data-stu-id="3dcea-252">NoCascade</span></span><br /><span data-ttu-id="3dcea-253">UserOwned</span><span class="sxs-lookup"><span data-stu-id="3dcea-253">UserOwned</span></span>|  
  
<a name="BKMK_ReparentAction"></a>   
### <a name="about-the-reparent-action"></a><span data-ttu-id="3dcea-254">About the reparent action</span><span class="sxs-lookup"><span data-stu-id="3dcea-254">About the reparent action</span></span>  
 <span data-ttu-id="3dcea-255">The reparent action is very similar to the share action except that it deals with the inherited read access rights instead of explicit read access rights.</span><span class="sxs-lookup"><span data-stu-id="3dcea-255">The reparent action is very similar to the share action except that it deals with the inherited read access rights instead of explicit read access rights.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="3dcea-256">For more information about inherited access rights, see [Use record-based security to control access to records](security-dev/use-record-based-security-control-access-records.md), especially the [Sharing and Inheritance](security-dev/use-record-based-security-control-access-records.md#BKMK_SharingAndInheritance) section.</span><span class="sxs-lookup"><span data-stu-id="3dcea-256">For more information about inherited access rights, see [Use record-based security to control access to records](security-dev/use-record-based-security-control-access-records.md), especially the [Sharing and Inheritance](security-dev/use-record-based-security-control-access-records.md#BKMK_SharingAndInheritance) section.</span></span>  
  
 <span data-ttu-id="3dcea-257">The reparent action is when you change the value of the referencing attribute in a parental relationship.</span><span class="sxs-lookup"><span data-stu-id="3dcea-257">The reparent action is when you change the value of the referencing attribute in a parental relationship.</span></span> <span data-ttu-id="3dcea-258">When a reparent action occurs, the desired scope of the inherited read access rights for related entities might change.</span><span class="sxs-lookup"><span data-stu-id="3dcea-258">When a reparent action occurs, the desired scope of the inherited read access rights for related entities might change.</span></span> <span data-ttu-id="3dcea-259">The cascade actions related to the reparent action refer to changes to read access rights for the entity record and any entity records related to it.</span><span class="sxs-lookup"><span data-stu-id="3dcea-259">The cascade actions related to the reparent action refer to changes to read access rights for the entity record and any entity records related to it.</span></span> <span data-ttu-id="3dcea-260">For more information about how an entity relationship is configured to be parental, see [Parental Entity Relationships](entity-relationship-behavior.md#BKMK_ParentalEntityRelationships).</span><span class="sxs-lookup"><span data-stu-id="3dcea-260">For more information about how an entity relationship is configured to be parental, see [Parental Entity Relationships](entity-relationship-behavior.md#BKMK_ParentalEntityRelationships).</span></span>  
  
 <span data-ttu-id="3dcea-261">For example, there is a parental relationship between Opportunity and Account based on the `CustomerId` referencing attribute.</span><span class="sxs-lookup"><span data-stu-id="3dcea-261">For example, there is a parental relationship between Opportunity and Account based on the `CustomerId` referencing attribute.</span></span> <span data-ttu-id="3dcea-262">If you are the owner of an account and there is an opportunity associated with that account, you inherit read access rights to that opportunity and any records associated with it.</span><span class="sxs-lookup"><span data-stu-id="3dcea-262">If you are the owner of an account and there is an opportunity associated with that account, you inherit read access rights to that opportunity and any records associated with it.</span></span> <span data-ttu-id="3dcea-263">If the `CustomerId` referencing attribute value for the opportunity is changed to refer to a different account, the owner of that account inherits read access rights to the opportunity if the Reparent action is Cascade.</span><span class="sxs-lookup"><span data-stu-id="3dcea-263">If the `CustomerId` referencing attribute value for the opportunity is changed to refer to a different account, the owner of that account inherits read access rights to the opportunity if the Reparent action is Cascade.</span></span> <span data-ttu-id="3dcea-264">You can disable this automatic inheritance of read access rights if you set the reparent action to NoCascade.</span><span class="sxs-lookup"><span data-stu-id="3dcea-264">You can disable this automatic inheritance of read access rights if you set the reparent action to NoCascade.</span></span> <span data-ttu-id="3dcea-265">You can use the Active or UserOwned options to specify filters on which records are affected by the change in access rights.</span><span class="sxs-lookup"><span data-stu-id="3dcea-265">You can use the Active or UserOwned options to specify filters on which records are affected by the change in access rights.</span></span> <span data-ttu-id="3dcea-266">For any records related to the opportunity using a parental relationship, the reparent action cascades down those entity relationships and read access rights are inherited based on the filters set for the Reparent action.</span><span class="sxs-lookup"><span data-stu-id="3dcea-266">For any records related to the opportunity using a parental relationship, the reparent action cascades down those entity relationships and read access rights are inherited based on the filters set for the Reparent action.</span></span>  
  
### <a name="see-also"></a><span data-ttu-id="3dcea-267">Xem thêm</span><span class="sxs-lookup"><span data-stu-id="3dcea-267">See also</span></span>  
 [<span data-ttu-id="3dcea-268">One-To-Many Relationships</span><span class="sxs-lookup"><span data-stu-id="3dcea-268">One-To-Many Relationships</span></span>](customize-entity-relationship-metadata.md#BKMK_OneToManyRelationships)  
 [<span data-ttu-id="3dcea-269">Create and update entity relationships using Web API</span><span class="sxs-lookup"><span data-stu-id="3dcea-269">Create and update entity relationships using Web API</span></span>](webapi/create-update-entity-relationships-using-web-api.md)  
 <span data-ttu-id="3dcea-270">[Extend the Metadata Model for Dynamics 365 for Customer Engagement apps](org-service/use-organization-service-metadata.md) </span><span class="sxs-lookup"><span data-stu-id="3dcea-270">[Extend the Metadata Model for Dynamics 365 for Customer Engagement apps](org-service/use-organization-service-metadata.md) </span></span>  
 <span data-ttu-id="3dcea-271">[Customize Entity Metadata](customize-entity-metadata.md) </span><span class="sxs-lookup"><span data-stu-id="3dcea-271">[Customize Entity Metadata](customize-entity-metadata.md) </span></span>  
 <span data-ttu-id="3dcea-272">[Customize Entity Attribute Metadata](customize-entity-attribute-metadata.md) </span><span class="sxs-lookup"><span data-stu-id="3dcea-272">[Customize Entity Attribute Metadata](customize-entity-attribute-metadata.md) </span></span>  
 <span data-ttu-id="3dcea-273">[Entity Relationship Metadata](customize-entity-relationship-metadata.md) </span><span class="sxs-lookup"><span data-stu-id="3dcea-273">[Entity Relationship Metadata](customize-entity-relationship-metadata.md) </span></span>  
 <span data-ttu-id="3dcea-274">[Entity and Attribute Mappings](customize-entity-attribute-mappings.md) </span><span class="sxs-lookup"><span data-stu-id="3dcea-274">[Entity and Attribute Mappings](customize-entity-attribute-mappings.md) </span></span>  
 <span data-ttu-id="3dcea-275">[Support Multiple Languages with Labels](customize-labels-support-multiple-languages.md) </span><span class="sxs-lookup"><span data-stu-id="3dcea-275">[Support Multiple Languages with Labels](customize-labels-support-multiple-languages.md) </span></span>  
 <span data-ttu-id="3dcea-276">[Use record-based security to control access to records](security-dev/use-record-based-security-control-access-records.md) </span><span class="sxs-lookup"><span data-stu-id="3dcea-276">[Use record-based security to control access to records](security-dev/use-record-based-security-control-access-records.md) </span></span>  
 [<span data-ttu-id="3dcea-277">Sample: Create and retrieve entity relationships</span><span class="sxs-lookup"><span data-stu-id="3dcea-277">Sample: Create and retrieve entity relationships</span></span>](org-service/sample-create-retrieve-entity-relationships.md)
