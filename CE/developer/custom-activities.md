---
title: Custom activities (Developer Guide for Dynamics 365 for Customer Engagement) | MicrosoftDocs
description: Custom activities support the communication needs of a business such as instant messaging (IM) and Short Message Service (SMS) in Dynamics 365 for Customer Engagement
ms.custom: ''
ms.date: 10/31/2017
ms.reviewer: ''
ms.service: crm-online
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
applies_to:
- Dynamics 365 for Customer Engagement (online)
helpviewer_keywords:
- creating custom entities for activities, property values to set
- privileges and access rights for custom activities, activity entities
- activity entities, privileges and access rights for custom activities
- custom entities for activities, property values to set
- activity entities, creating custom entities for activities
ms.assetid: dc817d07-1529-4c80-a91b-0e3fafbdfc68
caps.latest.revision: 29
author: JimDaly
ms.author: jdaly
manager: amyla
search.audienceType:
- developer
search.app:
- D365CE
ms.openlocfilehash: 5f290e787e679ded6e8c3f424ca1004ed73beaff
ms.sourcegitcommit: 9f0efd59de16a6d9902fa372cb25fc0baf1c2838
ms.translationtype: HT
ms.contentlocale: vi-VN
ms.lasthandoff: 01/08/2019
ms.locfileid: "386795"
---
# <a name="custom-activities"></a><span data-ttu-id="d9361-103">Custom activities</span><span class="sxs-lookup"><span data-stu-id="d9361-103">Custom activities</span></span>

[!INCLUDE[](../includes/cc_applies_to_update_9_0_0.md)]

<span data-ttu-id="d9361-104">In [!INCLUDE[pn_microsoftcrm](../includes/pn-microsoftcrm.md)], you can create custom activities to support the communication needs of a business such as instant messaging (IM) and Short Message Service (SMS).</span><span class="sxs-lookup"><span data-stu-id="d9361-104">In [!INCLUDE[pn_microsoftcrm](../includes/pn-microsoftcrm.md)], you can create custom activities to support the communication needs of a business such as instant messaging (IM) and Short Message Service (SMS).</span></span> <span data-ttu-id="d9361-105">To create a custom activity in [!INCLUDE[pn_crm_shortest](../includes/pn-crm-shortest.md)], create a custom entity, and specify it as an activity entity using the <xref:Microsoft.Xrm.Sdk.Metadata.EntityMetadata>.<xref:Microsoft.Xrm.Sdk.Metadata.EntityMetadata.IsActivity></span><span class="sxs-lookup"><span data-stu-id="d9361-105">To create a custom activity in [!INCLUDE[pn_crm_shortest](../includes/pn-crm-shortest.md)], create a custom entity, and specify it as an activity entity using the <xref:Microsoft.Xrm.Sdk.Metadata.EntityMetadata>.<xref:Microsoft.Xrm.Sdk.Metadata.EntityMetadata.IsActivity></span></span> <span data-ttu-id="d9361-106">property.</span><span class="sxs-lookup"><span data-stu-id="d9361-106">property.</span></span>  
  
 <span data-ttu-id="d9361-107">However, unlike other custom entities, you can’t specify a primary attribute for a custom activity because, by default, each custom activity must have a primary attribute named ”Subject”.</span><span class="sxs-lookup"><span data-stu-id="d9361-107">However, unlike other custom entities, you can’t specify a primary attribute for a custom activity because, by default, each custom activity must have a primary attribute named ”Subject”.</span></span>  
  
 <span data-ttu-id="d9361-108">When you create a custom activity entity, all the properties and privileges of the `activitypointer` entity are inherited for the custom activity.</span><span class="sxs-lookup"><span data-stu-id="d9361-108">When you create a custom activity entity, all the properties and privileges of the `activitypointer` entity are inherited for the custom activity.</span></span> <span data-ttu-id="d9361-109">Further, all the activity party types become available for the custom activity, and as a result the corresponding properties are also inherited.</span><span class="sxs-lookup"><span data-stu-id="d9361-109">Further, all the activity party types become available for the custom activity, and as a result the corresponding properties are also inherited.</span></span>  
  
 <span data-ttu-id="d9361-110">You can create 1-to-Many (1:N) relationships for a custom activity just like any other activity, and also update the existing relationships.</span><span class="sxs-lookup"><span data-stu-id="d9361-110">You can create 1-to-Many (1:N) relationships for a custom activity just like any other activity, and also update the existing relationships.</span></span>  
  
## <a name="privileges-and-access-rights"></a><span data-ttu-id="d9361-111">Privileges and access rights</span><span class="sxs-lookup"><span data-stu-id="d9361-111">Privileges and access rights</span></span>  
 <span data-ttu-id="d9361-112">You require the same set of [!INCLUDE[pn_crm_shortest](../includes/pn-crm-shortest.md)] privileges and access rights to work with custom activities as those required to work with custom entities.</span><span class="sxs-lookup"><span data-stu-id="d9361-112">You require the same set of [!INCLUDE[pn_crm_shortest](../includes/pn-crm-shortest.md)] privileges and access rights to work with custom activities as those required to work with custom entities.</span></span> <span data-ttu-id="d9361-113">For more information about custom entities, see [Customize Entity Metadata](customize-entity-metadata.md).</span><span class="sxs-lookup"><span data-stu-id="d9361-113">For more information about custom entities, see [Customize Entity Metadata](customize-entity-metadata.md).</span></span>  
  
## <a name="creating-a-custom-activity"></a><span data-ttu-id="d9361-114">Creating a custom activity</span><span class="sxs-lookup"><span data-stu-id="d9361-114">Creating a custom activity</span></span>  
 <span data-ttu-id="d9361-115">To create a custom activity entity, set the values of the properties listed in the following table.</span><span class="sxs-lookup"><span data-stu-id="d9361-115">To create a custom activity entity, set the values of the properties listed in the following table.</span></span>  
  
|<span data-ttu-id="d9361-116">Tên thuộc tính</span><span class="sxs-lookup"><span data-stu-id="d9361-116">Property name</span></span>|<span data-ttu-id="d9361-117">Value</span><span class="sxs-lookup"><span data-stu-id="d9361-117">Value</span></span>|<span data-ttu-id="d9361-118">Ghi chú</span><span class="sxs-lookup"><span data-stu-id="d9361-118">Notes</span></span>|  
|-------------------|-----------|-----------|  
|<span data-ttu-id="d9361-119"><xref:Microsoft.Xrm.Sdk.Metadata.EntityMetadata>.<xref:Microsoft.Xrm.Sdk.Metadata.EntityMetadata.IsActivity></span><span class="sxs-lookup"><span data-stu-id="d9361-119"><xref:Microsoft.Xrm.Sdk.Metadata.EntityMetadata>.<xref:Microsoft.Xrm.Sdk.Metadata.EntityMetadata.IsActivity></span></span>|`true`|<span data-ttu-id="d9361-120">Specify the custom entity as an activity entity.</span><span class="sxs-lookup"><span data-stu-id="d9361-120">Specify the custom entity as an activity entity.</span></span>|  
|<span data-ttu-id="d9361-121"><xref:Microsoft.Xrm.Sdk.Metadata.EntityMetadata>.<xref:Microsoft.Xrm.Sdk.Metadata.EntityMetadata.IsAvailableOffline></span><span class="sxs-lookup"><span data-stu-id="d9361-121"><xref:Microsoft.Xrm.Sdk.Metadata.EntityMetadata>.<xref:Microsoft.Xrm.Sdk.Metadata.EntityMetadata.IsAvailableOffline></span></span>|`true`|<span data-ttu-id="d9361-122">A custom activity entity must have offline availability.</span><span class="sxs-lookup"><span data-stu-id="d9361-122">A custom activity entity must have offline availability.</span></span>|  
|<span data-ttu-id="d9361-123"><xref:Microsoft.Xrm.Sdk.Metadata.EntityMetadata>.<xref:Microsoft.Xrm.Sdk.Metadata.EntityMetadata.IsMailMergeEnabled></span><span class="sxs-lookup"><span data-stu-id="d9361-123"><xref:Microsoft.Xrm.Sdk.Metadata.EntityMetadata>.<xref:Microsoft.Xrm.Sdk.Metadata.EntityMetadata.IsMailMergeEnabled></span></span>|`false`|<span data-ttu-id="d9361-124">A custom activity entity cannot have mail merge enabled.</span><span class="sxs-lookup"><span data-stu-id="d9361-124">A custom activity entity cannot have mail merge enabled.</span></span>|  
|<span data-ttu-id="d9361-125"><xref:Microsoft.Xrm.Sdk.Metadata.EntityMetadata>.<xref:Microsoft.Xrm.Sdk.Metadata.EntityMetadata.OwnershipType></span><span class="sxs-lookup"><span data-stu-id="d9361-125"><xref:Microsoft.Xrm.Sdk.Metadata.EntityMetadata>.<xref:Microsoft.Xrm.Sdk.Metadata.EntityMetadata.OwnershipType></span></span>|<span data-ttu-id="d9361-126"><xref:Microsoft.Xrm.Sdk.Metadata.OwnershipTypes>.</span><span class="sxs-lookup"><span data-stu-id="d9361-126"><xref:Microsoft.Xrm.Sdk.Metadata.OwnershipTypes>.</span></span> <span data-ttu-id="d9361-127">TeamOwned</span><span class="sxs-lookup"><span data-stu-id="d9361-127">TeamOwned</span></span><br /><span data-ttu-id="d9361-128">hoặc</span><span class="sxs-lookup"><span data-stu-id="d9361-128">or</span></span><br /><span data-ttu-id="d9361-129"><xref:Microsoft.Xrm.Sdk.Metadata.OwnershipTypes>.</span><span class="sxs-lookup"><span data-stu-id="d9361-129"><xref:Microsoft.Xrm.Sdk.Metadata.OwnershipTypes>.</span></span> <span data-ttu-id="d9361-130">UserOwned</span><span class="sxs-lookup"><span data-stu-id="d9361-130">UserOwned</span></span>|<span data-ttu-id="d9361-131">A custom activity entity can be either team-owned or user-owned.</span><span class="sxs-lookup"><span data-stu-id="d9361-131">A custom activity entity can be either team-owned or user-owned.</span></span>|  
|<span data-ttu-id="d9361-132"><xref:Microsoft.Xrm.Sdk.Metadata.EntityMetadata>.<xref:Microsoft.Xrm.Sdk.Metadata.EntityMetadata.ActivityTypeMask></span><span class="sxs-lookup"><span data-stu-id="d9361-132"><xref:Microsoft.Xrm.Sdk.Metadata.EntityMetadata>.<xref:Microsoft.Xrm.Sdk.Metadata.EntityMetadata.ActivityTypeMask></span></span>|<span data-ttu-id="d9361-133">0 - None</span><span class="sxs-lookup"><span data-stu-id="d9361-133">0 - None</span></span><br /><span data-ttu-id="d9361-134">hoặc</span><span class="sxs-lookup"><span data-stu-id="d9361-134">or</span></span><br /><span data-ttu-id="d9361-135">1 – Communication Activity</span><span class="sxs-lookup"><span data-stu-id="d9361-135">1 – Communication Activity</span></span>|<span data-ttu-id="d9361-136">(Optional) Specify whether a custom activity should appear in the activity menus in the web application.</span><span class="sxs-lookup"><span data-stu-id="d9361-136">(Optional) Specify whether a custom activity should appear in the activity menus in the web application.</span></span><br /><br /> <span data-ttu-id="d9361-137">-   Specify **0 (None)** to hide it from appearing in the activity menus.</span><span class="sxs-lookup"><span data-stu-id="d9361-137">-   Specify **0 (None)** to hide it from appearing in the activity menus.</span></span> <span data-ttu-id="d9361-138">The custom activity will appear in the associated grids of only those entities with which it is associated (has relationship).</span><span class="sxs-lookup"><span data-stu-id="d9361-138">The custom activity will appear in the associated grids of only those entities with which it is associated (has relationship).</span></span><br /><span data-ttu-id="d9361-139">-   Specify **1 (Communication Activity)** to make it appear in the activity menus.</span><span class="sxs-lookup"><span data-stu-id="d9361-139">-   Specify **1 (Communication Activity)** to make it appear in the activity menus.</span></span><br /><br /> <span data-ttu-id="d9361-140">If you do not specify this property, the custom activity is created with the default property value: 1.</span><span class="sxs-lookup"><span data-stu-id="d9361-140">If you do not specify this property, the custom activity is created with the default property value: 1.</span></span> <span data-ttu-id="d9361-141">That is, the custom activity is available in the activity menus.</span><span class="sxs-lookup"><span data-stu-id="d9361-141">That is, the custom activity is available in the activity menus.</span></span> <span data-ttu-id="d9361-142">Moreover, `ActivityTypeMask` can be set at the activity creation time only, and once set, cannot be modified.</span><span class="sxs-lookup"><span data-stu-id="d9361-142">Moreover, `ActivityTypeMask` can be set at the activity creation time only, and once set, cannot be modified.</span></span>|  
|<span data-ttu-id="d9361-143"><xref:Microsoft.Xrm.Sdk.Messages.CreateEntityRequest>.<xref:Microsoft.Xrm.Sdk.Messages.CreateEntityRequest.HasActivities></span><span class="sxs-lookup"><span data-stu-id="d9361-143"><xref:Microsoft.Xrm.Sdk.Messages.CreateEntityRequest>.<xref:Microsoft.Xrm.Sdk.Messages.CreateEntityRequest.HasActivities></span></span>|`false`|<span data-ttu-id="d9361-144">A custom activity entity must not have a relationship with activities.</span><span class="sxs-lookup"><span data-stu-id="d9361-144">A custom activity entity must not have a relationship with activities.</span></span>|  
|<span data-ttu-id="d9361-145"><xref:Microsoft.Xrm.Sdk.Messages.CreateEntityRequest>.<xref:Microsoft.Xrm.Sdk.Messages.CreateEntityRequest.HasNotes></span><span class="sxs-lookup"><span data-stu-id="d9361-145"><xref:Microsoft.Xrm.Sdk.Messages.CreateEntityRequest>.<xref:Microsoft.Xrm.Sdk.Messages.CreateEntityRequest.HasNotes></span></span>|`true`|<span data-ttu-id="d9361-146">A custom activity entity must have a relationship to notes.</span><span class="sxs-lookup"><span data-stu-id="d9361-146">A custom activity entity must have a relationship to notes.</span></span>|  
|<span data-ttu-id="d9361-147"><xref:Microsoft.Xrm.Sdk.Messages.CreateEntityRequest>.</span><span class="sxs-lookup"><span data-stu-id="d9361-147"><xref:Microsoft.Xrm.Sdk.Messages.CreateEntityRequest>.</span></span> <xref:Microsoft.Xrm.Sdk.Messages.CreateEntityRequest.PrimaryAttribute>|<span data-ttu-id="d9361-148"><xref:Microsoft.Xrm.Sdk.Metadata.AttributeMetadata.SchemaName> is “Subject”.</span><span class="sxs-lookup"><span data-stu-id="d9361-148"><xref:Microsoft.Xrm.Sdk.Metadata.AttributeMetadata.SchemaName> is “Subject”.</span></span>|<span data-ttu-id="d9361-149">The schema name of the `PrimaryAttribute` for all activities must be “Subject”.</span><span class="sxs-lookup"><span data-stu-id="d9361-149">The schema name of the `PrimaryAttribute` for all activities must be “Subject”.</span></span>|  
  
## <a name="example"></a><span data-ttu-id="d9361-150">Ví dụ</span><span class="sxs-lookup"><span data-stu-id="d9361-150">Example</span></span>  
 <span data-ttu-id="d9361-151">The following sample shows how you can create a custom activity.</span><span class="sxs-lookup"><span data-stu-id="d9361-151">The following sample shows how you can create a custom activity.</span></span>  
  
 [!code-csharp[Entities#CreateCustomActivityEntity2](../snippets/csharp/CRMV8/entities/cs/createcustomactivityentity2.cs#createcustomactivityentity2)]  
  
### <a name="see-also"></a><span data-ttu-id="d9361-152">Xem thêm</span><span class="sxs-lookup"><span data-stu-id="d9361-152">See also</span></span>  
 <span data-ttu-id="d9361-153">[Activity Entities](activity-entities.md) </span><span class="sxs-lookup"><span data-stu-id="d9361-153">[Activity Entities](activity-entities.md) </span></span>  
 <span data-ttu-id="d9361-154">[ActivityPointer (activity) entity](activitypointer-activity-entity.md) </span><span class="sxs-lookup"><span data-stu-id="d9361-154">[ActivityPointer (activity) entity](activitypointer-activity-entity.md) </span></span>  
 <span data-ttu-id="d9361-155">[Sample: Create a Custom Activity](sample-create-custom-activity.md) </span><span class="sxs-lookup"><span data-stu-id="d9361-155">[Sample: Create a Custom Activity](sample-create-custom-activity.md) </span></span>  
 [<span data-ttu-id="d9361-156">Sample: Create and Update Entity Metadata</span><span class="sxs-lookup"><span data-stu-id="d9361-156">Sample: Create and Update Entity Metadata</span></span>](org-service/sample-create-update-entity-metadata.md)
