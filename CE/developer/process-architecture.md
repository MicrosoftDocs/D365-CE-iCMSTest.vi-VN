---
title: Dynamics 365 for Customer Engagement Process architecture (Developer Guide for Dynamics 365 for Customer Engagement apps) | MicrosoftDocs
description: The topic illustrates the high-level system architecture for Dynamics 365 for Customer Engagement apps, and highlights parts of the system that are specific to processes.
ms.custom: ''
ms.date: 12/16/2017
ms.reviewer: ''
ms.service: crm-online
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
applies_to:
- Dynamics 365 for Customer Engagement (online)
ms.assetid: 8150b437-8c14-4668-910d-2910ba16b503
caps.latest.revision: 28
author: JimDaly
ms.author: jdaly
manager: amyla
search.audienceType:
- developer
search.app:
- D365CE
ms.openlocfilehash: 843f8ef6e5d3b9ecd014e227e64ee01549b8148f
ms.sourcegitcommit: 9f0efd59de16a6d9902fa372cb25fc0baf1c2838
ms.translationtype: HT
ms.contentlocale: vi-VN
ms.lasthandoff: 01/08/2019
ms.locfileid: "385840"
---
# <a name="process-architecture"></a><span data-ttu-id="e3d1f-103">Process architecture</span><span class="sxs-lookup"><span data-stu-id="e3d1f-103">Process architecture</span></span>

[!INCLUDE[](../includes/cc_applies_to_update_9_0_0.md)]

<span data-ttu-id="e3d1f-104">The process management system in [!INCLUDE[pn_dynamics_crm](../includes/pn-dynamics-crm.md)] apps includes the [!INCLUDE[cc-dyn365-ce-web-services](../includes/cc-dyn365-ce-web-services.md)], plug-ins, forms, and other components.</span><span class="sxs-lookup"><span data-stu-id="e3d1f-104">The process management system in [!INCLUDE[pn_dynamics_crm](../includes/pn-dynamics-crm.md)] apps includes the [!INCLUDE[cc-dyn365-ce-web-services](../includes/cc-dyn365-ce-web-services.md)], plug-ins, forms, and other components.</span></span>  
  
<a name="Diagram"></a>

## <a name="process-architecture-diagram"></a><span data-ttu-id="e3d1f-105">Process architecture diagram</span><span class="sxs-lookup"><span data-stu-id="e3d1f-105">Process architecture diagram</span></span>

<span data-ttu-id="e3d1f-106">The following diagram illustrates the high-level system architecture for [!INCLUDE[pn_dynamics_crm](../includes/pn-dynamics-crm.md)] apps, and highlights parts of the system that are specific to processes.</span><span class="sxs-lookup"><span data-stu-id="e3d1f-106">The following diagram illustrates the high-level system architecture for [!INCLUDE[pn_dynamics_crm](../includes/pn-dynamics-crm.md)] apps, and highlights parts of the system that are specific to processes.</span></span>  
  
<span data-ttu-id="e3d1f-107">![Process Architecture](media/process-architecture.png "Process Architecture")</span><span class="sxs-lookup"><span data-stu-id="e3d1f-107">![Process Architecture](media/process-architecture.png "Process Architecture")</span></span>  
  
<span data-ttu-id="e3d1f-108">This diagram shows the process architecture of [!INCLUDE[pn_dynamics_crm](../includes/pn-dynamics-crm.md)] including the internal components, the external components, the infrastructure, and the data.</span><span class="sxs-lookup"><span data-stu-id="e3d1f-108">This diagram shows the process architecture of [!INCLUDE[pn_dynamics_crm](../includes/pn-dynamics-crm.md)] including the internal components, the external components, the infrastructure, and the data.</span></span>  
  
<span data-ttu-id="e3d1f-109">**Internal Components**.</span><span class="sxs-lookup"><span data-stu-id="e3d1f-109">**Internal Components**.</span></span> <span data-ttu-id="e3d1f-110">The internal components that support the [!INCLUDE[pn_dynamics_crm](../includes/pn-dynamics-crm.md)] apps process programming model include Web services, shared platform, and business logic.</span><span class="sxs-lookup"><span data-stu-id="e3d1f-110">The internal components that support the [!INCLUDE[pn_dynamics_crm](../includes/pn-dynamics-crm.md)] apps process programming model include Web services, shared platform, and business logic.</span></span> <span data-ttu-id="e3d1f-111">The shared platform consists of common [!INCLUDE[pn_dynamics_crm](../includes/pn-dynamics-crm.md)] apps components that provide registration, metadata cache, and data access services.</span><span class="sxs-lookup"><span data-stu-id="e3d1f-111">The shared platform consists of common [!INCLUDE[pn_dynamics_crm](../includes/pn-dynamics-crm.md)] apps components that provide registration, metadata cache, and data access services.</span></span> <span data-ttu-id="e3d1f-112">Business logic contains the implementation of business logic for [!INCLUDE[pn_dynamics_crm](../includes/pn-dynamics-crm.md)] apps business entities.</span><span class="sxs-lookup"><span data-stu-id="e3d1f-112">Business logic contains the implementation of business logic for [!INCLUDE[pn_dynamics_crm](../includes/pn-dynamics-crm.md)] apps business entities.</span></span>  
  
<span data-ttu-id="e3d1f-113">**External Components**.</span><span class="sxs-lookup"><span data-stu-id="e3d1f-113">**External Components**.</span></span> <span data-ttu-id="e3d1f-114">The external components are as follows:</span><span class="sxs-lookup"><span data-stu-id="e3d1f-114">The external components are as follows:</span></span>  
  
- [!INCLUDE[pn_Windows_Workflow_Foundation](../includes/pn-windows-workflow-foundation.md)] <span data-ttu-id="e3d1f-115">object model, which contains a set of classes used to create and parse workflow process definitions in XAML format.</span><span class="sxs-lookup"><span data-stu-id="e3d1f-115">object model, which contains a set of classes used to create and parse workflow process definitions in XAML format.</span></span>  
  
- [!INCLUDE[pn_Windows_Workflow_Foundation](../includes/pn-windows-workflow-foundation.md)] <span data-ttu-id="e3d1f-116">execution, which contains a set of classes used to execute workflow processes.</span><span class="sxs-lookup"><span data-stu-id="e3d1f-116">execution, which contains a set of classes used to execute workflow processes.</span></span>  
  
<span data-ttu-id="e3d1f-117">**Process Infrastructure**.</span><span class="sxs-lookup"><span data-stu-id="e3d1f-117">**Process Infrastructure**.</span></span> <span data-ttu-id="e3d1f-118">The [!INCLUDE[pn_dynamics_crm](../includes/pn-dynamics-crm.md)] apps process infrastructure consists of the following components:</span><span class="sxs-lookup"><span data-stu-id="e3d1f-118">The [!INCLUDE[pn_dynamics_crm](../includes/pn-dynamics-crm.md)] apps process infrastructure consists of the following components:</span></span>  
  
- <span data-ttu-id="e3d1f-119">Process entity model, which contains a set of classes that use the [!INCLUDE[pn_Windows_Workflow_Foundation](../includes/pn-windows-workflow-foundation.md)] object model and expose [!INCLUDE[pn_dynamics_crm](../includes/pn-dynamics-crm.md)] apps workflow activities.</span><span class="sxs-lookup"><span data-stu-id="e3d1f-119">Process entity model, which contains a set of classes that use the [!INCLUDE[pn_Windows_Workflow_Foundation](../includes/pn-windows-workflow-foundation.md)] object model and expose [!INCLUDE[pn_dynamics_crm](../includes/pn-dynamics-crm.md)] apps workflow activities.</span></span>  
  
- <span data-ttu-id="e3d1f-120">Process business logic, which implements business logic for process-specific entities.</span><span class="sxs-lookup"><span data-stu-id="e3d1f-120">Process business logic, which implements business logic for process-specific entities.</span></span>  
  
- <span data-ttu-id="e3d1f-121">Process execution, which provides workflow execution services, such as workflow hosting and persistence.</span><span class="sxs-lookup"><span data-stu-id="e3d1f-121">Process execution, which provides workflow execution services, such as workflow hosting and persistence.</span></span>  
  
<span data-ttu-id="e3d1f-122">**Process Data**.</span><span class="sxs-lookup"><span data-stu-id="e3d1f-122">**Process Data**.</span></span> <span data-ttu-id="e3d1f-123">The [!INCLUDE[pn_dynamics_crm](../includes/pn-dynamics-crm.md)] apps process programming model is supported by the following data:</span><span class="sxs-lookup"><span data-stu-id="e3d1f-123">The [!INCLUDE[pn_dynamics_crm](../includes/pn-dynamics-crm.md)] apps process programming model is supported by the following data:</span></span>  
  
- <span data-ttu-id="e3d1f-124">Business data, which contains information associated with [!INCLUDE[pn_dynamics_crm](../includes/pn-dynamics-crm.md)] apps entities.</span><span class="sxs-lookup"><span data-stu-id="e3d1f-124">Business data, which contains information associated with [!INCLUDE[pn_dynamics_crm](../includes/pn-dynamics-crm.md)] apps entities.</span></span>  
  
- <span data-ttu-id="e3d1f-125">Process configuration data, which includes workflow process definitions, compiled workflow processes, and workflow process settings.</span><span class="sxs-lookup"><span data-stu-id="e3d1f-125">Process configuration data, which includes workflow process definitions, compiled workflow processes, and workflow process settings.</span></span>  
  
- <span data-ttu-id="e3d1f-126">Process runtime data, which is required to execute workflow processes and implement workflow process features, such as persistence and notifications.</span><span class="sxs-lookup"><span data-stu-id="e3d1f-126">Process runtime data, which is required to execute workflow processes and implement workflow process features, such as persistence and notifications.</span></span>  
  
<a name="UnifiedEventModel"></a>

## <a name="process-and-the-unified-event-model"></a><span data-ttu-id="e3d1f-127">Process and the unified event model</span><span class="sxs-lookup"><span data-stu-id="e3d1f-127">Process and the unified event model</span></span>

[!INCLUDE[pn_dynamics_crm](../includes/pn-dynamics-crm.md)] <span data-ttu-id="e3d1f-128">apps uses a unified event model that is used in both plug-ins (callouts) and in processes.</span><span class="sxs-lookup"><span data-stu-id="e3d1f-128">apps uses a unified event model that is used in both plug-ins (callouts) and in processes.</span></span> <span data-ttu-id="e3d1f-129">This event processing subsystem adds more flexibility to the execution of processes and plug-ins by introducing the pipeline execution model.</span><span class="sxs-lookup"><span data-stu-id="e3d1f-129">This event processing subsystem adds more flexibility to the execution of processes and plug-ins by introducing the pipeline execution model.</span></span>  
  
<span data-ttu-id="e3d1f-130">Using this model, processes and plug-ins are executed based on their registration, message type, and a predefined set of configurable parameters.</span><span class="sxs-lookup"><span data-stu-id="e3d1f-130">Using this model, processes and plug-ins are executed based on their registration, message type, and a predefined set of configurable parameters.</span></span> <span data-ttu-id="e3d1f-131">The core platform operations take part in the execution sequence to form a much more reliable and extensible execution model.</span><span class="sxs-lookup"><span data-stu-id="e3d1f-131">The core platform operations take part in the execution sequence to form a much more reliable and extensible execution model.</span></span>  
  
<a name="ProcessLifeCycle"></a>

## <a name="process-life-cycle"></a><span data-ttu-id="e3d1f-132">Process life cycle</span><span class="sxs-lookup"><span data-stu-id="e3d1f-132">Process life cycle</span></span>

<span data-ttu-id="e3d1f-133">The life cycle of a process describes the state transitions from creation through execution.</span><span class="sxs-lookup"><span data-stu-id="e3d1f-133">The life cycle of a process describes the state transitions from creation through execution.</span></span> <span data-ttu-id="e3d1f-134">A process can be in one of the following states: Ready, Suspended, Locked, and Completed.</span><span class="sxs-lookup"><span data-stu-id="e3d1f-134">A process can be in one of the following states: Ready, Suspended, Locked, and Completed.</span></span> <span data-ttu-id="e3d1f-135">The events that occur throughout the lifetime of the process cause a transition from one state to another.</span><span class="sxs-lookup"><span data-stu-id="e3d1f-135">The events that occur throughout the lifetime of the process cause a transition from one state to another.</span></span>  
  
### <a name="workflows"></a><span data-ttu-id="e3d1f-136">  Quy trình làm việc</span><span class="sxs-lookup"><span data-stu-id="e3d1f-136">Workflows</span></span>

<span data-ttu-id="e3d1f-137">The workflow life cycle is as follows:</span><span class="sxs-lookup"><span data-stu-id="e3d1f-137">The workflow life cycle is as follows:</span></span>  
  
1. <span data-ttu-id="e3d1f-138">When you create a workflow, it is in the Draft state.</span><span class="sxs-lookup"><span data-stu-id="e3d1f-138">When you create a workflow, it is in the Draft state.</span></span> <span data-ttu-id="e3d1f-139">You must activate the workflow before it can run.</span><span class="sxs-lookup"><span data-stu-id="e3d1f-139">You must activate the workflow before it can run.</span></span> <span data-ttu-id="e3d1f-140">When you activate a workflow, it subscribes to specific [!INCLUDE[pn_dynamics_crm](../includes/pn-dynamics-crm.md)] apps events.</span><span class="sxs-lookup"><span data-stu-id="e3d1f-140">When you activate a workflow, it subscribes to specific [!INCLUDE[pn_dynamics_crm](../includes/pn-dynamics-crm.md)] apps events.</span></span> <span data-ttu-id="e3d1f-141">When these events are triggered in the platform, a snapshot of the workflow dependencies and input parameters are created and a new asynchronous operation is added to the asynchronous service queue manager.</span><span class="sxs-lookup"><span data-stu-id="e3d1f-141">When these events are triggered in the platform, a snapshot of the workflow dependencies and input parameters are created and a new asynchronous operation is added to the asynchronous service queue manager.</span></span> <span data-ttu-id="e3d1f-142">The asynchronous operation represents a workflow execution job and awaits execution in the queue in the Ready state.</span><span class="sxs-lookup"><span data-stu-id="e3d1f-142">The asynchronous operation represents a workflow execution job and awaits execution in the queue in the Ready state.</span></span>  
  
2. <span data-ttu-id="e3d1f-143">When the asynchronous operation is processed, a workflow instance, associated with this operation, is created by the [!INCLUDE[pn_Windows_Workflow_Foundation](../includes/pn-windows-workflow-foundation.md)] run-time engine and the state of it is changed from Ready to Locked.</span><span class="sxs-lookup"><span data-stu-id="e3d1f-143">When the asynchronous operation is processed, a workflow instance, associated with this operation, is created by the [!INCLUDE[pn_Windows_Workflow_Foundation](../includes/pn-windows-workflow-foundation.md)] run-time engine and the state of it is changed from Ready to Locked.</span></span>  
  
3. <span data-ttu-id="e3d1f-144">The asynchronous operation is updated with the workflow instance state status on each transition.</span><span class="sxs-lookup"><span data-stu-id="e3d1f-144">The asynchronous operation is updated with the workflow instance state status on each transition.</span></span> <span data-ttu-id="e3d1f-145">When the asynchronous operation is blocked, the [!INCLUDE[pn_Windows_Workflow_Foundation](../includes/pn-windows-workflow-foundation.md)] run-time engine puts the workflow instance into the Suspended state and removes it from memory.</span><span class="sxs-lookup"><span data-stu-id="e3d1f-145">When the asynchronous operation is blocked, the [!INCLUDE[pn_Windows_Workflow_Foundation](../includes/pn-windows-workflow-foundation.md)] run-time engine puts the workflow instance into the Suspended state and removes it from memory.</span></span> <span data-ttu-id="e3d1f-146">When the Suspended state conditions are satisfied, the workflow instance is loaded back into memory.</span><span class="sxs-lookup"><span data-stu-id="e3d1f-146">When the Suspended state conditions are satisfied, the workflow instance is loaded back into memory.</span></span>  
  
4. <span data-ttu-id="e3d1f-147">The workflow execution resumes by putting the workflow instance into a Ready state and then into a Locked state.</span><span class="sxs-lookup"><span data-stu-id="e3d1f-147">The workflow execution resumes by putting the workflow instance into a Ready state and then into a Locked state.</span></span> <span data-ttu-id="e3d1f-148">In the simple scenario, the workflow instance moves to a Completed state when all workflow activities have completed successfully.</span><span class="sxs-lookup"><span data-stu-id="e3d1f-148">In the simple scenario, the workflow instance moves to a Completed state when all workflow activities have completed successfully.</span></span>  
  
<span data-ttu-id="e3d1f-149">The state of asynchronous operations can also be changed by the user.</span><span class="sxs-lookup"><span data-stu-id="e3d1f-149">The state of asynchronous operations can also be changed by the user.</span></span> <span data-ttu-id="e3d1f-150">For example, an asynchronous operation that is in a Suspended state can explicitly be restarted by the user.</span><span class="sxs-lookup"><span data-stu-id="e3d1f-150">For example, an asynchronous operation that is in a Suspended state can explicitly be restarted by the user.</span></span>  
  
### <a name="dialogs"></a><span data-ttu-id="e3d1f-151">Hộp thoại</span><span class="sxs-lookup"><span data-stu-id="e3d1f-151">Dialogs</span></span>

<span data-ttu-id="e3d1f-152">A dialog life cycle is as follows:</span><span class="sxs-lookup"><span data-stu-id="e3d1f-152">A dialog life cycle is as follows:</span></span>  
  
1. <span data-ttu-id="e3d1f-153">When you create a dialog, it is in the Draft state.</span><span class="sxs-lookup"><span data-stu-id="e3d1f-153">When you create a dialog, it is in the Draft state.</span></span> <span data-ttu-id="e3d1f-154">You must activate the dialog before it can be run.</span><span class="sxs-lookup"><span data-stu-id="e3d1f-154">You must activate the dialog before it can be run.</span></span> <span data-ttu-id="e3d1f-155">A dialog can be run from its primary entity form and grid, or directly by using the URL of the dialog.</span><span class="sxs-lookup"><span data-stu-id="e3d1f-155">A dialog can be run from its primary entity form and grid, or directly by using the URL of the dialog.</span></span> <span data-ttu-id="e3d1f-156">For more information, see [Start a dialog by using a URL](actions-dialogs.md#StartDialog).</span><span class="sxs-lookup"><span data-stu-id="e3d1f-156">For more information, see [Start a dialog by using a URL](actions-dialogs.md#StartDialog).</span></span>  
  
1. <span data-ttu-id="e3d1f-157">Every time that you run a dialog, a process session instance is created for the dialog.</span><span class="sxs-lookup"><span data-stu-id="e3d1f-157">Every time that you run a dialog, a process session instance is created for the dialog.</span></span> <span data-ttu-id="e3d1f-158">As you progress with running the dialog, the process session entity is updated with the actions performed during the running of the dialog.</span><span class="sxs-lookup"><span data-stu-id="e3d1f-158">As you progress with running the dialog, the process session entity is updated with the actions performed during the running of the dialog.</span></span>  
  
1. <span data-ttu-id="e3d1f-159">If you completed running the dialog successfully, the corresponding process session record is created with a Complete status.</span><span class="sxs-lookup"><span data-stu-id="e3d1f-159">If you completed running the dialog successfully, the corresponding process session record is created with a Complete status.</span></span> <span data-ttu-id="e3d1f-160">If you canceled the dialog without completing it, the corresponding process session record is created with an Incomplete status.</span><span class="sxs-lookup"><span data-stu-id="e3d1f-160">If you canceled the dialog without completing it, the corresponding process session record is created with an Incomplete status.</span></span>  
  
<a name="AsynchService"></a>
  
## <a name="process-and-the-asynchronous-service-for-workflows-only"></a><span data-ttu-id="e3d1f-161">Process and the asynchronous service: For workflows only</span><span class="sxs-lookup"><span data-stu-id="e3d1f-161">Process and the asynchronous service: For workflows only</span></span>

 <span data-ttu-id="e3d1f-162">The asynchronous service enables you to execute, monitor, and manage various long-running operations, such as bulk import, bulk mail, and workflow processes.</span><span class="sxs-lookup"><span data-stu-id="e3d1f-162">The asynchronous service enables you to execute, monitor, and manage various long-running operations, such as bulk import, bulk mail, and workflow processes.</span></span> <span data-ttu-id="e3d1f-163">To improve performance, scalability, and reliability of [!INCLUDE[pn_dynamics_crm](../includes/pn-dynamics-crm.md)] apps, these operations are run asynchronously.</span><span class="sxs-lookup"><span data-stu-id="e3d1f-163">To improve performance, scalability, and reliability of [!INCLUDE[pn_dynamics_crm](../includes/pn-dynamics-crm.md)] apps, these operations are run asynchronously.</span></span> <span data-ttu-id="e3d1f-164">This means that a requested operation is not processed instantly, but added to a queue and processed by [!INCLUDE[pn_dynamics_crm](../includes/pn-dynamics-crm.md)] apps at an appropriate time.</span><span class="sxs-lookup"><span data-stu-id="e3d1f-164">This means that a requested operation is not processed instantly, but added to a queue and processed by [!INCLUDE[pn_dynamics_crm](../includes/pn-dynamics-crm.md)] apps at an appropriate time.</span></span>  
  
 <span data-ttu-id="e3d1f-165">When an event is raised in the [!INCLUDE[pn_dynamics_crm](../includes/pn-dynamics-crm.md)] apps platform pipeline, all workflows that are associated with the event are executed by the asynchronous service.</span><span class="sxs-lookup"><span data-stu-id="e3d1f-165">When an event is raised in the [!INCLUDE[pn_dynamics_crm](../includes/pn-dynamics-crm.md)] apps platform pipeline, all workflows that are associated with the event are executed by the asynchronous service.</span></span> <span data-ttu-id="e3d1f-166">The workflow event handlers are added to the asynchronous queue and processed according to the event execution order.</span><span class="sxs-lookup"><span data-stu-id="e3d1f-166">The workflow event handlers are added to the asynchronous queue and processed according to the event execution order.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="e3d1f-167">If an asynchronous system job (workflow) fails several times consecutively, [!INCLUDE[pn_crm_shortest](../includes/pn-crm-shortest.md)] starts to postpone execution of that particular job for longer and longer time intervals to allow the [!INCLUDE[pn_crm_shortest](../includes/pn-crm-shortest.md)] administrator to investigate and resolve the issue .</span><span class="sxs-lookup"><span data-stu-id="e3d1f-167">If an asynchronous system job (workflow) fails several times consecutively, [!INCLUDE[pn_crm_shortest](../includes/pn-crm-shortest.md)] starts to postpone execution of that particular job for longer and longer time intervals to allow the [!INCLUDE[pn_crm_shortest](../includes/pn-crm-shortest.md)] administrator to investigate and resolve the issue .</span></span> <span data-ttu-id="e3d1f-168">Sau khi công việc bắt đầu thành công trở lại, nó sẽ tiếp tục thực hiện bình thường.</span><span class="sxs-lookup"><span data-stu-id="e3d1f-168">Once the job starts succeeding again, it will resume executing normally.</span></span>  
  
<a name="Persistence"></a>
  
## <a name="process-persistence-and-shutdown-for-workflows-only"></a><span data-ttu-id="e3d1f-169">Process persistence and shutdown: For workflows only</span><span class="sxs-lookup"><span data-stu-id="e3d1f-169">Process persistence and shutdown: For workflows only</span></span>

<span data-ttu-id="e3d1f-170">A workflow can be a long-running business operation that might take hours, weeks, or months to be completed.</span><span class="sxs-lookup"><span data-stu-id="e3d1f-170">A workflow can be a long-running business operation that might take hours, weeks, or months to be completed.</span></span> <span data-ttu-id="e3d1f-171">It can be effectively idle for long periods of time waiting for input from users or other systems.</span><span class="sxs-lookup"><span data-stu-id="e3d1f-171">It can be effectively idle for long periods of time waiting for input from users or other systems.</span></span>  
  
<span data-ttu-id="e3d1f-172">To improve performance, scalability, and reliability of [!INCLUDE[pn_dynamics_crm](../includes/pn-dynamics-crm.md)] apps, long-running operations such as workflows use the asynchronous service.</span><span class="sxs-lookup"><span data-stu-id="e3d1f-172">To improve performance, scalability, and reliability of [!INCLUDE[pn_dynamics_crm](../includes/pn-dynamics-crm.md)] apps, long-running operations such as workflows use the asynchronous service.</span></span>  
  
<span data-ttu-id="e3d1f-173">The asynchronous service, as the host of the [!INCLUDE[pn_Windows_Workflow_Foundation](../includes/pn-windows-workflow-foundation.md)] runtime engine, cannot always cache and keep active all objects that accumulate during continued workflow activity.</span><span class="sxs-lookup"><span data-stu-id="e3d1f-173">The asynchronous service, as the host of the [!INCLUDE[pn_Windows_Workflow_Foundation](../includes/pn-windows-workflow-foundation.md)] runtime engine, cannot always cache and keep active all objects that accumulate during continued workflow activity.</span></span> <span data-ttu-id="e3d1f-174">When certain conditions, such as restart or shutdown occur when a workflow is running, the workflow runtime engine uses a persistence service to save the state of the workflow instance onto the disk.</span><span class="sxs-lookup"><span data-stu-id="e3d1f-174">When certain conditions, such as restart or shutdown occur when a workflow is running, the workflow runtime engine uses a persistence service to save the state of the workflow instance onto the disk.</span></span> <span data-ttu-id="e3d1f-175">The persistence service is also invoked when other conditions occur, such as when a workflow becomes idle and is waiting for some external event to occur.</span><span class="sxs-lookup"><span data-stu-id="e3d1f-175">The persistence service is also invoked when other conditions occur, such as when a workflow becomes idle and is waiting for some external event to occur.</span></span> <span data-ttu-id="e3d1f-176">Persisting these idle workflow instances saves memory and greatly increases scalability.</span><span class="sxs-lookup"><span data-stu-id="e3d1f-176">Persisting these idle workflow instances saves memory and greatly increases scalability.</span></span> <span data-ttu-id="e3d1f-177">If a server that is running the asynchronous service is shut down or if the workflow crashes during execution, the workflow can be restarted from its last persisted point after the server restarts.</span><span class="sxs-lookup"><span data-stu-id="e3d1f-177">If a server that is running the asynchronous service is shut down or if the workflow crashes during execution, the workflow can be restarted from its last persisted point after the server restarts.</span></span> <span data-ttu-id="e3d1f-178">When the workflow is no longer idle, the state of the workflow instance is restored in memory to the state at the last persisted point.</span><span class="sxs-lookup"><span data-stu-id="e3d1f-178">When the workflow is no longer idle, the state of the workflow instance is restored in memory to the state at the last persisted point.</span></span>  
  
[!INCLUDE[proc_more_information](../includes/proc-more-information.md)] <span data-ttu-id="e3d1f-179">[Workflow Persistence](https://msdn.microsoft.com/library/dd489420.aspx).</span><span class="sxs-lookup"><span data-stu-id="e3d1f-179">[Workflow Persistence](https://msdn.microsoft.com/library/dd489420.aspx).</span></span>  
  
### <a name="see-also"></a><span data-ttu-id="e3d1f-180">Xem thêm</span><span class="sxs-lookup"><span data-stu-id="e3d1f-180">See also</span></span>  
[<span data-ttu-id="e3d1f-181">Dịch vụ Không đồng thời</span><span class="sxs-lookup"><span data-stu-id="e3d1f-181">Asynchronous Service</span></span>](asynchronous-service.md)<br />
[<span data-ttu-id="e3d1f-182">Event Execution Pipeline</span><span class="sxs-lookup"><span data-stu-id="e3d1f-182">Event Execution Pipeline</span></span>](event-execution-pipeline.md)<br />
[<span data-ttu-id="e3d1f-183">Event Framework Overview</span><span class="sxs-lookup"><span data-stu-id="e3d1f-183">Event Framework Overview</span></span>](introduction-event-framework.md)<br />
[<span data-ttu-id="e3d1f-184">Processes in Dynamics 365 for Customer Engagement apps</span><span class="sxs-lookup"><span data-stu-id="e3d1f-184">Processes in Dynamics 365 for Customer Engagement apps</span></span>](automate-business-processes-customer-engagement.md)<br />
