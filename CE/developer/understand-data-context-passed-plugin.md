---
title: Understand the data context passed to a plug-in (Developer Guide for Dynamics 365 for Customer Engagement apps) | MicrosoftDocs
description: IPluginExecutionContext contains information that describes the run-time environment that the plug-in executes, information related to the execution pipeline, and entity business information. The context is contained in the System.IServiceProvider parameter that is passed at run time to a plug-in through its IServiceProvider) method.
ms.custom: ''
ms.date: 10/16/2018
ms.reviewer: ''
ms.service: crm-online
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
applies_to:
- Dynamics 365 for Customer Engagement (online)
helpviewer_keywords:
- infinite loop
ms.assetid: c59e7465-e955-40cc-a470-4a528138c36d
caps.latest.revision: 42
author: JimDaly
ms.author: jdaly
manager: amyla
search.audienceType:
- developer
search.app:
- D365CE
ms.openlocfilehash: 666703de05c7f91dcb20035f265808737b7d4fc2
ms.sourcegitcommit: 9f0efd59de16a6d9902fa372cb25fc0baf1c2838
ms.translationtype: HT
ms.contentlocale: vi-VN
ms.lasthandoff: 01/08/2019
ms.locfileid: "387068"
---
# <a name="understand-the-data-context-passed-to-a-plug-in"></a><span data-ttu-id="f4372-104">Understand the data context passed to a plug-in</span><span class="sxs-lookup"><span data-stu-id="f4372-104">Understand the data context passed to a plug-in</span></span>

[!INCLUDE[](../includes/cc_applies_to_update_9_0_0.md)]

<span data-ttu-id="f4372-105">When a plug-in is run in response to an execution pipeline event for which it is registered, the plug-in’s <xref:Microsoft.Xrm.Sdk.IPlugin.Execute*> method is called.</span><span class="sxs-lookup"><span data-stu-id="f4372-105">When a plug-in is run in response to an execution pipeline event for which it is registered, the plug-in’s <xref:Microsoft.Xrm.Sdk.IPlugin.Execute*> method is called.</span></span> <span data-ttu-id="f4372-106">That method passes an [System.IServiceProvider](https://docs.microsoft.com/dotnet/api/system.iserviceprovider) object as a parameter, which contains a number of useful objects.</span><span class="sxs-lookup"><span data-stu-id="f4372-106">That method passes an [System.IServiceProvider](https://docs.microsoft.com/dotnet/api/system.iserviceprovider) object as a parameter, which contains a number of useful objects.</span></span> <span data-ttu-id="f4372-107">The following sections describe some of the information that is passed to a plug-in when executed.</span><span class="sxs-lookup"><span data-stu-id="f4372-107">The following sections describe some of the information that is passed to a plug-in when executed.</span></span>  
  
<a name="bkmk_context"></a>

## <a name="access-the-plug-in-execution-context"></a><span data-ttu-id="f4372-108">Access the plug-in execution context</span><span class="sxs-lookup"><span data-stu-id="f4372-108">Access the plug-in execution context</span></span>

<span data-ttu-id="f4372-109"><xref:Microsoft.Xrm.Sdk.IPluginExecutionContext> contains information that describes the run-time environment that the plug-in executes, information related to the execution pipeline, and entity business information.</span><span class="sxs-lookup"><span data-stu-id="f4372-109"><xref:Microsoft.Xrm.Sdk.IPluginExecutionContext> contains information that describes the run-time environment that the plug-in executes, information related to the execution pipeline, and entity business information.</span></span> <span data-ttu-id="f4372-110">The context is contained in the [System.IServiceProvider](https://docs.microsoft.com/dotnet/api/system.iserviceprovider) parameter that is passed at run time to a plug-in through its <xref:Microsoft.Xrm.Sdk.IPlugin.Execute*> method.</span><span class="sxs-lookup"><span data-stu-id="f4372-110">The context is contained in the [System.IServiceProvider](https://docs.microsoft.com/dotnet/api/system.iserviceprovider) parameter that is passed at run time to a plug-in through its <xref:Microsoft.Xrm.Sdk.IPlugin.Execute*> method.</span></span>  

[!code-csharp[Plug-ins#FollowupPlugin1](../snippets/csharp/CRMV8/plug-ins/cs/followupplugin1.cs#followupplugin1)]  

<span data-ttu-id="f4372-111">When a system event is fired that a plug-in is registered for, the system creates and populates the context and passes it to a plug-in through the previously mentioned classes and methods.</span><span class="sxs-lookup"><span data-stu-id="f4372-111">When a system event is fired that a plug-in is registered for, the system creates and populates the context and passes it to a plug-in through the previously mentioned classes and methods.</span></span> <span data-ttu-id="f4372-112">The execution context is passed to each registered plug-in in the pipeline when they are executed.</span><span class="sxs-lookup"><span data-stu-id="f4372-112">The execution context is passed to each registered plug-in in the pipeline when they are executed.</span></span> <span data-ttu-id="f4372-113">Each plug-in in the execution pipeline is able to modify writable properties in the context.</span><span class="sxs-lookup"><span data-stu-id="f4372-113">Each plug-in in the execution pipeline is able to modify writable properties in the context.</span></span> <span data-ttu-id="f4372-114">For example, given a plug-in registered for a pre-event and another plug-in registered for a post-event, the post-event plug-in can receive a context that has been modified by the pre-event plug-in.</span><span class="sxs-lookup"><span data-stu-id="f4372-114">For example, given a plug-in registered for a pre-event and another plug-in registered for a post-event, the post-event plug-in can receive a context that has been modified by the pre-event plug-in.</span></span> <span data-ttu-id="f4372-115">The same situation applies to plug-ins that are registered within the same stage.</span><span class="sxs-lookup"><span data-stu-id="f4372-115">The same situation applies to plug-ins that are registered within the same stage.</span></span>  

<span data-ttu-id="f4372-116">All the properties in <xref:Microsoft.Xrm.Sdk.IPluginExecutionContext> are read-only.</span><span class="sxs-lookup"><span data-stu-id="f4372-116">All the properties in <xref:Microsoft.Xrm.Sdk.IPluginExecutionContext> are read-only.</span></span> <span data-ttu-id="f4372-117">However, your plug-in can modify the contents of those properties that are collections.</span><span class="sxs-lookup"><span data-stu-id="f4372-117">However, your plug-in can modify the contents of those properties that are collections.</span></span> <span data-ttu-id="f4372-118">For more information about infinite loop prevention, see <xref:Microsoft.Xrm.Sdk.IExecutionContext.Depth>.</span><span class="sxs-lookup"><span data-stu-id="f4372-118">For more information about infinite loop prevention, see <xref:Microsoft.Xrm.Sdk.IExecutionContext.Depth>.</span></span> 

### <a name="parentcontext"></a><span data-ttu-id="f4372-119">ParentContext</span><span class="sxs-lookup"><span data-stu-id="f4372-119">ParentContext</span></span>

<span data-ttu-id="f4372-120">The <xref:Microsoft.Xrm.Sdk.IPluginExecutionContext.ParentContext> contains information about the operations that may have preceded the current operation.</span><span class="sxs-lookup"><span data-stu-id="f4372-120">The <xref:Microsoft.Xrm.Sdk.IPluginExecutionContext.ParentContext> contains information about the operations that may have preceded the current operation.</span></span> <span data-ttu-id="f4372-121">For example another message may create a record.</span><span class="sxs-lookup"><span data-stu-id="f4372-121">For example another message may create a record.</span></span> <span data-ttu-id="f4372-122">If you register a plug-in on the `Create` message you will find the context of the previous operation in the `ParentContext`.</span><span class="sxs-lookup"><span data-stu-id="f4372-122">If you register a plug-in on the `Create` message you will find the context of the previous operation in the `ParentContext`.</span></span>

> [!CAUTION]
> <span data-ttu-id="f4372-123">You should avoid taking a dependency on values that you find in the `ParentContext` to apply your business logic.</span><span class="sxs-lookup"><span data-stu-id="f4372-123">You should avoid taking a dependency on values that you find in the `ParentContext` to apply your business logic.</span></span> <span data-ttu-id="f4372-124">The specific order in which operations occur is not guaranteed and may change over time.</span><span class="sxs-lookup"><span data-stu-id="f4372-124">The specific order in which operations occur is not guaranteed and may change over time.</span></span>
>
> <span data-ttu-id="f4372-125">If you do choose to take a dependency on values found in the `ParentContext`, you should take steps to ensure that your code is resilient to adapt to potential changes.</span><span class="sxs-lookup"><span data-stu-id="f4372-125">If you do choose to take a dependency on values found in the `ParentContext`, you should take steps to ensure that your code is resilient to adapt to potential changes.</span></span> <span data-ttu-id="f4372-126">You should test the logic regularly to verify that the conditions you depend on remain in effect over time.</span><span class="sxs-lookup"><span data-stu-id="f4372-126">You should test the logic regularly to verify that the conditions you depend on remain in effect over time.</span></span>
  
<a name="bkmk_access"></a>

## <a name="access-the-organization-service"></a><span data-ttu-id="f4372-127">Access the Organization service</span><span class="sxs-lookup"><span data-stu-id="f4372-127">Access the Organization service</span></span> 
 
<span data-ttu-id="f4372-128">To access the [!INCLUDE[pn_dynamics_crm](../includes/pn-dynamics-crm.md)] organization service, it is required that plug-in code create an instance of the service through the [IServiceProvider.GetService(Type)](https://docs.microsoft.com/dotnet/api/system.iserviceprovider.getservice) method.</span><span class="sxs-lookup"><span data-stu-id="f4372-128">To access the [!INCLUDE[pn_dynamics_crm](../includes/pn-dynamics-crm.md)] organization service, it is required that plug-in code create an instance of the service through the [IServiceProvider.GetService(Type)](https://docs.microsoft.com/dotnet/api/system.iserviceprovider.getservice) method.</span></span>  

[!code-csharp[Plug-ins#FollowupPlugin4](../snippets/csharp/CRMV8/plug-ins/cs/followupplugin4.cs#followupplugin4)]  

<span data-ttu-id="f4372-129">The platform provides the correct web service URLs and network credentials for you when you use this method.</span><span class="sxs-lookup"><span data-stu-id="f4372-129">The platform provides the correct web service URLs and network credentials for you when you use this method.</span></span> <span data-ttu-id="f4372-130">Instantiating your own Web service proxy is not supported as it will create deadlock and authentication issues.</span><span class="sxs-lookup"><span data-stu-id="f4372-130">Instantiating your own Web service proxy is not supported as it will create deadlock and authentication issues.</span></span>  
  
<a name="bkmk_notify"></a>

## <a name="access-the-notification-service"></a><span data-ttu-id="f4372-131">Access the Notification service</span><span class="sxs-lookup"><span data-stu-id="f4372-131">Access the Notification service</span></span>  

<span data-ttu-id="f4372-132">Synchronous registered plug-ins can post the execution context to the [!INCLUDE[windows_azure_service_bus](../includes/windows-azure-service-bus.md)].</span><span class="sxs-lookup"><span data-stu-id="f4372-132">Synchronous registered plug-ins can post the execution context to the [!INCLUDE[windows_azure_service_bus](../includes/windows-azure-service-bus.md)].</span></span> <span data-ttu-id="f4372-133">The service provider object that is passed to the plug-in contains a reference to <xref:Microsoft.Xrm.Sdk.IServiceEndpointNotificationService>.</span><span class="sxs-lookup"><span data-stu-id="f4372-133">The service provider object that is passed to the plug-in contains a reference to <xref:Microsoft.Xrm.Sdk.IServiceEndpointNotificationService>.</span></span> <span data-ttu-id="f4372-134">It is through that notification service that synchronous plug-ins can send brokered messages to the [!INCLUDE[windows_azure_service_bus](../includes/windows-azure-service-bus.md)].</span><span class="sxs-lookup"><span data-stu-id="f4372-134">It is through that notification service that synchronous plug-ins can send brokered messages to the [!INCLUDE[windows_azure_service_bus](../includes/windows-azure-service-bus.md)].</span></span> <span data-ttu-id="f4372-135">For more information about [!INCLUDE[pn_Windows_Azure](../includes/pn-windows-azure.md)], see [Introduction to Microsoft Azure Integration with Dynamics 365 for Customer Engagement apps](azure-integration.md).</span><span class="sxs-lookup"><span data-stu-id="f4372-135">For more information about [!INCLUDE[pn_Windows_Azure](../includes/pn-windows-azure.md)], see [Introduction to Microsoft Azure Integration with Dynamics 365 for Customer Engagement apps](azure-integration.md).</span></span> <span data-ttu-id="f4372-136">For more information about writing a plug-in that can post to the [!INCLUDE[windows_azure_service_bus](../includes/windows-azure-service-bus.md)], see [Write a Custom Azure-aware Plug-in](write-custom-azure-aware-plugin.md).</span><span class="sxs-lookup"><span data-stu-id="f4372-136">For more information about writing a plug-in that can post to the [!INCLUDE[windows_azure_service_bus](../includes/windows-azure-service-bus.md)], see [Write a Custom Azure-aware Plug-in](write-custom-azure-aware-plugin.md).</span></span>  
  
<a name="bkmk_inputandoutput"></a>
  
## <a name="input-and-output-parameters"></a><span data-ttu-id="f4372-137">Input and output parameters</span><span class="sxs-lookup"><span data-stu-id="f4372-137">Input and output parameters</span></span>

<span data-ttu-id="f4372-138">The <xref:Microsoft.Xrm.Sdk.IExecutionContext.InputParameters> property contains the data that is in the request message currently being processed by the event execution pipeline.</span><span class="sxs-lookup"><span data-stu-id="f4372-138">The <xref:Microsoft.Xrm.Sdk.IExecutionContext.InputParameters> property contains the data that is in the request message currently being processed by the event execution pipeline.</span></span> <span data-ttu-id="f4372-139">Your plug-in code can access this data.</span><span class="sxs-lookup"><span data-stu-id="f4372-139">Your plug-in code can access this data.</span></span> <span data-ttu-id="f4372-140">The property is of type <xref:Microsoft.Xrm.Sdk.ParameterCollection> where the keys to access the request data are the names of the actual public properties in the request.</span><span class="sxs-lookup"><span data-stu-id="f4372-140">The property is of type <xref:Microsoft.Xrm.Sdk.ParameterCollection> where the keys to access the request data are the names of the actual public properties in the request.</span></span> <span data-ttu-id="f4372-141">As an example, take a look at <xref:Microsoft.Xrm.Sdk.Messages.CreateRequest>.</span><span class="sxs-lookup"><span data-stu-id="f4372-141">As an example, take a look at <xref:Microsoft.Xrm.Sdk.Messages.CreateRequest>.</span></span> <span data-ttu-id="f4372-142">One property of <xref:Microsoft.Xrm.Sdk.Messages.CreateRequest> is named <xref:Microsoft.Xrm.Sdk.Messages.CreateRequest.Target>, which is of type <xref:Microsoft.Xrm.Sdk.Entity>.</span><span class="sxs-lookup"><span data-stu-id="f4372-142">One property of <xref:Microsoft.Xrm.Sdk.Messages.CreateRequest> is named <xref:Microsoft.Xrm.Sdk.Messages.CreateRequest.Target>, which is of type <xref:Microsoft.Xrm.Sdk.Entity>.</span></span> <span data-ttu-id="f4372-143">This is the entity currently being operated upon by the platform.</span><span class="sxs-lookup"><span data-stu-id="f4372-143">This is the entity currently being operated upon by the platform.</span></span> <span data-ttu-id="f4372-144">To access the data of the entity you would use the name “Target” as the key in the input parameter collection.</span><span class="sxs-lookup"><span data-stu-id="f4372-144">To access the data of the entity you would use the name “Target” as the key in the input parameter collection.</span></span> <span data-ttu-id="f4372-145">You also need to cast the returned instance.</span><span class="sxs-lookup"><span data-stu-id="f4372-145">You also need to cast the returned instance.</span></span>  
  
 [!code-csharp[Plug-ins#FollowupPlugin2](../snippets/csharp/CRMV8/plug-ins/cs/followupplugin2.cs#followupplugin2)]  
  
<span data-ttu-id="f4372-146">Note that not all requests contain a `Target` property that is of type <xref:Microsoft.Xrm.Sdk.Entity>, so you have to look at each request or response.</span><span class="sxs-lookup"><span data-stu-id="f4372-146">Note that not all requests contain a `Target` property that is of type <xref:Microsoft.Xrm.Sdk.Entity>, so you have to look at each request or response.</span></span> <span data-ttu-id="f4372-147">For example, <xref:Microsoft.Xrm.Sdk.Messages.DeleteRequest> has a <xref:Microsoft.Xrm.Sdk.Messages.DeleteRequest.Target> property, but its type is <xref:Microsoft.Xrm.Sdk.EntityReference>.</span><span class="sxs-lookup"><span data-stu-id="f4372-147">For example, <xref:Microsoft.Xrm.Sdk.Messages.DeleteRequest> has a <xref:Microsoft.Xrm.Sdk.Messages.DeleteRequest.Target> property, but its type is <xref:Microsoft.Xrm.Sdk.EntityReference>.</span></span> <span data-ttu-id="f4372-148">The preceding code example would be changed as follows.</span><span class="sxs-lookup"><span data-stu-id="f4372-148">The preceding code example would be changed as follows.</span></span>  
  
```csharp  
// The InputParameters collection contains all the data passed in the message request.  
if (context.InputParameters.Contains("Target") && context.InputParameters["Target"] is EntityReference)  
{  
    // Obtain the target entity from the input parameters.  
    EntityReference entity = (EntityReference)context.InputParameters["Target"];  
}  
```  
  
<span data-ttu-id="f4372-149">Once you have access to the entity data, you can read and modify it.</span><span class="sxs-lookup"><span data-stu-id="f4372-149">Once you have access to the entity data, you can read and modify it.</span></span> <span data-ttu-id="f4372-150">Any data changes to the context performed by plug-ins registered in stage 10 or 20 of the pipeline are passed in the context to the core operation in stage 30.</span><span class="sxs-lookup"><span data-stu-id="f4372-150">Any data changes to the context performed by plug-ins registered in stage 10 or 20 of the pipeline are passed in the context to the core operation in stage 30.</span></span>  
  
> [!IMPORTANT]
>  <span data-ttu-id="f4372-151">Not all fields in an entity record that are passed to a plug-in through the context can be modified.</span><span class="sxs-lookup"><span data-stu-id="f4372-151">Not all fields in an entity record that are passed to a plug-in through the context can be modified.</span></span> <span data-ttu-id="f4372-152">You should check the field’s **IsValidForUpdate** metadata property to verify that it isn’t set to `false`.</span><span class="sxs-lookup"><span data-stu-id="f4372-152">You should check the field’s **IsValidForUpdate** metadata property to verify that it isn’t set to `false`.</span></span> <span data-ttu-id="f4372-153">Attempting to change the value of a field that can’t be updated results in an exception.</span><span class="sxs-lookup"><span data-stu-id="f4372-153">Attempting to change the value of a field that can’t be updated results in an exception.</span></span>  
  
<span data-ttu-id="f4372-154">Similarly, the <xref:Microsoft.Xrm.Sdk.IExecutionContext.OutputParameters> property contains the data that is in the response message, for example <xref:Microsoft.Xrm.Sdk.Messages.CreateResponse>, currently being passed through the event execution pipeline.</span><span class="sxs-lookup"><span data-stu-id="f4372-154">Similarly, the <xref:Microsoft.Xrm.Sdk.IExecutionContext.OutputParameters> property contains the data that is in the response message, for example <xref:Microsoft.Xrm.Sdk.Messages.CreateResponse>, currently being passed through the event execution pipeline.</span></span> <span data-ttu-id="f4372-155">However, only synchronous post-event and asynchronous registered plug-ins have <xref:Microsoft.Xrm.Sdk.IExecutionContext.OutputParameters> populated as the response is the result of the core platform operation.</span><span class="sxs-lookup"><span data-stu-id="f4372-155">However, only synchronous post-event and asynchronous registered plug-ins have <xref:Microsoft.Xrm.Sdk.IExecutionContext.OutputParameters> populated as the response is the result of the core platform operation.</span></span> <span data-ttu-id="f4372-156">The property is of type <xref:Microsoft.Xrm.Sdk.ParameterCollection> where the keys to access the response data are the names of the actual public properties in the response.</span><span class="sxs-lookup"><span data-stu-id="f4372-156">The property is of type <xref:Microsoft.Xrm.Sdk.ParameterCollection> where the keys to access the response data are the names of the actual public properties in the response.</span></span>  
  
<a name="bkmk_preandpost"></a>

## <a name="pre-and-post-entity-images"></a><span data-ttu-id="f4372-157">Pre and post entity images</span><span class="sxs-lookup"><span data-stu-id="f4372-157">Pre and post entity images</span></span>

<span data-ttu-id="f4372-158"><xref:Microsoft.Xrm.Sdk.IExecutionContext.PreEntityImages> and <xref:Microsoft.Xrm.Sdk.IExecutionContext.PostEntityImages> contain snapshots of the primary entity's attributes before (pre) and after (post) the core platform operation.</span><span class="sxs-lookup"><span data-stu-id="f4372-158"><xref:Microsoft.Xrm.Sdk.IExecutionContext.PreEntityImages> and <xref:Microsoft.Xrm.Sdk.IExecutionContext.PostEntityImages> contain snapshots of the primary entity's attributes before (pre) and after (post) the core platform operation.</span></span> [!INCLUDE[pn_dynamics_crm](../includes/pn-dynamics-crm.md)] <span data-ttu-id="f4372-159">populates the pre-entity and post-entity images based on the security privileges of the impersonated system user.</span><span class="sxs-lookup"><span data-stu-id="f4372-159">populates the pre-entity and post-entity images based on the security privileges of the impersonated system user.</span></span> <span data-ttu-id="f4372-160">Only entity attributes that are set to a value or are **null** are available in the pre or post entity images.</span><span class="sxs-lookup"><span data-stu-id="f4372-160">Only entity attributes that are set to a value or are **null** are available in the pre or post entity images.</span></span> <span data-ttu-id="f4372-161">You can specify to have the platform populate these `PreEntityImages` and `PostEntityImages` properties when you register your plug-in.</span><span class="sxs-lookup"><span data-stu-id="f4372-161">You can specify to have the platform populate these `PreEntityImages` and `PostEntityImages` properties when you register your plug-in.</span></span> <span data-ttu-id="f4372-162">The entity alias value you specify during plug-in registration is used as the key into the image collection in your plug-in code.</span><span class="sxs-lookup"><span data-stu-id="f4372-162">The entity alias value you specify during plug-in registration is used as the key into the image collection in your plug-in code.</span></span>  

<span data-ttu-id="f4372-163">There are some events where images aren’t available.</span><span class="sxs-lookup"><span data-stu-id="f4372-163">There are some events where images aren’t available.</span></span> <span data-ttu-id="f4372-164">For example, only synchronous post-event and asynchronous registered plug-ins have <xref:Microsoft.Xrm.Sdk.IExecutionContext.PostEntityImages> populated.</span><span class="sxs-lookup"><span data-stu-id="f4372-164">For example, only synchronous post-event and asynchronous registered plug-ins have <xref:Microsoft.Xrm.Sdk.IExecutionContext.PostEntityImages> populated.</span></span> <span data-ttu-id="f4372-165">The create operation doesn’t support a pre-image and a delete operation doesn’t support a post-image.</span><span class="sxs-lookup"><span data-stu-id="f4372-165">The create operation doesn’t support a pre-image and a delete operation doesn’t support a post-image.</span></span> <span data-ttu-id="f4372-166">In addition, only a small subset of messages support pre and post images as shown in the following table.</span><span class="sxs-lookup"><span data-stu-id="f4372-166">In addition, only a small subset of messages support pre and post images as shown in the following table.</span></span>  
  
|<span data-ttu-id="f4372-167">Message Request</span><span class="sxs-lookup"><span data-stu-id="f4372-167">Message Request</span></span>|<span data-ttu-id="f4372-168">Thuộc tính</span><span class="sxs-lookup"><span data-stu-id="f4372-168">Property</span></span>|<span data-ttu-id="f4372-169">Mô tả</span><span class="sxs-lookup"><span data-stu-id="f4372-169">Description</span></span>|  
|---------------------|--------------|-----------------|  
|<xref:Microsoft.Crm.Sdk.Messages.AssignRequest>|<span data-ttu-id="f4372-170">Đích</span><span class="sxs-lookup"><span data-stu-id="f4372-170">Target</span></span>|<span data-ttu-id="f4372-171">The assigned entity.</span><span class="sxs-lookup"><span data-stu-id="f4372-171">The assigned entity.</span></span>|  
|<xref:Microsoft.Xrm.Sdk.Messages.CreateRequest>|<span data-ttu-id="f4372-172">Đích</span><span class="sxs-lookup"><span data-stu-id="f4372-172">Target</span></span>|<span data-ttu-id="f4372-173">The created entity.</span><span class="sxs-lookup"><span data-stu-id="f4372-173">The created entity.</span></span>|  
|<xref:Microsoft.Xrm.Sdk.Messages.DeleteRequest>|<span data-ttu-id="f4372-174">Đích</span><span class="sxs-lookup"><span data-stu-id="f4372-174">Target</span></span>|<span data-ttu-id="f4372-175">The deleted entity.</span><span class="sxs-lookup"><span data-stu-id="f4372-175">The deleted entity.</span></span>|  
|<xref:Microsoft.Crm.Sdk.Messages.DeliverIncomingEmailRequest>|<span data-ttu-id="f4372-176">EmailId</span><span class="sxs-lookup"><span data-stu-id="f4372-176">EmailId</span></span>|<span data-ttu-id="f4372-177">The delivered email ID.</span><span class="sxs-lookup"><span data-stu-id="f4372-177">The delivered email ID.</span></span>|  
|<xref:Microsoft.Crm.Sdk.Messages.DeliverPromoteEmailRequest>|<span data-ttu-id="f4372-178">EmailId</span><span class="sxs-lookup"><span data-stu-id="f4372-178">EmailId</span></span>|<span data-ttu-id="f4372-179">The delivered email ID.</span><span class="sxs-lookup"><span data-stu-id="f4372-179">The delivered email ID.</span></span>|  
|<xref:Microsoft.Crm.Sdk.Messages.ExecuteWorkflowRequest>|<span data-ttu-id="f4372-180">Đích</span><span class="sxs-lookup"><span data-stu-id="f4372-180">Target</span></span>|<span data-ttu-id="f4372-181">The workflow entity.</span><span class="sxs-lookup"><span data-stu-id="f4372-181">The workflow entity.</span></span>|  
|<xref:Microsoft.Crm.Sdk.Messages.MergeRequest>|<span data-ttu-id="f4372-182">Đích</span><span class="sxs-lookup"><span data-stu-id="f4372-182">Target</span></span>|<span data-ttu-id="f4372-183">The parent entity, into which the data from the child entity is being merged.</span><span class="sxs-lookup"><span data-stu-id="f4372-183">The parent entity, into which the data from the child entity is being merged.</span></span>|  
|<xref:Microsoft.Crm.Sdk.Messages.MergeRequest>|<span data-ttu-id="f4372-184">SubordinateId</span><span class="sxs-lookup"><span data-stu-id="f4372-184">SubordinateId</span></span>|<span data-ttu-id="f4372-185">The child entity that is being merged into the parent entity.</span><span class="sxs-lookup"><span data-stu-id="f4372-185">The child entity that is being merged into the parent entity.</span></span>|  
|<xref:Microsoft.Crm.Sdk.Messages.SendEmailRequest>|<span data-ttu-id="f4372-186">EmailId</span><span class="sxs-lookup"><span data-stu-id="f4372-186">EmailId</span></span>|<span data-ttu-id="f4372-187">The sent entity ID.</span><span class="sxs-lookup"><span data-stu-id="f4372-187">The sent entity ID.</span></span>|  
|<xref:Microsoft.Crm.Sdk.Messages.SetStateRequest>|<span data-ttu-id="f4372-188">EntityMoniker</span><span class="sxs-lookup"><span data-stu-id="f4372-188">EntityMoniker</span></span>|<span data-ttu-id="f4372-189">The entity for which the state is set.</span><span class="sxs-lookup"><span data-stu-id="f4372-189">The entity for which the state is set.</span></span>|  
|<xref:Microsoft.Xrm.Sdk.Messages.UpdateRequest>|<span data-ttu-id="f4372-190">Đích</span><span class="sxs-lookup"><span data-stu-id="f4372-190">Target</span></span>|<span data-ttu-id="f4372-191">The updated entity.</span><span class="sxs-lookup"><span data-stu-id="f4372-191">The updated entity.</span></span>|  
  
 <span data-ttu-id="f4372-192">Registering for pre or post images to access entity attribute values results in improved plug-in performance as compared to obtaining entity attributes in plug-in code through <xref:Microsoft.Xrm.Sdk.Messages.RetrieveRequest> or <xref:Microsoft.Xrm.Sdk.Messages.RetrieveMultipleRequest> requests.</span><span class="sxs-lookup"><span data-stu-id="f4372-192">Registering for pre or post images to access entity attribute values results in improved plug-in performance as compared to obtaining entity attributes in plug-in code through <xref:Microsoft.Xrm.Sdk.Messages.RetrieveRequest> or <xref:Microsoft.Xrm.Sdk.Messages.RetrieveMultipleRequest> requests.</span></span>  
  
> [!IMPORTANT]
>  <span data-ttu-id="f4372-193">A pre-image passed in the execution context to a plug-in or custom workflow activity might contain data that the logged-on user doesn't have the privileges to access.</span><span class="sxs-lookup"><span data-stu-id="f4372-193">A pre-image passed in the execution context to a plug-in or custom workflow activity might contain data that the logged-on user doesn't have the privileges to access.</span></span> [!INCLUDE[pn_dynamics_crm](../includes/pn-dynamics-crm.md)] <span data-ttu-id="f4372-194">administrators and other users with high-level permissions can register plug-ins to run under the “system” user account or plug-in code can make calls as a “system” user on behalf of the logged-on user.</span><span class="sxs-lookup"><span data-stu-id="f4372-194">administrators and other users with high-level permissions can register plug-ins to run under the “system” user account or plug-in code can make calls as a “system” user on behalf of the logged-on user.</span></span> <span data-ttu-id="f4372-195">If this happens, logged-on users can access data that their field level security does not allow access to.</span><span class="sxs-lookup"><span data-stu-id="f4372-195">If this happens, logged-on users can access data that their field level security does not allow access to.</span></span> [!INCLUDE[proc_more_information](../includes/proc-more-information.md)] <span data-ttu-id="f4372-196">[Impersonation in Plug-ins](impersonation-plugins.md)</span><span class="sxs-lookup"><span data-stu-id="f4372-196">[Impersonation in Plug-ins](impersonation-plugins.md)</span></span>  
  
### <a name="see-also"></a><span data-ttu-id="f4372-197">Xem thêm</span><span class="sxs-lookup"><span data-stu-id="f4372-197">See also</span></span> 
 <span data-ttu-id="f4372-198">[Plug-in Development](plugin-development.md) </span><span class="sxs-lookup"><span data-stu-id="f4372-198">[Plug-in Development](plugin-development.md) </span></span>  
 <span data-ttu-id="f4372-199">[Handle Exceptions in Plug-ins](handle-exceptions-plugins.md) </span><span class="sxs-lookup"><span data-stu-id="f4372-199">[Handle Exceptions in Plug-ins](handle-exceptions-plugins.md) </span></span>  
 <span data-ttu-id="f4372-200">[Event Execution Pipeline](event-execution-pipeline.md) </span><span class="sxs-lookup"><span data-stu-id="f4372-200">[Event Execution Pipeline](event-execution-pipeline.md) </span></span>  
 <span data-ttu-id="f4372-201">[Use Messages (Request and Response Classes) with the Execute Method](org-service/use-messages-request-response-classes-execute-method.md) </span><span class="sxs-lookup"><span data-stu-id="f4372-201">[Use Messages (Request and Response Classes) with the Execute Method](org-service/use-messages-request-response-classes-execute-method.md) </span></span>  
 <span data-ttu-id="f4372-202">[Use IOrganizationService for Your Organization](org-service/use-organization-service-read-write-data-metadata.md) </span><span class="sxs-lookup"><span data-stu-id="f4372-202">[Use IOrganizationService for Your Organization](org-service/use-organization-service-read-write-data-metadata.md) </span></span>  
 [<span data-ttu-id="f4372-203">Register and Deploy Plug-ins</span><span class="sxs-lookup"><span data-stu-id="f4372-203">Register and Deploy Plug-ins</span></span>](register-deploy-plugins.md)
