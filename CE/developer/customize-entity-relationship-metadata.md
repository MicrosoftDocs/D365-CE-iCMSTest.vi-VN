---
title: Customize entity relationship metadata (Developer Guide for Dynamics 365 for Customer Engagement apps) | MicrosoftDocs
description: The topic explains about working with entity relationships programmatically. Also, types of entity relationships and configuring associated menus.
ms.custom: ''
ms.date: 10/31/2017
ms.reviewer: ''
ms.service: crm-online
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
applies_to:
- Dynamics 365 for Customer Engagement (online)
ms.assetid: 44ab54f6-f55a-4cf8-98f4-cbd4358286c7
caps.latest.revision: 36
author: JimDaly
ms.author: jdaly
manager: amyla
search.audienceType:
- developer
search.app:
- D365CE
ms.openlocfilehash: e64e335897f18be28202baace9aab21fdafce1f8
ms.sourcegitcommit: 9f0efd59de16a6d9902fa372cb25fc0baf1c2838
ms.translationtype: HT
ms.contentlocale: vi-VN
ms.lasthandoff: 01/08/2019
ms.locfileid: "385984"
---
# <a name="customize-entity-relationship-metadata"></a><span data-ttu-id="c85de-104">Customize entity relationship metadata</span><span class="sxs-lookup"><span data-stu-id="c85de-104">Customize entity relationship metadata</span></span>

[!INCLUDE[](../includes/cc_applies_to_update_9_0_0.md)]

<span data-ttu-id="c85de-105">Entity relationships define the ways that entity records can be associated with records of other entities or the same entity.</span><span class="sxs-lookup"><span data-stu-id="c85de-105">Entity relationships define the ways that entity records can be associated with records of other entities or the same entity.</span></span> <span data-ttu-id="c85de-106">Creating new entity relationships creates new table relationships in the database.</span><span class="sxs-lookup"><span data-stu-id="c85de-106">Creating new entity relationships creates new table relationships in the database.</span></span> <span data-ttu-id="c85de-107">Use entity relationships to define specific associations that are frequently used to associate records for reports or in the user interface.</span><span class="sxs-lookup"><span data-stu-id="c85de-107">Use entity relationships to define specific associations that are frequently used to associate records for reports or in the user interface.</span></span> <span data-ttu-id="c85de-108">Once a relationship exists, you can associate and disassociate records based on the relationship using the `Associate` and `Disassociate` methods.</span><span class="sxs-lookup"><span data-stu-id="c85de-108">Once a relationship exists, you can associate and disassociate records based on the relationship using the `Associate` and `Disassociate` methods.</span></span> [!INCLUDE[proc_more_information](../includes/proc-more-information.md)] <span data-ttu-id="c85de-109">[Actions on Entity Records](introduction-entities.md#ActionsOnEntityRecords)</span><span class="sxs-lookup"><span data-stu-id="c85de-109">[Actions on Entity Records](introduction-entities.md#ActionsOnEntityRecords)</span></span>  
  
 <span data-ttu-id="c85de-110">For relationships between individual records that are less formal and more flexible, see [Connection Entities](connection-entities.md).</span><span class="sxs-lookup"><span data-stu-id="c85de-110">For relationships between individual records that are less formal and more flexible, see [Connection Entities](connection-entities.md).</span></span>  
  
 <span data-ttu-id="c85de-111">This topic is about working with entity relationships programmatically.</span><span class="sxs-lookup"><span data-stu-id="c85de-111">This topic is about working with entity relationships programmatically.</span></span> <span data-ttu-id="c85de-112">For information about working with entity relationship in the application, see [Create and edit entity relationships](../customize/create-edit-entity-relationships.md).</span><span class="sxs-lookup"><span data-stu-id="c85de-112">For information about working with entity relationship in the application, see [Create and edit entity relationships](../customize/create-edit-entity-relationships.md).</span></span>  
  
<a name="BKMK_TypesOfEntityRelationships"></a>   
## <a name="types-of-entity-relationships"></a><span data-ttu-id="c85de-113">Loại mối quan hệ của thực thể</span><span class="sxs-lookup"><span data-stu-id="c85de-113">Types of entity relationships</span></span>  
 [!INCLUDE[pn_dynamics_crm](../includes/pn-dynamics-crm.md)] <span data-ttu-id="c85de-114">apps provides two types of entity relationships.</span><span class="sxs-lookup"><span data-stu-id="c85de-114">apps provides two types of entity relationships.</span></span> <span data-ttu-id="c85de-115">Both of these inherit from the <xref:Microsoft.Xrm.Sdk.Metadata.RelationshipMetadataBase> class:</span><span class="sxs-lookup"><span data-stu-id="c85de-115">Both of these inherit from the <xref:Microsoft.Xrm.Sdk.Metadata.RelationshipMetadataBase> class:</span></span>  
  
- <span data-ttu-id="c85de-116">**[One-to-many relationships](customize-entity-relationship-metadata.md#BKMK_OneToManyRelationships)**</span><span class="sxs-lookup"><span data-stu-id="c85de-116">**[One-to-many relationships](customize-entity-relationship-metadata.md#BKMK_OneToManyRelationships)**</span></span>  
  
- <span data-ttu-id="c85de-117">**[Many-to-many relationships](customize-entity-relationship-metadata.md#BKMK_ManyToManyRelationships)**</span><span class="sxs-lookup"><span data-stu-id="c85de-117">**[Many-to-many relationships](customize-entity-relationship-metadata.md#BKMK_ManyToManyRelationships)**</span></span>  
  
  <span data-ttu-id="c85de-118">Before you create a new entity relationship programmatically, check to see whether the entities are eligible to participate in the relationship.</span><span class="sxs-lookup"><span data-stu-id="c85de-118">Before you create a new entity relationship programmatically, check to see whether the entities are eligible to participate in the relationship.</span></span> <span data-ttu-id="c85de-119">There are constraints applied to entity relationships that use the following `EntityMetadata` properties: `CanBeInManyToMany`, `CanBePrimaryEntityInRelationship`, and `CanBeRelatedEntityInRelationship`.</span><span class="sxs-lookup"><span data-stu-id="c85de-119">There are constraints applied to entity relationships that use the following `EntityMetadata` properties: `CanBeInManyToMany`, `CanBePrimaryEntityInRelationship`, and `CanBeRelatedEntityInRelationship`.</span></span> <span data-ttu-id="c85de-120">These restrictions are taken into account when you manually create entity relationships in the customization tools.</span><span class="sxs-lookup"><span data-stu-id="c85de-120">These restrictions are taken into account when you manually create entity relationships in the customization tools.</span></span> <span data-ttu-id="c85de-121">There are messages that you can use to determine which relationships an entity can use and what other entities are valid for that type of relationship.</span><span class="sxs-lookup"><span data-stu-id="c85de-121">There are messages that you can use to determine which relationships an entity can use and what other entities are valid for that type of relationship.</span></span> [!INCLUDE[proc_more_information](../includes/proc-more-information.md)] <span data-ttu-id="c85de-122">[Entity Relationship Eligibility](entity-relationship-eligibility.md)</span><span class="sxs-lookup"><span data-stu-id="c85de-122">[Entity Relationship Eligibility](entity-relationship-eligibility.md)</span></span>  
  
  <span data-ttu-id="c85de-123">Both types of entity relationships allow for options to display navigation links between related records.</span><span class="sxs-lookup"><span data-stu-id="c85de-123">Both types of entity relationships allow for options to display navigation links between related records.</span></span> [!INCLUDE[proc_more_information](../includes/proc-more-information.md)] <span data-ttu-id="c85de-124">[Configuring Associated Menus](customize-entity-relationship-metadata.md#BKMK_ConfiguringAssociatedMenus)</span><span class="sxs-lookup"><span data-stu-id="c85de-124">[Configuring Associated Menus](customize-entity-relationship-metadata.md#BKMK_ConfiguringAssociatedMenus)</span></span>  
  
<a name="BKMK_OneToManyRelationships"></a>   
## <a name="one-to-many-relationships"></a><span data-ttu-id="c85de-125">One-to-many relationships</span><span class="sxs-lookup"><span data-stu-id="c85de-125">One-to-many relationships</span></span>  
 <span data-ttu-id="c85de-126">Trong một mối quan hệ thực thể một với nhiều, nhiều bản ghi thực thể (liên quan) tham khảo có thể được liên kết với một bản ghi thực thể (chính) được tham chiếu duy nhất.</span><span class="sxs-lookup"><span data-stu-id="c85de-126">In a one-to-many entity relationship, many referencing (related) entity records can be associated with a single referenced (primary) entity record.</span></span> <span data-ttu-id="c85de-127">Bản ghi thực thể được tham chiếu đôi khi được gọi là "cha" và bản ghi của thực thể tham khảo được gọi là "con".</span><span class="sxs-lookup"><span data-stu-id="c85de-127">The referenced entity record is sometimes referred to as the ”parent” and records of the referencing entity are referred to as ”children.”</span></span>  
  
 <span data-ttu-id="c85de-128">In an entity node on a solution page, this kind of entity relationship is displayed as either a **1-to-Many (1:N) Relationship** or a **Many-to-1 (N:1) Relationship**.</span><span class="sxs-lookup"><span data-stu-id="c85de-128">In an entity node on a solution page, this kind of entity relationship is displayed as either a **1-to-Many (1:N) Relationship** or a **Many-to-1 (N:1) Relationship**.</span></span> <span data-ttu-id="c85de-129">These terms are used because you navigate to entity relationships through one of the entities.</span><span class="sxs-lookup"><span data-stu-id="c85de-129">These terms are used because you navigate to entity relationships through one of the entities.</span></span> <span data-ttu-id="c85de-130">The label reflects which role the current entity has in the relationship.</span><span class="sxs-lookup"><span data-stu-id="c85de-130">The label reflects which role the current entity has in the relationship.</span></span>  

 > [!NOTE]
 > <span data-ttu-id="c85de-131">See [Web API: Create a one-to-many relationship](webapi/create-update-entity-relationships-using-web-api.md#create-a-one-to-many-relationship) for information on how to use the Web API for creating a 1:N relationship.</span><span class="sxs-lookup"><span data-stu-id="c85de-131">See [Web API: Create a one-to-many relationship](webapi/create-update-entity-relationships-using-web-api.md#create-a-one-to-many-relationship) for information on how to use the Web API for creating a 1:N relationship.</span></span>
 
 <span data-ttu-id="c85de-132">For Organization Service, you use an instance of the <xref:Microsoft.Xrm.Sdk.Metadata.OneToManyRelationshipMetadata> class when you work with this kind of entity relationship.</span><span class="sxs-lookup"><span data-stu-id="c85de-132">For Organization Service, you use an instance of the <xref:Microsoft.Xrm.Sdk.Metadata.OneToManyRelationshipMetadata> class when you work with this kind of entity relationship.</span></span> <span data-ttu-id="c85de-133">Each entity relationship has a unique schema name that you use to retrieve it.</span><span class="sxs-lookup"><span data-stu-id="c85de-133">Each entity relationship has a unique schema name that you use to retrieve it.</span></span> <span data-ttu-id="c85de-134">Để biết thêm thông tin, xem <xref:Microsoft.Xrm.Sdk.Metadata.RelationshipMetadataBase.SchemaName>.</span><span class="sxs-lookup"><span data-stu-id="c85de-134">For more information, see <xref:Microsoft.Xrm.Sdk.Metadata.RelationshipMetadataBase.SchemaName>.</span></span> <span data-ttu-id="c85de-135">Each entity relationship of this kind also has a referenced entity (**Primary Entity**) with a referenced attribute, and a referencing entity (**Related Entity**) with a referencing attribute.</span><span class="sxs-lookup"><span data-stu-id="c85de-135">Each entity relationship of this kind also has a referenced entity (**Primary Entity**) with a referenced attribute, and a referencing entity (**Related Entity**) with a referencing attribute.</span></span> <span data-ttu-id="c85de-136">The referencing attribute can be displayed as a lookup field in an entity form.</span><span class="sxs-lookup"><span data-stu-id="c85de-136">The referencing attribute can be displayed as a lookup field in an entity form.</span></span> <span data-ttu-id="c85de-137">Để biết thêm chi tiết, xem</span><span class="sxs-lookup"><span data-stu-id="c85de-137">For more information, see</span></span> 
 
 |<span data-ttu-id="c85de-138">API Web</span><span class="sxs-lookup"><span data-stu-id="c85de-138">Web API</span></span>|<span data-ttu-id="c85de-139">SDK Assembly</span><span class="sxs-lookup"><span data-stu-id="c85de-139">SDK Assembly</span></span>|
 |---------------|---------------|
 |<span data-ttu-id="c85de-140"><xref href="Microsoft.Dynamics.CRM.OneToManyRelationshipMetadata?text=OneToManyRelationshipMetadata EntityType" />.ReferencedEntity</span><span class="sxs-lookup"><span data-stu-id="c85de-140"><xref href="Microsoft.Dynamics.CRM.OneToManyRelationshipMetadata?text=OneToManyRelationshipMetadata EntityType" />.ReferencedEntity</span></span>|<xref:Microsoft.Xrm.Sdk.Metadata.OneToManyRelationshipMetadata.ReferencedEntity>| 
 |<span data-ttu-id="c85de-141"><xref href="Microsoft.Dynamics.CRM.OneToManyRelationshipMetadata?text=OneToManyRelationshipMetadata EntityType" />.ReferencedAttribute</span><span class="sxs-lookup"><span data-stu-id="c85de-141"><xref href="Microsoft.Dynamics.CRM.OneToManyRelationshipMetadata?text=OneToManyRelationshipMetadata EntityType" />.ReferencedAttribute</span></span>|<xref:Microsoft.Xrm.Sdk.Metadata.OneToManyRelationshipMetadata.ReferencedAttribute>|
|<span data-ttu-id="c85de-142"><xref href="Microsoft.Dynamics.CRM.OneToManyRelationshipMetadata?text=OneToManyRelationshipMetadata EntityType" />.ReferencingEntity</span><span class="sxs-lookup"><span data-stu-id="c85de-142"><xref href="Microsoft.Dynamics.CRM.OneToManyRelationshipMetadata?text=OneToManyRelationshipMetadata EntityType" />.ReferencingEntity</span></span>|<xref:Microsoft.Xrm.Sdk.Metadata.OneToManyRelationshipMetadata.ReferencingEntity>|
|<span data-ttu-id="c85de-143"><xref href="Microsoft.Dynamics.CRM.OneToManyRelationshipMetadata?text=OneToManyRelationshipMetadata EntityType" />.ReferencingAttribute</span><span class="sxs-lookup"><span data-stu-id="c85de-143"><xref href="Microsoft.Dynamics.CRM.OneToManyRelationshipMetadata?text=OneToManyRelationshipMetadata EntityType" />.ReferencingAttribute</span></span>| <xref:Microsoft.Xrm.Sdk.Metadata.OneToManyRelationshipMetadata.ReferencingAttribute>|  
  
 <span data-ttu-id="c85de-144">You may require that a referencing entity have a reference by setting the `AttributeRequiredLevel` enumeration (<xref href="Microsoft.Dynamics.CRM.AttributeRequiredLevel?text=AttributeRequiredLevel EnumType" /> or <xref:Microsoft.Xrm.Sdk.Metadata.AttributeRequiredLevel> enumeration) to `ApplicationRequired` on the referencing attribute.</span><span class="sxs-lookup"><span data-stu-id="c85de-144">You may require that a referencing entity have a reference by setting the `AttributeRequiredLevel` enumeration (<xref href="Microsoft.Dynamics.CRM.AttributeRequiredLevel?text=AttributeRequiredLevel EnumType" /> or <xref:Microsoft.Xrm.Sdk.Metadata.AttributeRequiredLevel> enumeration) to `ApplicationRequired` on the referencing attribute.</span></span> <span data-ttu-id="c85de-145">To maintain data integrity, when you do this you should also specify what you want to occur if the primary record is deleted.</span><span class="sxs-lookup"><span data-stu-id="c85de-145">To maintain data integrity, when you do this you should also specify what you want to occur if the primary record is deleted.</span></span> <span data-ttu-id="c85de-146">Use the `OneToManyRelationshipMetadata.CascadeConfiguration` property to either prevent deleting the primary record or automatically delete the related record as well to prevent an orphaned record.</span><span class="sxs-lookup"><span data-stu-id="c85de-146">Use the `OneToManyRelationshipMetadata.CascadeConfiguration` property to either prevent deleting the primary record or automatically delete the related record as well to prevent an orphaned record.</span></span>  
  
 <span data-ttu-id="c85de-147">You can also use cascading configuration to automate behavior when specific actions are taken on related records in the organization.</span><span class="sxs-lookup"><span data-stu-id="c85de-147">You can also use cascading configuration to automate behavior when specific actions are taken on related records in the organization.</span></span> [!INCLUDE[proc_more_information](../includes/proc-more-information.md)] <span data-ttu-id="c85de-148">[Entity Relationship Behavior](entity-relationship-behavior.md)</span><span class="sxs-lookup"><span data-stu-id="c85de-148">[Entity Relationship Behavior](entity-relationship-behavior.md)</span></span>  
  
### <a name="map-data-to-new-records"></a><span data-ttu-id="c85de-149">Map data to new records</span><span class="sxs-lookup"><span data-stu-id="c85de-149">Map data to new records</span></span>  
 <span data-ttu-id="c85de-150">When there is a one-to-many entity relationship, you can specify that data from certain fields in the referenced entity can be transferred to any new related records created in the context of the relationship.</span><span class="sxs-lookup"><span data-stu-id="c85de-150">When there is a one-to-many entity relationship, you can specify that data from certain fields in the referenced entity can be transferred to any new related records created in the context of the relationship.</span></span> <span data-ttu-id="c85de-151">This can streamline data entry when you are creating new related records.</span><span class="sxs-lookup"><span data-stu-id="c85de-151">This can streamline data entry when you are creating new related records.</span></span> <span data-ttu-id="c85de-152">For more information, see  [Entity and Attribute Mappings](customize-entity-attribute-mappings.md).</span><span class="sxs-lookup"><span data-stu-id="c85de-152">For more information, see  [Entity and Attribute Mappings](customize-entity-attribute-mappings.md).</span></span>  
  
### <a name="self-referencing-one-to-many-entity-relationships"></a><span data-ttu-id="c85de-153">Self-referencing one-to-many entity relationships</span><span class="sxs-lookup"><span data-stu-id="c85de-153">Self-referencing one-to-many entity relationships</span></span>  
 <span data-ttu-id="c85de-154">A self-referencing relationship is where the referencing and referenced entity is the same.</span><span class="sxs-lookup"><span data-stu-id="c85de-154">A self-referencing relationship is where the referencing and referenced entity is the same.</span></span> <span data-ttu-id="c85de-155">For example, the account entity has a self-referencing one-to-many relationship that allows for a lookup labeled **Parent Account**.</span><span class="sxs-lookup"><span data-stu-id="c85de-155">For example, the account entity has a self-referencing one-to-many relationship that allows for a lookup labeled **Parent Account**.</span></span> <span data-ttu-id="c85de-156">If the entity relationship behavior is defined as **Parental** it is not possible for a record to reference itself because this would create a circular reference when cascading behaviors are applied.</span><span class="sxs-lookup"><span data-stu-id="c85de-156">If the entity relationship behavior is defined as **Parental** it is not possible for a record to reference itself because this would create a circular reference when cascading behaviors are applied.</span></span> [!INCLUDE[proc_more_information](../includes/proc-more-information.md)] <span data-ttu-id="c85de-157">[Entity Relationship Behavior](entity-relationship-behavior.md)</span><span class="sxs-lookup"><span data-stu-id="c85de-157">[Entity Relationship Behavior](entity-relationship-behavior.md)</span></span>  
  
<a name="BKMK_HierarchicalRelationships"></a>   
### <a name="hierarchical-one-to-many-entity-relationships"></a><span data-ttu-id="c85de-158">Hierarchical one-to-many entity relationships</span><span class="sxs-lookup"><span data-stu-id="c85de-158">Hierarchical one-to-many entity relationships</span></span>  

 <span data-ttu-id="c85de-159">With [!INCLUDE[pn_dynamics_crm_online](../includes/pn-dynamics-crm-online.md)] apps, you can specify one self-referencing one-to-many entity relationship as the designated hierarchical relationship for an entity.</span><span class="sxs-lookup"><span data-stu-id="c85de-159">With [!INCLUDE[pn_dynamics_crm_online](../includes/pn-dynamics-crm-online.md)] apps, you can specify one self-referencing one-to-many entity relationship as the designated hierarchical relationship for an entity.</span></span> <span data-ttu-id="c85de-160">The `OneToManyRelationship.IsHierarchical` property (<xref href="Microsoft.Dynamics.CRM.OneToManyRelationship?text=OneToManyRelationship" />.IsHierarchical or <xref:Microsoft.Xrm.Sdk.Metadata.OneToManyRelationshipMetadata>.<xref:Microsoft.Xrm.Sdk.Metadata.OneToManyRelationshipMetadata.IsHierarchical>) flags this relationship as the one-to-many relationship to use for the entity.</span><span class="sxs-lookup"><span data-stu-id="c85de-160">The `OneToManyRelationship.IsHierarchical` property (<xref href="Microsoft.Dynamics.CRM.OneToManyRelationship?text=OneToManyRelationship" />.IsHierarchical or <xref:Microsoft.Xrm.Sdk.Metadata.OneToManyRelationshipMetadata>.<xref:Microsoft.Xrm.Sdk.Metadata.OneToManyRelationshipMetadata.IsHierarchical>) flags this relationship as the one-to-many relationship to use for the entity.</span></span>  
  
 <span data-ttu-id="c85de-161">All one-to-many entity relationships represent a type of hierarchy, but relationships explicitly flagged using the `IsHierarchical` property are the only entity relationships that support the hierarchy visualizations in the application as well as new query operators to retrieve hierarchically related records.</span><span class="sxs-lookup"><span data-stu-id="c85de-161">All one-to-many entity relationships represent a type of hierarchy, but relationships explicitly flagged using the `IsHierarchical` property are the only entity relationships that support the hierarchy visualizations in the application as well as new query operators to retrieve hierarchically related records.</span></span> [!INCLUDE[proc_more_information](../includes/proc-more-information.md)] <span data-ttu-id="c85de-162">[Query hierarchical data](org-service/query-hierarchical-data.md)</span><span class="sxs-lookup"><span data-stu-id="c85de-162">[Query hierarchical data](org-service/query-hierarchical-data.md)</span></span>  
  
### <a name="change-the-name-of-web-api-navigation-properties"></a><span data-ttu-id="c85de-163">Change the name of Web API navigation properties</span><span class="sxs-lookup"><span data-stu-id="c85de-163">Change the name of Web API navigation properties</span></span>  
 <span data-ttu-id="c85de-164">If you want to apply a custom Web API navigation property name for a one-to-many relationship you can set values for the `OneToManyRelationshipMetadata.ReferencingEntityNavigationPropertyName` and `OneToManyRelationshipMetadata.ReferencedEntityNavigationPropertyName` properties.</span><span class="sxs-lookup"><span data-stu-id="c85de-164">If you want to apply a custom Web API navigation property name for a one-to-many relationship you can set values for the `OneToManyRelationshipMetadata.ReferencingEntityNavigationPropertyName` and `OneToManyRelationshipMetadata.ReferencedEntityNavigationPropertyName` properties.</span></span>  
  
<a name="BKMK_ManyToManyRelationships"></a>   
## <a name="many-to-many-relationships"></a><span data-ttu-id="c85de-165">Many-to-many relationships</span><span class="sxs-lookup"><span data-stu-id="c85de-165">Many-to-many relationships</span></span>  
 <span data-ttu-id="c85de-166">Trong một mối quan hệ thực thể nhiều với nhiều, nhiều bản ghi thực thể có thể được liên kết với nhiều bản ghi thực thể khác.</span><span class="sxs-lookup"><span data-stu-id="c85de-166">In a many-to-many entity relationship many entity records can be associated with many other entity records.</span></span> <span data-ttu-id="c85de-167">Unlike one-to-many relationships, there is no lookup field on either entity and therefore no intended hierarchy.</span><span class="sxs-lookup"><span data-stu-id="c85de-167">Unlike one-to-many relationships, there is no lookup field on either entity and therefore no intended hierarchy.</span></span> <span data-ttu-id="c85de-168">Các bản ghi liên quan có được nhờ sử dụng mối quan hệ nhiều với nhiều có thể được coi là ngang hàng và mối quan hệ là đối ứng.</span><span class="sxs-lookup"><span data-stu-id="c85de-168">Records related using a many-to-many relationship can be considered peers and the relationship is reciprocal.</span></span> <span data-ttu-id="c85de-169">A many-to-many relationship may also be self-referential.</span><span class="sxs-lookup"><span data-stu-id="c85de-169">A many-to-many relationship may also be self-referential.</span></span> <span data-ttu-id="c85de-170">Because there is no cascading behavior involved in many-to-many relationships, you can allow an individual record to have a reference to itself.</span><span class="sxs-lookup"><span data-stu-id="c85de-170">Because there is no cascading behavior involved in many-to-many relationships, you can allow an individual record to have a reference to itself.</span></span>  

 > [!NOTE]
 > <span data-ttu-id="c85de-171">See [Create a Many-to-Many relationship using the Web API](webapi/create-update-entity-relationships-using-web-api.md#create-a-many-to-many-relationship) for information on how to use the Web API for creating a N:N relationship.</span><span class="sxs-lookup"><span data-stu-id="c85de-171">See [Create a Many-to-Many relationship using the Web API](webapi/create-update-entity-relationships-using-web-api.md#create-a-many-to-many-relationship) for information on how to use the Web API for creating a N:N relationship.</span></span>
 
 <span data-ttu-id="c85de-172">You use an instance of the `ManyToManyRelationshipMetadata` (<xref href="Microsoft.Dynamics.CRM.ManyToManyRelationshipMetadata?text=ManyToManyRelationshipMetadata EntityType" /> or <xref:Microsoft.Xrm.Sdk.Metadata.ManyToManyRelationshipMetadata> class) when you work with this kind of entity relationship.</span><span class="sxs-lookup"><span data-stu-id="c85de-172">You use an instance of the `ManyToManyRelationshipMetadata` (<xref href="Microsoft.Dynamics.CRM.ManyToManyRelationshipMetadata?text=ManyToManyRelationshipMetadata EntityType" /> or <xref:Microsoft.Xrm.Sdk.Metadata.ManyToManyRelationshipMetadata> class) when you work with this kind of entity relationship.</span></span> <span data-ttu-id="c85de-173">Each entity relationship has a unique `RelationshipMetadataBase.SchemaName` that you use to retrieve it.</span><span class="sxs-lookup"><span data-stu-id="c85de-173">Each entity relationship has a unique `RelationshipMetadataBase.SchemaName` that you use to retrieve it.</span></span>  

  
 <span data-ttu-id="c85de-174">Creating a many-to-many entity relationship creates a new intersect entity where the `EntityMetadata.IsIntersect` property is true.</span><span class="sxs-lookup"><span data-stu-id="c85de-174">Creating a many-to-many entity relationship creates a new intersect entity where the `EntityMetadata.IsIntersect` property is true.</span></span> <span data-ttu-id="c85de-175">Records for this entity track each individual many-to-many relationship.</span><span class="sxs-lookup"><span data-stu-id="c85de-175">Records for this entity track each individual many-to-many relationship.</span></span> <span data-ttu-id="c85de-176">You cannot add custom attributes to intersect entities.</span><span class="sxs-lookup"><span data-stu-id="c85de-176">You cannot add custom attributes to intersect entities.</span></span>  
  
### <a name="change-the-name-of-web-api-navigation-properties"></a><span data-ttu-id="c85de-177">Change the name of Web API navigation properties</span><span class="sxs-lookup"><span data-stu-id="c85de-177">Change the name of Web API navigation properties</span></span>  
 <span data-ttu-id="c85de-178">If you want to apply a custom Web API navigation property name for a many-to-many relationship you can set values for the <xref href="Microsoft.Dynamics.CRM.ManyToManyRelationshipMetadata?text=ManyToManyRelationshipMetadata EntityType" />.Entity1NavigationPropertyName and <xref href="Microsoft.Dynamics.CRM.ManyToManyRelationshipMetadata?text=ManyToManyRelationshipMetadata EntityType" />.Entity2NavigationPropertyName properties.</span><span class="sxs-lookup"><span data-stu-id="c85de-178">If you want to apply a custom Web API navigation property name for a many-to-many relationship you can set values for the <xref href="Microsoft.Dynamics.CRM.ManyToManyRelationshipMetadata?text=ManyToManyRelationshipMetadata EntityType" />.Entity1NavigationPropertyName and <xref href="Microsoft.Dynamics.CRM.ManyToManyRelationshipMetadata?text=ManyToManyRelationshipMetadata EntityType" />.Entity2NavigationPropertyName properties.</span></span>  
  
<a name="BKMK_ConfiguringAssociatedMenus"></a>   
## <a name="configure-associated-menus"></a><span data-ttu-id="c85de-179">Configure associated menus</span><span class="sxs-lookup"><span data-stu-id="c85de-179">Configure associated menus</span></span>  

 <span data-ttu-id="c85de-180">Both types of entity relationships allow for configuration of navigation links between related records.</span><span class="sxs-lookup"><span data-stu-id="c85de-180">Both types of entity relationships allow for configuration of navigation links between related records.</span></span> <span data-ttu-id="c85de-181">Use the `Metadata.AssociatedMenuConfiguration` properties in each type of entity relationship definition to specify how you want the navigation links in an entity form to be displayed.</span><span class="sxs-lookup"><span data-stu-id="c85de-181">Use the `Metadata.AssociatedMenuConfiguration` properties in each type of entity relationship definition to specify how you want the navigation links in an entity form to be displayed.</span></span>  
  
 <span data-ttu-id="c85de-182">These values provide the default configuration for the relationship.</span><span class="sxs-lookup"><span data-stu-id="c85de-182">These values provide the default configuration for the relationship.</span></span> <span data-ttu-id="c85de-183">You can use the form editor to override these options for each form.</span><span class="sxs-lookup"><span data-stu-id="c85de-183">You can use the form editor to override these options for each form.</span></span> [!INCLUDE[proc_more_information](../includes/proc-more-information.md)] <span data-ttu-id="c85de-184">[Change navigation within a form](../customize/use-the-form-editor-legacy.md)</span><span class="sxs-lookup"><span data-stu-id="c85de-184">[Change navigation within a form](../customize/use-the-form-editor-legacy.md)</span></span>
  
 **<xref:Microsoft.Xrm.Sdk.Metadata.AssociatedMenuConfiguration.Behavior>**  
 <span data-ttu-id="c85de-185">Provides the following options:</span><span class="sxs-lookup"><span data-stu-id="c85de-185">Provides the following options:</span></span>  
  
- <span data-ttu-id="c85de-186">DoNotDisplay</span><span class="sxs-lookup"><span data-stu-id="c85de-186">DoNotDisplay</span></span>  
  
- <span data-ttu-id="c85de-187">UseCollectionName</span><span class="sxs-lookup"><span data-stu-id="c85de-187">UseCollectionName</span></span>  
  
- <span data-ttu-id="c85de-188">UseLabel</span><span class="sxs-lookup"><span data-stu-id="c85de-188">UseLabel</span></span>  
  
  **<xref:Microsoft.Xrm.Sdk.Metadata.AssociatedMenuConfiguration.Group>**  
  <span data-ttu-id="c85de-189">Provides the following options:</span><span class="sxs-lookup"><span data-stu-id="c85de-189">Provides the following options:</span></span>  
  
- <span data-ttu-id="c85de-190">Chi tiết</span><span class="sxs-lookup"><span data-stu-id="c85de-190">Details</span></span>  
  
- <span data-ttu-id="c85de-191">Tiếp thị</span><span class="sxs-lookup"><span data-stu-id="c85de-191">Marketing</span></span>  
  
- <span data-ttu-id="c85de-192">Sales</span><span class="sxs-lookup"><span data-stu-id="c85de-192">Sales</span></span>  
  
- <span data-ttu-id="c85de-193">Dịch vụ </span><span class="sxs-lookup"><span data-stu-id="c85de-193">Service</span></span>  
  
  <span data-ttu-id="c85de-194">You cannot add new groups, but you can change the text displayed for them using the form editor.</span><span class="sxs-lookup"><span data-stu-id="c85de-194">You cannot add new groups, but you can change the text displayed for them using the form editor.</span></span>  
  
  <span data-ttu-id="c85de-195">**Nhãn**</span><span class="sxs-lookup"><span data-stu-id="c85de-195">**Label**</span></span>  
  <span data-ttu-id="c85de-196">If you select `AssociatedMenuBehavior.UseLabel`, you must provide a custom label.</span><span class="sxs-lookup"><span data-stu-id="c85de-196">If you select `AssociatedMenuBehavior.UseLabel`, you must provide a custom label.</span></span>  
  
  <span data-ttu-id="c85de-197">**Đơn hàng**</span><span class="sxs-lookup"><span data-stu-id="c85de-197">**Order**</span></span>  
  <span data-ttu-id="c85de-198">The integer provided for the order will control the relative position of navigation items in the group.</span><span class="sxs-lookup"><span data-stu-id="c85de-198">The integer provided for the order will control the relative position of navigation items in the group.</span></span> <span data-ttu-id="c85de-199">The lower the value, the higher the item appears relative to the values of other items in the group.</span><span class="sxs-lookup"><span data-stu-id="c85de-199">The lower the value, the higher the item appears relative to the values of other items in the group.</span></span>  
  
### <a name="see-also"></a><span data-ttu-id="c85de-200">Xem thêm</span><span class="sxs-lookup"><span data-stu-id="c85de-200">See also</span></span>  
 [<span data-ttu-id="c85de-201">Create and update entity relationships using Web API</span><span class="sxs-lookup"><span data-stu-id="c85de-201">Create and update entity relationships using Web API</span></span>](webapi/create-update-entity-relationships-using-web-api.md)  
 <span data-ttu-id="c85de-202">[Extend the Metadata Model for Dynamics 365 for Customer Engagement apps](org-service/use-organization-service-metadata.md) </span><span class="sxs-lookup"><span data-stu-id="c85de-202">[Extend the Metadata Model for Dynamics 365 for Customer Engagement apps](org-service/use-organization-service-metadata.md) </span></span>  
 <span data-ttu-id="c85de-203">[Entity Relationship Messages](entity-relationship-metadata-messages.md) </span><span class="sxs-lookup"><span data-stu-id="c85de-203">[Entity Relationship Messages](entity-relationship-metadata-messages.md) </span></span>  
 <span data-ttu-id="c85de-204">[Entity Relationship Eligibility](entity-relationship-eligibility.md) </span><span class="sxs-lookup"><span data-stu-id="c85de-204">[Entity Relationship Eligibility](entity-relationship-eligibility.md) </span></span>  
 <span data-ttu-id="c85de-205">[Entity Relationship Behavior](entity-relationship-behavior.md) </span><span class="sxs-lookup"><span data-stu-id="c85de-205">[Entity Relationship Behavior](entity-relationship-behavior.md) </span></span>  
 <span data-ttu-id="c85de-206">[Create Entity Relationships](org-service/create-retrieve-entity-relationships.md) </span><span class="sxs-lookup"><span data-stu-id="c85de-206">[Create Entity Relationships](org-service/create-retrieve-entity-relationships.md) </span></span>  
 <span data-ttu-id="c85de-207">[Sample: Create Entity Relationships](org-service/sample-create-retrieve-entity-relationships.md) </span><span class="sxs-lookup"><span data-stu-id="c85de-207">[Sample: Create Entity Relationships](org-service/sample-create-retrieve-entity-relationships.md) </span></span>  
 <span data-ttu-id="c85de-208">[Sample: Dump Entity Relationship Information to a File](org-service/sample-dump-entity-relationship-information-file.md) </span><span class="sxs-lookup"><span data-stu-id="c85de-208">[Sample: Dump Entity Relationship Information to a File](org-service/sample-dump-entity-relationship-information-file.md) </span></span>  
 <span data-ttu-id="c85de-209">[Entity and Attribute Mappings](customize-entity-attribute-mappings.md) </span><span class="sxs-lookup"><span data-stu-id="c85de-209">[Entity and Attribute Mappings](customize-entity-attribute-mappings.md) </span></span>  
 [<span data-ttu-id="c85de-210">Retrieve Records for Many-To-Many Relationships using Intersect Entities</span><span class="sxs-lookup"><span data-stu-id="c85de-210">Retrieve Records for Many-To-Many Relationships using Intersect Entities</span></span>](org-service/retrieve-records-many-to-many-relationships-intersect-entities.md)
