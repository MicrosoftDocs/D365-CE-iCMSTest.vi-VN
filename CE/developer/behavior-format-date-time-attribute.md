---
title: Behavior and format of the date and time attribute (Developer Guide for Dynamics 365 for Customer Engagement apps) | MicrosoftDocs
description: The DateTimeAttributeMetadata class is used to define and manage attributes of type DateTime in Dynamics 365 for Customer Engagement apps.
ms.custom: ''
ms.date: 10/31/2017
ms.reviewer: ''
ms.service: crm-online
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
applies_to:
- Dynamics 365 for Customer Engagement (online)
ms.assetid: 17014973-417b-4f53-8991-88ccc0096cfc
caps.latest.revision: 31
author: KumarVivek
ms.author: kvivek
manager: amyla
search.audienceType:
- developer
search.app:
- D365CE
ms.openlocfilehash: cb5613b2ebf1ef6c7c4f6db0aa1076ab606fd3c7
ms.sourcegitcommit: 9f0efd59de16a6d9902fa372cb25fc0baf1c2838
ms.translationtype: HT
ms.contentlocale: vi-VN
ms.lasthandoff: 01/08/2019
ms.locfileid: "386949"
---
# <a name="behavior-and-format-of-the-date-and-time-attribute"></a><span data-ttu-id="ec608-103">Behavior and format of the date and time attribute</span><span class="sxs-lookup"><span data-stu-id="ec608-103">Behavior and format of the date and time attribute</span></span>

[!INCLUDE[](../includes/cc_applies_to_update_9_0_0.md)]

<span data-ttu-id="ec608-104">If you have users and offices around the world, it is important to properly represent date and time values in multiple time zones.</span><span class="sxs-lookup"><span data-stu-id="ec608-104">If you have users and offices around the world, it is important to properly represent date and time values in multiple time zones.</span></span> <span data-ttu-id="ec608-105">The `DateTimeAttributeMetadata` (<xref href="Microsoft.Dynamics.CRM.DateTimeAttributeMetadata?text=DateTimeAttributeMetadata EntityType" /> or <xref:Microsoft.Xrm.Sdk.Metadata.DateTimeAttributeMetadata> class) is used to define and manage attributes of type `DateTime` in [!INCLUDE[pn_dynamics_crm](../includes/pn-dynamics-crm.md)] apps.</span><span class="sxs-lookup"><span data-stu-id="ec608-105">The `DateTimeAttributeMetadata` (<xref href="Microsoft.Dynamics.CRM.DateTimeAttributeMetadata?text=DateTimeAttributeMetadata EntityType" /> or <xref:Microsoft.Xrm.Sdk.Metadata.DateTimeAttributeMetadata> class) is used to define and manage attributes of type `DateTime` in [!INCLUDE[pn_dynamics_crm](../includes/pn-dynamics-crm.md)] apps.</span></span> <span data-ttu-id="ec608-106">Use the `DateTimeBehavior` property (For Organization Service see, <xref:Microsoft.Xrm.Sdk.Metadata.DateTimeAttributeMetadata>.<xref:Microsoft.Xrm.Sdk.Metadata.DateTimeAttributeMetadata.DateTimeBehavior>) to define whether to store date and time values with or without time zone information, and use the `DateTimeAttributeMetadata.Format` property to specify the display format of these attributes.</span><span class="sxs-lookup"><span data-stu-id="ec608-106">Use the `DateTimeBehavior` property (For Organization Service see, <xref:Microsoft.Xrm.Sdk.Metadata.DateTimeAttributeMetadata>.<xref:Microsoft.Xrm.Sdk.Metadata.DateTimeAttributeMetadata.DateTimeBehavior>) to define whether to store date and time values with or without time zone information, and use the `DateTimeAttributeMetadata.Format` property to specify the display format of these attributes.</span></span>  

  
 <span data-ttu-id="ec608-107">You can also use the customization area in [!INCLUDE[pn_crm_shortest](../includes/pn-crm-shortest.md)] apps to define the behavior and format of the date and time attributes.</span><span class="sxs-lookup"><span data-stu-id="ec608-107">You can also use the customization area in [!INCLUDE[pn_crm_shortest](../includes/pn-crm-shortest.md)] apps to define the behavior and format of the date and time attributes.</span></span> [!INCLUDE[proc_more_information](../includes/proc-more-information.md)] <span data-ttu-id="ec608-108">[Hành vi và định dạng của trường Ngày và Giờ](../customize/behavior-format-date-time-field.md).</span><span class="sxs-lookup"><span data-stu-id="ec608-108">[Behavior and format of the Date and Time field](../customize/behavior-format-date-time-field.md).</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="ec608-109">All date and time attributes in [!INCLUDE[pn_crm_online_2015_update_1_shortest](../includes/pn-crm-online-2015-update-1-shortest.md)] and [!INCLUDE[pn_crm_2016_onprem](../includes/pn-crm-2016-onprem.md)] or later  now support values as early as 1/1/1753 12:00 AM.</span><span class="sxs-lookup"><span data-stu-id="ec608-109">All date and time attributes in [!INCLUDE[pn_crm_online_2015_update_1_shortest](../includes/pn-crm-online-2015-update-1-shortest.md)] and [!INCLUDE[pn_crm_2016_onprem](../includes/pn-crm-2016-onprem.md)] or later  now support values as early as 1/1/1753 12:00 AM.</span></span>  
> 
>  <span data-ttu-id="ec608-110">For [!INCLUDE[pn_dynamics_crm](../includes/pn-dynamics-crm.md)] versions earlier than [!INCLUDE[pn_crm_online_2015_update_1_shortest](../includes/pn-crm-online-2015-update-1-shortest.md)] and [!INCLUDE[pn_crm_2016_onprem](../includes/pn-crm-2016-onprem.md)], you cannot define the behavior of the date and time values.</span><span class="sxs-lookup"><span data-stu-id="ec608-110">For [!INCLUDE[pn_dynamics_crm](../includes/pn-dynamics-crm.md)] versions earlier than [!INCLUDE[pn_crm_online_2015_update_1_shortest](../includes/pn-crm-online-2015-update-1-shortest.md)] and [!INCLUDE[pn_crm_2016_onprem](../includes/pn-crm-2016-onprem.md)], you cannot define the behavior of the date and time values.</span></span> <span data-ttu-id="ec608-111">By default, the date and time values are stored as `UserLocal` behavior as described later in this topic.</span><span class="sxs-lookup"><span data-stu-id="ec608-111">By default, the date and time values are stored as `UserLocal` behavior as described later in this topic.</span></span>  
  
[!INCLUDE[cc_sdk_onpremises_note](../includes/cc-sdk-onpremises-note.md)]

<a name="SpecifyBehavior"></a>   
## <a name="specify-the-behavior-of-a-date-and-time-attribute"></a><span data-ttu-id="ec608-112">Specify the behavior of a date and time attribute</span><span class="sxs-lookup"><span data-stu-id="ec608-112">Specify the behavior of a date and time attribute</span></span>

 <span data-ttu-id="ec608-113">You can use the `DateTimeBehavior` (<xref href="Microsoft.Dynamics.CRM.DateTimeBehavior?text=DateTimeBehavior ComplexType" /> or <xref:Microsoft.Xrm.Sdk.Metadata.DateTimeBehavior> class) to specify a value for the <xref href="Microsoft.Dynamics.CRM.DateTimeAttributeMetadata?text=DateTimeAttributeMetadata EntityType" />.DateTimeBehavior property.</span><span class="sxs-lookup"><span data-stu-id="ec608-113">You can use the `DateTimeBehavior` (<xref href="Microsoft.Dynamics.CRM.DateTimeBehavior?text=DateTimeBehavior ComplexType" /> or <xref:Microsoft.Xrm.Sdk.Metadata.DateTimeBehavior> class) to specify a value for the <xref href="Microsoft.Dynamics.CRM.DateTimeAttributeMetadata?text=DateTimeAttributeMetadata EntityType" />.DateTimeBehavior property.</span></span> <span data-ttu-id="ec608-114">The `DateTimeBehavior` contains the following members; each member returns a string with the same value as the member name:</span><span class="sxs-lookup"><span data-stu-id="ec608-114">The `DateTimeBehavior` contains the following members; each member returns a string with the same value as the member name:</span></span>  
  
|<span data-ttu-id="ec608-115">Member name and value</span><span class="sxs-lookup"><span data-stu-id="ec608-115">Member name and value</span></span>|<span data-ttu-id="ec608-116">Mô tả</span><span class="sxs-lookup"><span data-stu-id="ec608-116">Description</span></span>|  
|---------------------------|-----------------|  
|`UserLocal`|<span data-ttu-id="ec608-117">-   Stores the date and time value as UTC value in the system.</span><span class="sxs-lookup"><span data-stu-id="ec608-117">-   Stores the date and time value as UTC value in the system.</span></span><br /><span data-ttu-id="ec608-118">-   The retrieve operation returns the UTC value.</span><span class="sxs-lookup"><span data-stu-id="ec608-118">-   The retrieve operation returns the UTC value.</span></span><br /><span data-ttu-id="ec608-119">-   The update operation converts the UTC value to the current user’s time zone value, and then stores the updated value as is or as the equivalent UTC value depending on the kind ([DateTimeKind](https://msdn.microsoft.com/library/shx7s921.aspx)) of the value specified for update.</span><span class="sxs-lookup"><span data-stu-id="ec608-119">-   The update operation converts the UTC value to the current user’s time zone value, and then stores the updated value as is or as the equivalent UTC value depending on the kind ([DateTimeKind](https://msdn.microsoft.com/library/shx7s921.aspx)) of the value specified for update.</span></span> <span data-ttu-id="ec608-120">If the specified value is of UTC kind, it’s stored as is.</span><span class="sxs-lookup"><span data-stu-id="ec608-120">If the specified value is of UTC kind, it’s stored as is.</span></span> <span data-ttu-id="ec608-121">Otherwise, the UTC-equivalent value is stored.</span><span class="sxs-lookup"><span data-stu-id="ec608-121">Otherwise, the UTC-equivalent value is stored.</span></span><br /><span data-ttu-id="ec608-122">-   Retrieving the formatted value converts from UTC to the user’s current time zone based on the time zone and locale setting of the user.</span><span class="sxs-lookup"><span data-stu-id="ec608-122">-   Retrieving the formatted value converts from UTC to the user’s current time zone based on the time zone and locale setting of the user.</span></span><br /><span data-ttu-id="ec608-123">-   For the Web API, the attribute is exposed as DateTimeOffset.</span><span class="sxs-lookup"><span data-stu-id="ec608-123">-   For the Web API, the attribute is exposed as DateTimeOffset.</span></span><br /><span data-ttu-id="ec608-124">-   This behavior is used for system attributes like `CreatedOn` and `ModifiedOn`, and cannot be changed.</span><span class="sxs-lookup"><span data-stu-id="ec608-124">-   This behavior is used for system attributes like `CreatedOn` and `ModifiedOn`, and cannot be changed.</span></span> <span data-ttu-id="ec608-125">You should use this behavior for custom attributes where you want to store date and time values with the time zone information.</span><span class="sxs-lookup"><span data-stu-id="ec608-125">You should use this behavior for custom attributes where you want to store date and time values with the time zone information.</span></span>|  
|`DateOnly`|<span data-ttu-id="ec608-126">-   Stores the actual date value with the time value as 12:00 AM (00:00:00) in the system.</span><span class="sxs-lookup"><span data-stu-id="ec608-126">-   Stores the actual date value with the time value as 12:00 AM (00:00:00) in the system.</span></span><br /><span data-ttu-id="ec608-127">-   For the retrieve and update operations, no time zone conversion is performed, and the time value is always 12 AM (00:00:00).</span><span class="sxs-lookup"><span data-stu-id="ec608-127">-   For the retrieve and update operations, no time zone conversion is performed, and the time value is always 12 AM (00:00:00).</span></span><br /><span data-ttu-id="ec608-128">-   Retrieving the formatted value displays the date value without any time zone conversion.</span><span class="sxs-lookup"><span data-stu-id="ec608-128">-   Retrieving the formatted value displays the date value without any time zone conversion.</span></span><br /><span data-ttu-id="ec608-129">-   For the Web API, the attribute is exposed as DateTimeOffset.</span><span class="sxs-lookup"><span data-stu-id="ec608-129">-   For the Web API, the attribute is exposed as DateTimeOffset.</span></span><br /><span data-ttu-id="ec608-130">-   This behavior should be used for custom attributes that store birthdays and anniversaries, where the time information is not required.</span><span class="sxs-lookup"><span data-stu-id="ec608-130">-   This behavior should be used for custom attributes that store birthdays and anniversaries, where the time information is not required.</span></span>|  
|`TimeZoneIndependent`|<span data-ttu-id="ec608-131">-   Stores the actual date and time values in the system regardless of the user time zone.</span><span class="sxs-lookup"><span data-stu-id="ec608-131">-   Stores the actual date and time values in the system regardless of the user time zone.</span></span><br /><span data-ttu-id="ec608-132">-   For the retrieve and update operations, no time zone conversion is performed, and actual date and time values are returned and updated respectively in the system regardless of the user time zone.</span><span class="sxs-lookup"><span data-stu-id="ec608-132">-   For the retrieve and update operations, no time zone conversion is performed, and actual date and time values are returned and updated respectively in the system regardless of the user time zone.</span></span><br /><span data-ttu-id="ec608-133">-   Retrieving the formatted value displays the date and time value (without any time zone conversion) based on the format as specified by the current user’s time zone and locale setting.</span><span class="sxs-lookup"><span data-stu-id="ec608-133">-   Retrieving the formatted value displays the date and time value (without any time zone conversion) based on the format as specified by the current user’s time zone and locale setting.</span></span><br /><span data-ttu-id="ec608-134">-   For the Web API, the attribute is exposed as DateTimeOffset.</span><span class="sxs-lookup"><span data-stu-id="ec608-134">-   For the Web API, the attribute is exposed as DateTimeOffset.</span></span><br /><span data-ttu-id="ec608-135">-   This behavior should be used for attributes that store information such as check in and check out time for hotels.</span><span class="sxs-lookup"><span data-stu-id="ec608-135">-   This behavior should be used for attributes that store information such as check in and check out time for hotels.</span></span>|  
  
 <span data-ttu-id="ec608-136">The following sample code demonstrates how to set a `UserLocal` behavior for a new date time attribute:</span><span class="sxs-lookup"><span data-stu-id="ec608-136">The following sample code demonstrates how to set a `UserLocal` behavior for a new date time attribute:</span></span>  
  
 [!code-csharp[DateTimeAttributeBehavior#ConvertDateandTimeBehavior2](../snippets/csharp/CRMV8/datetimeattributebehavior/cs/convertdateandtimebehavior2.cs#convertdateandtimebehavior2)]  
  
 <span data-ttu-id="ec608-137">In the sample code, you can also set the value of the `DateTimeBehavior` property by directly specifying the string value: `DateTimeBehavior = "UserLocal"`</span><span class="sxs-lookup"><span data-stu-id="ec608-137">In the sample code, you can also set the value of the `DateTimeBehavior` property by directly specifying the string value: `DateTimeBehavior = "UserLocal"`</span></span>  
  
 <span data-ttu-id="ec608-138">If you do not specify the behavior while creating a date and time attribute, the attribute is created with the `UserLocal` behavior by default.</span><span class="sxs-lookup"><span data-stu-id="ec608-138">If you do not specify the behavior while creating a date and time attribute, the attribute is created with the `UserLocal` behavior by default.</span></span> <span data-ttu-id="ec608-139">For the complete sample code, see [Sample: Convert date and time values](org-service/sample-convert-date-time-behavior.md).</span><span class="sxs-lookup"><span data-stu-id="ec608-139">For the complete sample code, see [Sample: Convert date and time values](org-service/sample-convert-date-time-behavior.md).</span></span>  
  
> [!IMPORTANT]
> - <span data-ttu-id="ec608-140">Once you create a date and time attribute with behavior set to `DateOnly` or `TimeZoneIndependent`, you cannot change the behavior of the attribute.</span><span class="sxs-lookup"><span data-stu-id="ec608-140">Once you create a date and time attribute with behavior set to `DateOnly` or `TimeZoneIndependent`, you cannot change the behavior of the attribute.</span></span> [!INCLUDE[proc_more_information](../includes/proc-more-information.md)] <span data-ttu-id="ec608-141">[Change the behavior of a DateTime attribute](behavior-format-date-time-attribute.md#ChangeBehavior)</span><span class="sxs-lookup"><span data-stu-id="ec608-141">[Change the behavior of a DateTime attribute](behavior-format-date-time-attribute.md#ChangeBehavior)</span></span>  
>   - <span data-ttu-id="ec608-142">The date and time attributes with the `DateOnly` or `TimeZoneIndependent` behavior will be treated like having the `UserLocal` behavior when edited in an earlier version of the [!INCLUDE[pn_crm_for_outlook_short](../includes/pn-crm-for-outlook-short.md)] client in the offline mode.</span><span class="sxs-lookup"><span data-stu-id="ec608-142">The date and time attributes with the `DateOnly` or `TimeZoneIndependent` behavior will be treated like having the `UserLocal` behavior when edited in an earlier version of the [!INCLUDE[pn_crm_for_outlook_short](../includes/pn-crm-for-outlook-short.md)] client in the offline mode.</span></span> <span data-ttu-id="ec608-143">This is because the client doesn’t understand the new behaviors and won’t treat them differently from `UserLocal` (existing behavior in versions of [!INCLUDE[pn_dynamics_crm](../includes/pn-dynamics-crm.md)] apps earlier than [!INCLUDE[pn_crm_online_2015_update_1_shortest](../includes/pn-crm-online-2015-update-1-shortest.md)] or [!INCLUDE[pn_crm_2016_shortest](../includes/pn-crm-2016-shortest.md)] (on-premises)).</span><span class="sxs-lookup"><span data-stu-id="ec608-143">This is because the client doesn’t understand the new behaviors and won’t treat them differently from `UserLocal` (existing behavior in versions of [!INCLUDE[pn_dynamics_crm](../includes/pn-dynamics-crm.md)] apps earlier than [!INCLUDE[pn_crm_online_2015_update_1_shortest](../includes/pn-crm-online-2015-update-1-shortest.md)] or [!INCLUDE[pn_crm_2016_shortest](../includes/pn-crm-2016-shortest.md)] (on-premises)).</span></span> <span data-ttu-id="ec608-144">No date and time attributes are converted to the new behaviors on upgrade so the best practice here would be to upgrade all [!INCLUDE[pn_crm_for_outlook_short](../includes/pn-crm-for-outlook-short.md)] clients to the latest release before a customizer adopts one of the new behaviors.</span><span class="sxs-lookup"><span data-stu-id="ec608-144">No date and time attributes are converted to the new behaviors on upgrade so the best practice here would be to upgrade all [!INCLUDE[pn_crm_for_outlook_short](../includes/pn-crm-for-outlook-short.md)] clients to the latest release before a customizer adopts one of the new behaviors.</span></span> <span data-ttu-id="ec608-145">When online, editing data for fields with the new behaviors will work fine.</span><span class="sxs-lookup"><span data-stu-id="ec608-145">When online, editing data for fields with the new behaviors will work fine.</span></span>  
> 
>   <span data-ttu-id="ec608-146">The older [!INCLUDE[pn_crm_for_outlook_short](../includes/pn-crm-for-outlook-short.md)] clients will also not understand dates earlier than 1/1/1900 (the earliest value supported for date and time types in versions of D[!INCLUDE[pn_dynamics_crm](../includes/pn-dynamics-crm.md)] apps earlier than [!INCLUDE[pn_crm_online_2015_update_1_shortest](../includes/pn-crm-online-2015-update-1-shortest.md)] and [!INCLUDE[pn_crm_2016_shortest](../includes/pn-crm-2016-shortest.md)] (on-premises)).</span><span class="sxs-lookup"><span data-stu-id="ec608-146">The older [!INCLUDE[pn_crm_for_outlook_short](../includes/pn-crm-for-outlook-short.md)] clients will also not understand dates earlier than 1/1/1900 (the earliest value supported for date and time types in versions of D[!INCLUDE[pn_dynamics_crm](../includes/pn-dynamics-crm.md)] apps earlier than [!INCLUDE[pn_crm_online_2015_update_1_shortest](../includes/pn-crm-online-2015-update-1-shortest.md)] and [!INCLUDE[pn_crm_2016_shortest](../includes/pn-crm-2016-shortest.md)] (on-premises)).</span></span> <span data-ttu-id="ec608-147">Users won’t be able to open records with dates earlier than 1/1/1900 when offline.</span><span class="sxs-lookup"><span data-stu-id="ec608-147">Users won’t be able to open records with dates earlier than 1/1/1900 when offline.</span></span> <span data-ttu-id="ec608-148">However, everything will work fine when they are online.</span><span class="sxs-lookup"><span data-stu-id="ec608-148">However, everything will work fine when they are online.</span></span> <span data-ttu-id="ec608-149">You must upgrade to the latest version of the [!INCLUDE[pn_crm_for_outlook_short](../includes/pn-crm-for-outlook-short.md)] clients to work with attributes with dates as early as 1/1/1753 12:00 AM in the offline mode as well.</span><span class="sxs-lookup"><span data-stu-id="ec608-149">You must upgrade to the latest version of the [!INCLUDE[pn_crm_for_outlook_short](../includes/pn-crm-for-outlook-short.md)] clients to work with attributes with dates as early as 1/1/1753 12:00 AM in the offline mode as well.</span></span>  
>   - <span data-ttu-id="ec608-150">If you use custom code to implement date time behavior in your [!INCLUDE[pn_dynamics_crm](../includes/pn-dynamics-crm.md)] apps instance, it might not work as expected in [!INCLUDE[pn_crm_online_2015_update_1_shortest](../includes/pn-crm-online-2015-update-1-shortest.md)] and [!INCLUDE[pn_crm_2016_shortest](../includes/pn-crm-2016-shortest.md)] (on-premises) owing to the new behavior.</span><span class="sxs-lookup"><span data-stu-id="ec608-150">If you use custom code to implement date time behavior in your [!INCLUDE[pn_dynamics_crm](../includes/pn-dynamics-crm.md)] apps instance, it might not work as expected in [!INCLUDE[pn_crm_online_2015_update_1_shortest](../includes/pn-crm-online-2015-update-1-shortest.md)] and [!INCLUDE[pn_crm_2016_shortest](../includes/pn-crm-2016-shortest.md)] (on-premises) owing to the new behavior.</span></span>  
  
<a name="SpecifyFormat"></a>   
## <a name="specify-format-of-the-date-and-time-attribute"></a><span data-ttu-id="ec608-151">Specify format of the date and time attribute</span><span class="sxs-lookup"><span data-stu-id="ec608-151">Specify format of the date and time attribute</span></span>  

 <span data-ttu-id="ec608-152">Use the `Format` property to specify the date/time display format of the attribute irrespective of how it is stored in the system.</span><span class="sxs-lookup"><span data-stu-id="ec608-152">Use the `Format` property to specify the date/time display format of the attribute irrespective of how it is stored in the system.</span></span> <span data-ttu-id="ec608-153">You can use the `DateTimeFormat` enumeration (<xref href="Microsoft.Dynamics.CRM.DateTimeFormat?text=DateTimeFormat EnumType" /> or <xref:Microsoft.Xrm.Sdk.Metadata.DateTimeFormat> enumeration) to specify the display format: `DateAndTime` or `DateOnly`.</span><span class="sxs-lookup"><span data-stu-id="ec608-153">You can use the `DateTimeFormat` enumeration (<xref href="Microsoft.Dynamics.CRM.DateTimeFormat?text=DateTimeFormat EnumType" /> or <xref:Microsoft.Xrm.Sdk.Metadata.DateTimeFormat> enumeration) to specify the display format: `DateAndTime` or `DateOnly`.</span></span>  
  
 <span data-ttu-id="ec608-154">If the `DateTimeAttributeMetadata.DateTimeBehavior` property is set to `DateOnly`, you cannot set or change the value of the `DateTimeAttributeMetadata.Format` property to `DateAndTime`.</span><span class="sxs-lookup"><span data-stu-id="ec608-154">If the `DateTimeAttributeMetadata.DateTimeBehavior` property is set to `DateOnly`, you cannot set or change the value of the `DateTimeAttributeMetadata.Format` property to `DateAndTime`.</span></span>  
  
<a name="UnsupportedQueryOperators"></a>   
## <a name="date-and-time-query-operators-not-supported-for-dateonly-behavior"></a><span data-ttu-id="ec608-155">Date and time query operators not supported for DateOnly behavior</span><span class="sxs-lookup"><span data-stu-id="ec608-155">Date and time query operators not supported for DateOnly behavior</span></span>  
 <span data-ttu-id="ec608-156">Time-related query operators are not supported for the `DateOnly` behavior.</span><span class="sxs-lookup"><span data-stu-id="ec608-156">Time-related query operators are not supported for the `DateOnly` behavior.</span></span> <span data-ttu-id="ec608-157">Other than the time-specific query operators listed here, all the other query operators are supported.</span><span class="sxs-lookup"><span data-stu-id="ec608-157">Other than the time-specific query operators listed here, all the other query operators are supported.</span></span>  
  
- <span data-ttu-id="ec608-158">Muộn hơn X Phút</span><span class="sxs-lookup"><span data-stu-id="ec608-158">Older Than X Minutes</span></span>  
  
- <span data-ttu-id="ec608-159">Muộn hơn X Giờ</span><span class="sxs-lookup"><span data-stu-id="ec608-159">Older Than X Hours</span></span>  
  
- <span data-ttu-id="ec608-160">X Giờ Cuối cùng</span><span class="sxs-lookup"><span data-stu-id="ec608-160">Last X Hours</span></span>  
  
- <span data-ttu-id="ec608-161">X Giờ Tiếp theo</span><span class="sxs-lookup"><span data-stu-id="ec608-161">Next X Hours</span></span>  
  
  [!INCLUDE[proc_more_information](../includes/proc-more-information.md)] <span data-ttu-id="ec608-162">[Date and time query operators in FetchXML](org-service/fiscal-date-older-datetime-query-operators-fetchxml.md)</span><span class="sxs-lookup"><span data-stu-id="ec608-162">[Date and time query operators in FetchXML](org-service/fiscal-date-older-datetime-query-operators-fetchxml.md)</span></span>  
  
<a name="ChangeBehavior"></a>   
## <a name="change-the-behavior-of-a-date-and-time-attribute"></a><span data-ttu-id="ec608-163">Change the behavior of a date and time attribute</span><span class="sxs-lookup"><span data-stu-id="ec608-163">Change the behavior of a date and time attribute</span></span>  

 <span data-ttu-id="ec608-164">You can update a date and time attribute to change its behavior if you have the System Customizer role in your [!INCLUDE[pn_dynamics_crm](../includes/pn-dynamics-crm.md)] apps instance and the `DateTimeAttributeMetadata.CanChangeDateTimeBehavior` managed property for the date and time attribute is set to `True`.</span><span class="sxs-lookup"><span data-stu-id="ec608-164">You can update a date and time attribute to change its behavior if you have the System Customizer role in your [!INCLUDE[pn_dynamics_crm](../includes/pn-dynamics-crm.md)] apps instance and the `DateTimeAttributeMetadata.CanChangeDateTimeBehavior` managed property for the date and time attribute is set to `True`.</span></span>  
  
> [!CAUTION]
>  <span data-ttu-id="ec608-165">Before changing the behavior of a date and time attribute, you should review all the dependencies of the attribute, such as business rules, workflows, and calculated or rollup attributes, to ensure that there are no issues as a result of changing the behavior.</span><span class="sxs-lookup"><span data-stu-id="ec608-165">Before changing the behavior of a date and time attribute, you should review all the dependencies of the attribute, such as business rules, workflows, and calculated or rollup attributes, to ensure that there are no issues as a result of changing the behavior.</span></span> <span data-ttu-id="ec608-166">System Customizers can restrict modifying the behavior of existing date and time attributes using the `DateTimeAttributeMetadata.CanChangeDateTimeBehavior` managed property.</span><span class="sxs-lookup"><span data-stu-id="ec608-166">System Customizers can restrict modifying the behavior of existing date and time attributes using the `DateTimeAttributeMetadata.CanChangeDateTimeBehavior` managed property.</span></span>  
> 
>  <span data-ttu-id="ec608-167">At the minimum, after changing the behavior of a date and time attribute, you should open each business rule, workflow, calculated attribute, and rollup attribute record that is dependent on the changed date and time attribute, review the information, and save the record to ensure that the latest attribute behavior and value is used.</span><span class="sxs-lookup"><span data-stu-id="ec608-167">At the minimum, after changing the behavior of a date and time attribute, you should open each business rule, workflow, calculated attribute, and rollup attribute record that is dependent on the changed date and time attribute, review the information, and save the record to ensure that the latest attribute behavior and value is used.</span></span>  
> 
>  <span data-ttu-id="ec608-168">After changing the data and time behavior of a calculated or rollup attribute, open the calculated or rollup field definition editor, and save the field definition to ensure that the attribute is still valid after the behavior change.</span><span class="sxs-lookup"><span data-stu-id="ec608-168">After changing the data and time behavior of a calculated or rollup attribute, open the calculated or rollup field definition editor, and save the field definition to ensure that the attribute is still valid after the behavior change.</span></span> <span data-ttu-id="ec608-169">System customizers can open the field definition editor for calculated or rollup attribute by clicking **Edit** next to **Field Type** in the customization area in [!INCLUDE[pn_dynamics_crm](../includes/pn-dynamics-crm.md)] apps.</span><span class="sxs-lookup"><span data-stu-id="ec608-169">System customizers can open the field definition editor for calculated or rollup attribute by clicking **Edit** next to **Field Type** in the customization area in [!INCLUDE[pn_dynamics_crm](../includes/pn-dynamics-crm.md)] apps.</span></span> [!INCLUDE[proc_more_information](../includes/proc-more-information.md)] <span data-ttu-id="ec608-170">[Define calculated fields](../customize/define-calculated-fields.md) and [Define rollup fields](../customize/define-rollup-fields.md)</span><span class="sxs-lookup"><span data-stu-id="ec608-170">[Define calculated fields](../customize/define-calculated-fields.md) and [Define rollup fields](../customize/define-rollup-fields.md)</span></span>  
  
- <span data-ttu-id="ec608-171">The behavior of the `CreatedOn` and `ModifiedOn` attributes for the out-of-box and custom entities is set to `UserLocal` by default, and the `DateTimeAttributeMetadata.CanChangeDateTimeBehavior` managed property is set to `False`, which implies that you cannot change the behavior of these attributes.</span><span class="sxs-lookup"><span data-stu-id="ec608-171">The behavior of the `CreatedOn` and `ModifiedOn` attributes for the out-of-box and custom entities is set to `UserLocal` by default, and the `DateTimeAttributeMetadata.CanChangeDateTimeBehavior` managed property is set to `False`, which implies that you cannot change the behavior of these attributes.</span></span> <span data-ttu-id="ec608-172">Although users can change the value of the `DateTimeAttributeMetadata.CanChangeDateTimeBehavior` managed property of these attributes for custom entities, but they still can’t change the behavior of the attributes.</span><span class="sxs-lookup"><span data-stu-id="ec608-172">Although users can change the value of the `DateTimeAttributeMetadata.CanChangeDateTimeBehavior` managed property of these attributes for custom entities, but they still can’t change the behavior of the attributes.</span></span>  
  
- <span data-ttu-id="ec608-173">For new custom date and time attributes, the `DateTimeAttributeMetadata.CanChangeDateTimeBehavior` managed property is set to `True`.</span><span class="sxs-lookup"><span data-stu-id="ec608-173">For new custom date and time attributes, the `DateTimeAttributeMetadata.CanChangeDateTimeBehavior` managed property is set to `True`.</span></span> <span data-ttu-id="ec608-174">This implies that you can change behavior of a custom date and time attribute from `UserLocal` to either `DateOnly` or `TimeZoneIndependent`; no other behavior transitions are allowed.</span><span class="sxs-lookup"><span data-stu-id="ec608-174">This implies that you can change behavior of a custom date and time attribute from `UserLocal` to either `DateOnly` or `TimeZoneIndependent`; no other behavior transitions are allowed.</span></span>  
  
   <span data-ttu-id="ec608-175">For custom date and time attributes that are part of a [!INCLUDE[pn_dynamics_crm](../includes/pn-dynamics-crm.md)] apps organization that is upgraded to [!INCLUDE[pn_crm_online_2016_update_shortest](../includes/pn-crm-online-2016-update-shortest.md)] or [!INCLUDE[pn_crm_2016_shortest](../includes/pn-crm-2016-shortest.md)] (on-premises), the `DateTimeAttributeMetadata.CanChangeDateTimeBehavior` managed property is set to `True` unless the attribute or the parent entity is not customizable.</span><span class="sxs-lookup"><span data-stu-id="ec608-175">For custom date and time attributes that are part of a [!INCLUDE[pn_dynamics_crm](../includes/pn-dynamics-crm.md)] apps organization that is upgraded to [!INCLUDE[pn_crm_online_2016_update_shortest](../includes/pn-crm-online-2016-update-shortest.md)] or [!INCLUDE[pn_crm_2016_shortest](../includes/pn-crm-2016-shortest.md)] (on-premises), the `DateTimeAttributeMetadata.CanChangeDateTimeBehavior` managed property is set to `True` unless the attribute or the parent entity is not customizable.</span></span>  
  
  > [!NOTE]
  >  <span data-ttu-id="ec608-176">When you update `DateTimeAttributeMetadata.DateTimeBehavior` property of an attribute from `UserLocal` to `DateOnly`, ensure that you also change the`DateTimeAttributeMetadata.Format` property from `DateAndTime` to `DateOnly`.</span><span class="sxs-lookup"><span data-stu-id="ec608-176">When you update `DateTimeAttributeMetadata.DateTimeBehavior` property of an attribute from `UserLocal` to `DateOnly`, ensure that you also change the`DateTimeAttributeMetadata.Format` property from `DateAndTime` to `DateOnly`.</span></span> <span data-ttu-id="ec608-177">Otherwise, an exception will occur.</span><span class="sxs-lookup"><span data-stu-id="ec608-177">Otherwise, an exception will occur.</span></span>  
  
- <span data-ttu-id="ec608-178">The following out-of-box date and time attributes in [!INCLUDE[pn_crm_online_2015_update_1_shortest](../includes/pn-crm-online-2015-update-1-shortest.md)] and [!INCLUDE[pn_crm_2016_shortest](../includes/pn-crm-2016-shortest.md)] (on-premises) are by default set to `DateOnly` and the `DateTimeAttributeMetadata.CanChangeDateTimeBehavior` managed property is set to `False` of these attributes, which implies that you cannot change the behavior for these attributes:</span><span class="sxs-lookup"><span data-stu-id="ec608-178">The following out-of-box date and time attributes in [!INCLUDE[pn_crm_online_2015_update_1_shortest](../includes/pn-crm-online-2015-update-1-shortest.md)] and [!INCLUDE[pn_crm_2016_shortest](../includes/pn-crm-2016-shortest.md)] (on-premises) are by default set to `DateOnly` and the `DateTimeAttributeMetadata.CanChangeDateTimeBehavior` managed property is set to `False` of these attributes, which implies that you cannot change the behavior for these attributes:</span></span>  
  
  |<span data-ttu-id="ec608-179">Date and time attribute</span><span class="sxs-lookup"><span data-stu-id="ec608-179">Date and time attribute</span></span>|<span data-ttu-id="ec608-180">Parent entity</span><span class="sxs-lookup"><span data-stu-id="ec608-180">Parent entity</span></span>|  
  |-----------------------------|-------------------|  
  |<span data-ttu-id="ec608-181">anniversary</span><span class="sxs-lookup"><span data-stu-id="ec608-181">anniversary</span></span>|<span data-ttu-id="ec608-182">người liên hệ</span><span class="sxs-lookup"><span data-stu-id="ec608-182">Contact</span></span>|  
  |<span data-ttu-id="ec608-183">birthdate</span><span class="sxs-lookup"><span data-stu-id="ec608-183">birthdate</span></span>|<span data-ttu-id="ec608-184">người liên hệ</span><span class="sxs-lookup"><span data-stu-id="ec608-184">Contact</span></span>|  
  |<span data-ttu-id="ec608-185">duedate</span><span class="sxs-lookup"><span data-stu-id="ec608-185">duedate</span></span>|<span data-ttu-id="ec608-186">Hóa đơn</span><span class="sxs-lookup"><span data-stu-id="ec608-186">Invoice</span></span>|  
  |<span data-ttu-id="ec608-187">estimatedclosedate</span><span class="sxs-lookup"><span data-stu-id="ec608-187">estimatedclosedate</span></span>|<span data-ttu-id="ec608-188">Khách hàng tiềm năng</span><span class="sxs-lookup"><span data-stu-id="ec608-188">Lead</span></span>|  
  |<span data-ttu-id="ec608-189">actualclosedate</span><span class="sxs-lookup"><span data-stu-id="ec608-189">actualclosedate</span></span>|<span data-ttu-id="ec608-190">Cơ hội</span><span class="sxs-lookup"><span data-stu-id="ec608-190">Opportunity</span></span>|  
  |<span data-ttu-id="ec608-191">estimatedclosedate</span><span class="sxs-lookup"><span data-stu-id="ec608-191">estimatedclosedate</span></span>|<span data-ttu-id="ec608-192">Cơ hội</span><span class="sxs-lookup"><span data-stu-id="ec608-192">Opportunity</span></span>|  
  |<span data-ttu-id="ec608-193">finaldecisiondate</span><span class="sxs-lookup"><span data-stu-id="ec608-193">finaldecisiondate</span></span>|<span data-ttu-id="ec608-194">Cơ hội</span><span class="sxs-lookup"><span data-stu-id="ec608-194">Opportunity</span></span>|  
  |<span data-ttu-id="ec608-195">validfromdate</span><span class="sxs-lookup"><span data-stu-id="ec608-195">validfromdate</span></span>|<span data-ttu-id="ec608-196">Sản phẩm</span><span class="sxs-lookup"><span data-stu-id="ec608-196">Product</span></span>|  
  |<span data-ttu-id="ec608-197">validtodate</span><span class="sxs-lookup"><span data-stu-id="ec608-197">validtodate</span></span>|<span data-ttu-id="ec608-198">Sản phẩm</span><span class="sxs-lookup"><span data-stu-id="ec608-198">Product</span></span>|  
  |<span data-ttu-id="ec608-199">closedon</span><span class="sxs-lookup"><span data-stu-id="ec608-199">closedon</span></span>|<span data-ttu-id="ec608-200">Báo giá</span><span class="sxs-lookup"><span data-stu-id="ec608-200">Quote</span></span>|  
  |<span data-ttu-id="ec608-201">hết hạn vào</span><span class="sxs-lookup"><span data-stu-id="ec608-201">expireson</span></span>|<span data-ttu-id="ec608-202">Báo giá</span><span class="sxs-lookup"><span data-stu-id="ec608-202">Quote</span></span>|  
  
   <span data-ttu-id="ec608-203">However, if these out-of-box date and time attributes belong to an organization that is upgraded to [!INCLUDE[pn_crm_online_2016_update](../includes/pn-crm-online-2016-update.md)] or [!INCLUDE[pn_crm_2016_shortest](../includes/pn-crm-2016-shortest.md)] (on-premises), the behavior of these attributes is set to `UserLocal` and the `DateTimeAttributeMetadata.CanChangeDateTimeBehavior` managed property to `True` in the upgraded organization, and you can change the behavior of these attributes to `DateOnly` only.</span><span class="sxs-lookup"><span data-stu-id="ec608-203">However, if these out-of-box date and time attributes belong to an organization that is upgraded to [!INCLUDE[pn_crm_online_2016_update](../includes/pn-crm-online-2016-update.md)] or [!INCLUDE[pn_crm_2016_shortest](../includes/pn-crm-2016-shortest.md)] (on-premises), the behavior of these attributes is set to `UserLocal` and the `DateTimeAttributeMetadata.CanChangeDateTimeBehavior` managed property to `True` in the upgraded organization, and you can change the behavior of these attributes to `DateOnly` only.</span></span> <span data-ttu-id="ec608-204">Không cho phép chuyển đổi hành vi khác.</span><span class="sxs-lookup"><span data-stu-id="ec608-204">No other behavior transitions are allowed.</span></span>  
  
  <span data-ttu-id="ec608-205">After updating the behavior of an attribute, you must publish the customizations for the change to take effect.</span><span class="sxs-lookup"><span data-stu-id="ec608-205">After updating the behavior of an attribute, you must publish the customizations for the change to take effect.</span></span> <span data-ttu-id="ec608-206">Updating the behavior of a date and time attribute ensures that all the values entered/updated *after* the attribute behavior was changed, are stored in the system as per the new behavior.</span><span class="sxs-lookup"><span data-stu-id="ec608-206">Updating the behavior of a date and time attribute ensures that all the values entered/updated *after* the attribute behavior was changed, are stored in the system as per the new behavior.</span></span> <span data-ttu-id="ec608-207">This does not impact the values that are already stored in the database, and they continue to be stored as UTC values.</span><span class="sxs-lookup"><span data-stu-id="ec608-207">This does not impact the values that are already stored in the database, and they continue to be stored as UTC values.</span></span> <span data-ttu-id="ec608-208">However, when you retrieve the existing values using SDK or view it in the UI, the existing values are displayed as per the new behavior of the attribute.</span><span class="sxs-lookup"><span data-stu-id="ec608-208">However, when you retrieve the existing values using SDK or view it in the UI, the existing values are displayed as per the new behavior of the attribute.</span></span> <span data-ttu-id="ec608-209">For example, if you changed the behavior of a custom attribute on an account entity from `UserLocal` to `DateOnly` and retrieve an existing account record using SDK, the date and time will be displayed as \<Date> followed by time as 12 AM (00:00:00).</span><span class="sxs-lookup"><span data-stu-id="ec608-209">For example, if you changed the behavior of a custom attribute on an account entity from `UserLocal` to `DateOnly` and retrieve an existing account record using SDK, the date and time will be displayed as \<Date> followed by time as 12 AM (00:00:00).</span></span> <span data-ttu-id="ec608-210">Similarly, for the behavior change from `UserLocal` to `TimeZoneIndependent`, the actual value in the database will be displayed as is without any time zone conversions.</span><span class="sxs-lookup"><span data-stu-id="ec608-210">Similarly, for the behavior change from `UserLocal` to `TimeZoneIndependent`, the actual value in the database will be displayed as is without any time zone conversions.</span></span>  
  
  <span data-ttu-id="ec608-211">The following sample code demonstrates how to update the behavior of a date and time attribute:</span><span class="sxs-lookup"><span data-stu-id="ec608-211">The following sample code demonstrates how to update the behavior of a date and time attribute:</span></span>  
  
  [!code-csharp[DateTimeAttributeBehavior#ConvertDateandTimeBehavior3](../snippets/csharp/CRMV8/datetimeattributebehavior/cs/convertdateandtimebehavior3.cs#convertdateandtimebehavior3)]  
  
  <span data-ttu-id="ec608-212">For the complete sample code, see [Sample: Convert date and time values](org-service/sample-convert-date-time-behavior.md).</span><span class="sxs-lookup"><span data-stu-id="ec608-212">For the complete sample code, see [Sample: Convert date and time values](org-service/sample-convert-date-time-behavior.md).</span></span>  
  
<a name="Convert"></a>   
## <a name="convert-behavior-of-existing-date-and-time-values-in-the-database"></a><span data-ttu-id="ec608-213">Convert behavior of existing date and time values in the database</span><span class="sxs-lookup"><span data-stu-id="ec608-213">Convert behavior of existing date and time values in the database</span></span> 

 <span data-ttu-id="ec608-214">When you update a date and time attribute to change its behavior from `UserLocal` to `DateOnly` or `TimeZoneIndependent`, it does not automatically convert the existing attribute values in the database.</span><span class="sxs-lookup"><span data-stu-id="ec608-214">When you update a date and time attribute to change its behavior from `UserLocal` to `DateOnly` or `TimeZoneIndependent`, it does not automatically convert the existing attribute values in the database.</span></span> <span data-ttu-id="ec608-215">The behavior change affects only those values that will be entered or updated in the attribute *after* the behavior has been changed.</span><span class="sxs-lookup"><span data-stu-id="ec608-215">The behavior change affects only those values that will be entered or updated in the attribute *after* the behavior has been changed.</span></span> <span data-ttu-id="ec608-216">The existing date and time values in the system continue to be in UTC, and displayed by [!INCLUDE[pn_dynamics_crm](../includes/pn-dynamics-crm.md)] apps according to the new behavior when retrieved through SDK or in the UI as explained in the previous section.</span><span class="sxs-lookup"><span data-stu-id="ec608-216">The existing date and time values in the system continue to be in UTC, and displayed by [!INCLUDE[pn_dynamics_crm](../includes/pn-dynamics-crm.md)] apps according to the new behavior when retrieved through SDK or in the UI as explained in the previous section.</span></span> <span data-ttu-id="ec608-217">For attributes whose behavior has changed from `UserLocal` to `DateOnly`, you can convert the existing UTC values in the database to appropriate `DateOnly` value to avoid any data anomalies by using the `ConvertDateAndTimeBehavior` message.</span><span class="sxs-lookup"><span data-stu-id="ec608-217">For attributes whose behavior has changed from `UserLocal` to `DateOnly`, you can convert the existing UTC values in the database to appropriate `DateOnly` value to avoid any data anomalies by using the `ConvertDateAndTimeBehavior` message.</span></span>  
  
 <span data-ttu-id="ec608-218">The message enables you to specify a conversion rule (If working with Organization Service see, <xref:Microsoft.Xrm.Sdk.Messages.ConvertDateAndTimeBehaviorRequest.ConversionRule>) to select the time zone to use for conversion of the values from UTC to DateOnly.</span><span class="sxs-lookup"><span data-stu-id="ec608-218">The message enables you to specify a conversion rule (If working with Organization Service see, <xref:Microsoft.Xrm.Sdk.Messages.ConvertDateAndTimeBehaviorRequest.ConversionRule>) to select the time zone to use for conversion of the values from UTC to DateOnly.</span></span> <span data-ttu-id="ec608-219">You can specify one of the following conversion rules:</span><span class="sxs-lookup"><span data-stu-id="ec608-219">You can specify one of the following conversion rules:</span></span>  
  
- <span data-ttu-id="ec608-220">`SpecificTimeZone`: Converts UTC value to a DateOnly value as per the specified [!INCLUDE[pn_dynamics_crm](../includes/pn-dynamics-crm.md)] apps time zone code.</span><span class="sxs-lookup"><span data-stu-id="ec608-220">`SpecificTimeZone`: Converts UTC value to a DateOnly value as per the specified [!INCLUDE[pn_dynamics_crm](../includes/pn-dynamics-crm.md)] apps time zone code.</span></span> <span data-ttu-id="ec608-221">In this case, you also need to specify a value for the <xref:Microsoft.Xrm.Sdk.Messages.ConvertDateAndTimeBehaviorRequest.TimeZoneCode> parameter.</span><span class="sxs-lookup"><span data-stu-id="ec608-221">In this case, you also need to specify a value for the <xref:Microsoft.Xrm.Sdk.Messages.ConvertDateAndTimeBehaviorRequest.TimeZoneCode> parameter.</span></span>  
  
- <span data-ttu-id="ec608-222">`CreatedByTimeZone`: Converts UTC value to a DateOnly value that the user who created the record would see in the UI.</span><span class="sxs-lookup"><span data-stu-id="ec608-222">`CreatedByTimeZone`: Converts UTC value to a DateOnly value that the user who created the record would see in the UI.</span></span>  
  
- <span data-ttu-id="ec608-223">`OwnerTimeZone`: Converts UTC value to a DateOnly value that the user who owns the record would see in the UI.</span><span class="sxs-lookup"><span data-stu-id="ec608-223">`OwnerTimeZone`: Converts UTC value to a DateOnly value that the user who owns the record would see in the UI.</span></span>  
  
- <span data-ttu-id="ec608-224">`LastUpdatedByTimeZone`: Converts UTC value to a DateOnly value that the user who last updated the record would see in the UI.</span><span class="sxs-lookup"><span data-stu-id="ec608-224">`LastUpdatedByTimeZone`: Converts UTC value to a DateOnly value that the user who last updated the record would see in the UI.</span></span>  
  
  <span data-ttu-id="ec608-225">You can use one of the four members of the <xref:Microsoft.Xrm.Sdk.DateTimeBehaviorConversionRule> class to specify a valid value for the <xref:Microsoft.Xrm.Sdk.Messages.ConvertDateAndTimeBehaviorRequest.ConversionRule> parameter.</span><span class="sxs-lookup"><span data-stu-id="ec608-225">You can use one of the four members of the <xref:Microsoft.Xrm.Sdk.DateTimeBehaviorConversionRule> class to specify a valid value for the <xref:Microsoft.Xrm.Sdk.Messages.ConvertDateAndTimeBehaviorRequest.ConversionRule> parameter.</span></span>  
  
> [!NOTE]
> - <span data-ttu-id="ec608-226">The `ConvertDateAndTimeBehavior` message is available only if you are using [!INCLUDE[pn_crm_online_2015_update_1_shortest](../includes/pn-crm-online-2015-update-1-shortest.md)] or [!INCLUDE[pn_crm_2016_shortest](../includes/pn-crm-2016-shortest.md)] (on-premises).</span><span class="sxs-lookup"><span data-stu-id="ec608-226">The `ConvertDateAndTimeBehavior` message is available only if you are using [!INCLUDE[pn_crm_online_2015_update_1_shortest](../includes/pn-crm-online-2015-update-1-shortest.md)] or [!INCLUDE[pn_crm_2016_shortest](../includes/pn-crm-2016-shortest.md)] (on-premises).</span></span> <span data-ttu-id="ec608-227">It is not available for earlier versions of [!INCLUDE[pn_dynamics_crm](../includes/pn-dynamics-crm.md)] apps.</span><span class="sxs-lookup"><span data-stu-id="ec608-227">It is not available for earlier versions of [!INCLUDE[pn_dynamics_crm](../includes/pn-dynamics-crm.md)] apps.</span></span>  
>   - <span data-ttu-id="ec608-228">You must have the System Administrator role in your [!INCLUDE[pn_dynamics_crm](../includes/pn-dynamics-crm.md)] apps instance to execute the <xref:Microsoft.Xrm.Sdk.Messages.ConvertDateAndTimeBehaviorRequest> message.</span><span class="sxs-lookup"><span data-stu-id="ec608-228">You must have the System Administrator role in your [!INCLUDE[pn_dynamics_crm](../includes/pn-dynamics-crm.md)] apps instance to execute the <xref:Microsoft.Xrm.Sdk.Messages.ConvertDateAndTimeBehaviorRequest> message.</span></span>  
  
 <span data-ttu-id="ec608-229">When you execute the `ConvertDateAndTimeBehavior` (If working with Organization Service see, <xref:Microsoft.Xrm.Sdk.Messages.ConvertDateAndTimeBehaviorRequest> message), a system job (asynchronous operation) is created to run the conversion request.</span><span class="sxs-lookup"><span data-stu-id="ec608-229">When you execute the `ConvertDateAndTimeBehavior` (If working with Organization Service see, <xref:Microsoft.Xrm.Sdk.Messages.ConvertDateAndTimeBehaviorRequest> message), a system job (asynchronous operation) is created to run the conversion request.</span></span> <span data-ttu-id="ec608-230">The `ConvertDateAndTimeBehaviorResponse.JobId` attribute in the message response displays the ID of the system job that is created as a result of the conversion request.</span><span class="sxs-lookup"><span data-stu-id="ec608-230">The `ConvertDateAndTimeBehaviorResponse.JobId` attribute in the message response displays the ID of the system job that is created as a result of the conversion request.</span></span> <span data-ttu-id="ec608-231">After the system job completes, check the job details (`AsyncOperation.Message`) to view conversion details or errors, if any.</span><span class="sxs-lookup"><span data-stu-id="ec608-231">After the system job completes, check the job details (`AsyncOperation.Message`) to view conversion details or errors, if any.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="ec608-232">We recommend that you group conversion of multiple attributes into a single conversion job, and run a single conversion job at a time to ensure that there are no conflicts in the conversion and for optimum system performance.</span><span class="sxs-lookup"><span data-stu-id="ec608-232">We recommend that you group conversion of multiple attributes into a single conversion job, and run a single conversion job at a time to ensure that there are no conflicts in the conversion and for optimum system performance.</span></span>  
  
 <span data-ttu-id="ec608-233">Some important points to be considered while using the `ConvertDateAndTimeBehavior` message:</span><span class="sxs-lookup"><span data-stu-id="ec608-233">Some important points to be considered while using the `ConvertDateAndTimeBehavior` message:</span></span>  
  
- <span data-ttu-id="ec608-234">You should avoid any major changes to the solutions in [!INCLUDE[pn_crm_shortest](../includes/pn-crm-shortest.md)] apps during the execution of the message such as importing a solution or deleting an attribute or parent entity.</span><span class="sxs-lookup"><span data-stu-id="ec608-234">You should avoid any major changes to the solutions in [!INCLUDE[pn_crm_shortest](../includes/pn-crm-shortest.md)] apps during the execution of the message such as importing a solution or deleting an attribute or parent entity.</span></span> <span data-ttu-id="ec608-235">Doing so might lead to unexpected behavior; however no data loss will occur.</span><span class="sxs-lookup"><span data-stu-id="ec608-235">Doing so might lead to unexpected behavior; however no data loss will occur.</span></span>  
  
- <span data-ttu-id="ec608-236">Updates done in the system as a result of executing the message won’t run workflows and plug-ins.</span><span class="sxs-lookup"><span data-stu-id="ec608-236">Updates done in the system as a result of executing the message won’t run workflows and plug-ins.</span></span>  
  
- <span data-ttu-id="ec608-237">Updates done in the system as a result of executing the message won’t change the “last modified on” value for the attributes, but will be audited to help the administrators to determine the time of the conversion and the original/changed values for an attribute.</span><span class="sxs-lookup"><span data-stu-id="ec608-237">Updates done in the system as a result of executing the message won’t change the “last modified on” value for the attributes, but will be audited to help the administrators to determine the time of the conversion and the original/changed values for an attribute.</span></span>  
  
  <span data-ttu-id="ec608-238">The following sample code shows how to use the message:</span><span class="sxs-lookup"><span data-stu-id="ec608-238">The following sample code shows how to use the message:</span></span>  
  
  [!code-csharp[DateTimeAttributeBehavior#ConvertDateandTimeBehavior1](../snippets/csharp/CRMV8/datetimeattributebehavior/cs/convertdateandtimebehavior1.cs#convertdateandtimebehavior1)]  
  
  <span data-ttu-id="ec608-239">For the complete sample code, see [Sample: Convert date and time values](org-service/sample-convert-date-time-behavior.md)</span><span class="sxs-lookup"><span data-stu-id="ec608-239">For the complete sample code, see [Sample: Convert date and time values](org-service/sample-convert-date-time-behavior.md)</span></span>  
  
### <a name="see-also"></a><span data-ttu-id="ec608-240">Xem thêm</span><span class="sxs-lookup"><span data-stu-id="ec608-240">See also</span></span>  
 <span data-ttu-id="ec608-241">[Sample: Convert date and time values](org-service/sample-convert-date-time-behavior.md) </span><span class="sxs-lookup"><span data-stu-id="ec608-241">[Sample: Convert date and time values](org-service/sample-convert-date-time-behavior.md) </span></span>  
 <span data-ttu-id="ec608-242">[Hành vi và định dạng của trường Ngày và Giờ](../customize/behavior-format-date-time-field.md) </span><span class="sxs-lookup"><span data-stu-id="ec608-242">[Behavior and format of the Date and Time field](../customize/behavior-format-date-time-field.md) </span></span>  
 <span data-ttu-id="ec608-243">[Customize Entity Attribute Metadata](customize-entity-attribute-metadata.md)        </span><span class="sxs-lookup"><span data-stu-id="ec608-243">[Customize Entity Attribute Metadata](customize-entity-attribute-metadata.md)        </span></span>  
 <xref:Microsoft.Xrm.Sdk.Messages.ConvertDateAndTimeBehaviorRequest>      
 <xref:Microsoft.Xrm.Sdk.Metadata.DateTimeAttributeMetadata>  
