---
title: Recurring appointment partial expansion model (Developer Guide for Dynamics 365 for Customer Engagement) | MicrosoftDocs
description: The partial expansion model is an asynchronous job that runs at pre-specified intervals, defined at the organization level, and used to create recurring appointment instances.
ms.custom: ''
ms.date: 10/31/2017
ms.reviewer: ''
ms.service: crm-online
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
applies_to:
- Dynamics 365 for Customer Engagement (online)
ms.assetid: 64842501-58f9-4132-9126-75c70dafa3b4
caps.latest.revision: 22
author: JimDaly
ms.author: jdaly
manager: amyla
search.audienceType:
- developer
search.app:
- D365CE
ms.openlocfilehash: ece86f29e17041cdffd11007020cdffed36814ce
ms.sourcegitcommit: 9f0efd59de16a6d9902fa372cb25fc0baf1c2838
ms.translationtype: HT
ms.contentlocale: vi-VN
ms.lasthandoff: 01/08/2019
ms.locfileid: "386819"
---
# <a name="recurring-appointment-partial-expansion-model"></a><span data-ttu-id="791e2-103">Recurring appointment partial expansion model</span><span class="sxs-lookup"><span data-stu-id="791e2-103">Recurring appointment partial expansion model</span></span>

[!INCLUDE[](../includes/cc_applies_to_update_9_0_0.md)]

[!INCLUDE[pn_microsoftcrm](../includes/pn-microsoftcrm.md)] <span data-ttu-id="791e2-104">implements a partial expansion model to create recurring appointment instances in the database.</span><span class="sxs-lookup"><span data-stu-id="791e2-104">implements a partial expansion model to create recurring appointment instances in the database.</span></span> <span data-ttu-id="791e2-105">The recurrence information, specified when you create a `RecurringAppointmentMaster` record, is used to create or synchronize individual instances in a phased manner.</span><span class="sxs-lookup"><span data-stu-id="791e2-105">The recurrence information, specified when you create a `RecurringAppointmentMaster` record, is used to create or synchronize individual instances in a phased manner.</span></span> <span data-ttu-id="791e2-106">This controls the creation of a large number of appointment records in [!INCLUDE[pn_microsoftcrm](../includes/pn-microsoftcrm.md)] due to the creation or synchronization of recurring appointments that have a large or infinite (no end date) recurrence range.</span><span class="sxs-lookup"><span data-stu-id="791e2-106">This controls the creation of a large number of appointment records in [!INCLUDE[pn_microsoftcrm](../includes/pn-microsoftcrm.md)] due to the creation or synchronization of recurring appointments that have a large or infinite (no end date) recurrence range.</span></span>  

 <span data-ttu-id="791e2-107">The partial expansion model is an asynchronous job in [!INCLUDE[pn_microsoftcrm](../includes/pn-microsoftcrm.md)] that runs at pre-specified intervals, and is defined at the organization level using the `Organization.RecurrenceExpansionJobBatchInterval` attribute.</span><span class="sxs-lookup"><span data-stu-id="791e2-107">The partial expansion model is an asynchronous job in [!INCLUDE[pn_microsoftcrm](../includes/pn-microsoftcrm.md)] that runs at pre-specified intervals, and is defined at the organization level using the `Organization.RecurrenceExpansionJobBatchInterval` attribute.</span></span> <span data-ttu-id="791e2-108">Moreover, the instance expansion model depends on an organization-level parameter, for example, “N,” where “N” stands for the maximum number of instances that can be created synchronously.</span><span class="sxs-lookup"><span data-stu-id="791e2-108">Moreover, the instance expansion model depends on an organization-level parameter, for example, “N,” where “N” stands for the maximum number of instances that can be created synchronously.</span></span> <span data-ttu-id="791e2-109">You can specify an appropriate value for this variable using the `Organization.RecurrenceExpansionSynchCreateMax` attribute.</span><span class="sxs-lookup"><span data-stu-id="791e2-109">You can specify an appropriate value for this variable using the `Organization.RecurrenceExpansionSynchCreateMax` attribute.</span></span> <span data-ttu-id="791e2-110">These properties are covered in detail in the [Parameters for the partial expansion job](#Parameter) section later.</span><span class="sxs-lookup"><span data-stu-id="791e2-110">These properties are covered in detail in the [Parameters for the partial expansion job](#Parameter) section later.</span></span>  

<a name="Scenario1"></a>   
## <a name="when-the-recurring-appointment-instances-are-less-than-or-equal-to-n"></a><span data-ttu-id="791e2-111">When the recurring appointment instances are less than or equal to “N”</span><span class="sxs-lookup"><span data-stu-id="791e2-111">When the recurring appointment instances are less than or equal to “N”</span></span>  
 <span data-ttu-id="791e2-112">If the number of instances to be generated because of the recurrence information is less than or equal to “N”, the actual number of instances are created synchronously from the effective start date of the appointment.</span><span class="sxs-lookup"><span data-stu-id="791e2-112">If the number of instances to be generated because of the recurrence information is less than or equal to “N”, the actual number of instances are created synchronously from the effective start date of the appointment.</span></span> <span data-ttu-id="791e2-113">Each instance is stored as an appointment record in [!INCLUDE[pn_microsoftcrm](../includes/pn-microsoftcrm.md)].</span><span class="sxs-lookup"><span data-stu-id="791e2-113">Each instance is stored as an appointment record in [!INCLUDE[pn_microsoftcrm](../includes/pn-microsoftcrm.md)].</span></span>  

<a name="Scenario2"></a>   
## <a name="when-the-recurring-appointment-instances-are-more-than-n"></a><span data-ttu-id="791e2-114">When the recurring appointment instances are more than “N”</span><span class="sxs-lookup"><span data-stu-id="791e2-114">When the recurring appointment instances are more than “N”</span></span>  
 <span data-ttu-id="791e2-115">For each recurring appointment created in [!INCLUDE[pn_microsoftcrm](../includes/pn-microsoftcrm.md)], an asynchronous expansion job is created.</span><span class="sxs-lookup"><span data-stu-id="791e2-115">For each recurring appointment created in [!INCLUDE[pn_microsoftcrm](../includes/pn-microsoftcrm.md)], an asynchronous expansion job is created.</span></span> <span data-ttu-id="791e2-116">The instances of the recurring appointment are expanded in the following phases:</span><span class="sxs-lookup"><span data-stu-id="791e2-116">The instances of the recurring appointment are expanded in the following phases:</span></span>  

1. <span data-ttu-id="791e2-117">**Synchronous expansion**: The first “N” instances of the recurring appointment are created synchronously from the effective start date.</span><span class="sxs-lookup"><span data-stu-id="791e2-117">**Synchronous expansion**: The first “N” instances of the recurring appointment are created synchronously from the effective start date.</span></span> <span data-ttu-id="791e2-118">Each instance is stored as an appointment record with the `Appointment.InstanceTypeCode` attribute set to “2” (Recurring Instance).</span><span class="sxs-lookup"><span data-stu-id="791e2-118">Each instance is stored as an appointment record with the `Appointment.InstanceTypeCode` attribute set to “2” (Recurring Instance).</span></span> <span data-ttu-id="791e2-119">The expansion of the rest of the instances is passed on to an asynchronous job.</span><span class="sxs-lookup"><span data-stu-id="791e2-119">The expansion of the rest of the instances is passed on to an asynchronous job.</span></span> <span data-ttu-id="791e2-120">The effective start date is the date from which the recurring appointment series has to be expanded.</span><span class="sxs-lookup"><span data-stu-id="791e2-120">The effective start date is the date from which the recurring appointment series has to be expanded.</span></span>  

2. <span data-ttu-id="791e2-121">**Asynchronous expansion**: Asynchronous jobs handle the rest of the expansion job and periodically expand the instances according to the recurrence information.</span><span class="sxs-lookup"><span data-stu-id="791e2-121">**Asynchronous expansion**: Asynchronous jobs handle the rest of the expansion job and periodically expand the instances according to the recurrence information.</span></span> <span data-ttu-id="791e2-122">The asynchronous expansion occurs only until the future expansion window (`Organization.FutureExpansionWindow`).</span><span class="sxs-lookup"><span data-stu-id="791e2-122">The asynchronous expansion occurs only until the future expansion window (`Organization.FutureExpansionWindow`).</span></span> <span data-ttu-id="791e2-123">After that, a new asynchronous job is created that handles expansion until the next future expansion window.</span><span class="sxs-lookup"><span data-stu-id="791e2-123">After that, a new asynchronous job is created that handles expansion until the next future expansion window.</span></span> <span data-ttu-id="791e2-124">The asynchronous service periodically expands the instances and stores them as appointment records in the system.</span><span class="sxs-lookup"><span data-stu-id="791e2-124">The asynchronous service periodically expands the instances and stores them as appointment records in the system.</span></span>  

<a name="Parameter"></a>   
## <a name="parameters-for-the-partial-expansion-job"></a><span data-ttu-id="791e2-125">Parameters for the partial expansion job</span><span class="sxs-lookup"><span data-stu-id="791e2-125">Parameters for the partial expansion job</span></span>  
 <span data-ttu-id="791e2-126">You must set appropriate values for these organization-level attributes in the `Organization` record for the expansion model to work as per your requirements.</span><span class="sxs-lookup"><span data-stu-id="791e2-126">You must set appropriate values for these organization-level attributes in the `Organization` record for the expansion model to work as per your requirements.</span></span> <span data-ttu-id="791e2-127">You must have the System Administrator role or appropriate privilege to do this.</span><span class="sxs-lookup"><span data-stu-id="791e2-127">You must have the System Administrator role or appropriate privilege to do this.</span></span> <span data-ttu-id="791e2-128">The following table provides information about these properties.</span><span class="sxs-lookup"><span data-stu-id="791e2-128">The following table provides information about these properties.</span></span>  


|                    <span data-ttu-id="791e2-129">Thuộc tính</span><span class="sxs-lookup"><span data-stu-id="791e2-129">Attribute</span></span>                     |                                                                                                                                                                                                                    <span data-ttu-id="791e2-130">Mô tả</span><span class="sxs-lookup"><span data-stu-id="791e2-130">Description</span></span>                                                                                                                                                                                                                    |
|--------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|  <span data-ttu-id="791e2-131">Organization.RecurrenceExpansionSynchCreateMax</span><span class="sxs-lookup"><span data-stu-id="791e2-131">Organization.RecurrenceExpansionSynchCreateMax</span></span>  |                                                                                             <span data-ttu-id="791e2-132">This is the maximum number of appointment instances that is created at the time of creation or synchronization of a recurring appointment.</span><span class="sxs-lookup"><span data-stu-id="791e2-132">This is the maximum number of appointment instances that is created at the time of creation or synchronization of a recurring appointment.</span></span> <span data-ttu-id="791e2-133">You must specify an integer value that corresponds to the number of instances.</span><span class="sxs-lookup"><span data-stu-id="791e2-133">You must specify an integer value that corresponds to the number of instances.</span></span> <span data-ttu-id="791e2-134">This value corresponds to “N”.</span><span class="sxs-lookup"><span data-stu-id="791e2-134">This value corresponds to “N”.</span></span>                                                                                              |
|         <span data-ttu-id="791e2-135">Organization.PastExpansionWindow</span><span class="sxs-lookup"><span data-stu-id="791e2-135">Organization.PastExpansionWindow</span></span>         |    <span data-ttu-id="791e2-136">This is the maximum valid time period in the past up to which the recurring appointments can be expanded or synchronized with [!INCLUDE[pn_crm_for_outlook_full](../includes/pn-crm-for-outlook-full.md)].</span><span class="sxs-lookup"><span data-stu-id="791e2-136">This is the maximum valid time period in the past up to which the recurring appointments can be expanded or synchronized with [!INCLUDE[pn_crm_for_outlook_full](../includes/pn-crm-for-outlook-full.md)].</span></span> <span data-ttu-id="791e2-137">You must specify an integer value that corresponds to the number of months.</span><span class="sxs-lookup"><span data-stu-id="791e2-137">You must specify an integer value that corresponds to the number of months.</span></span><br /><br /> <span data-ttu-id="791e2-138">The value of this attribute determines the past instance cutoff date for expanding or synchronizing the recurring appointment instances.</span><span class="sxs-lookup"><span data-stu-id="791e2-138">The value of this attribute determines the past instance cutoff date for expanding or synchronizing the recurring appointment instances.</span></span>    |
|        <span data-ttu-id="791e2-139">Organization.FutureExpansionWindow</span><span class="sxs-lookup"><span data-stu-id="791e2-139">Organization.FutureExpansionWindow</span></span>        | <span data-ttu-id="791e2-140">This is the maximum valid time period in the future up to which the recurring appointments can be expanded or synchronized with [!INCLUDE[pn_crm_for_outlook_short](../includes/pn-crm-for-outlook-short.md)].</span><span class="sxs-lookup"><span data-stu-id="791e2-140">This is the maximum valid time period in the future up to which the recurring appointments can be expanded or synchronized with [!INCLUDE[pn_crm_for_outlook_short](../includes/pn-crm-for-outlook-short.md)].</span></span> <span data-ttu-id="791e2-141">You must specify an integer value that corresponds to the number of months.</span><span class="sxs-lookup"><span data-stu-id="791e2-141">You must specify an integer value that corresponds to the number of months.</span></span><br /><br /> <span data-ttu-id="791e2-142">The value of this attribute determines the future instance cutoff date for expanding or synchronizing the recurring appointment instances.</span><span class="sxs-lookup"><span data-stu-id="791e2-142">The value of this attribute determines the future instance cutoff date for expanding or synchronizing the recurring appointment instances.</span></span> |
| <span data-ttu-id="791e2-143">Organization.RecurrenceExpansionJobBatchInterval</span><span class="sxs-lookup"><span data-stu-id="791e2-143">Organization.RecurrenceExpansionJobBatchInterval</span></span> |                                                                                                                                                                               <span data-ttu-id="791e2-144">This is the frequency in seconds after which the partial expansion job is triggered.</span><span class="sxs-lookup"><span data-stu-id="791e2-144">This is the frequency in seconds after which the partial expansion job is triggered.</span></span>                                                                                                                                                                                |
|   <span data-ttu-id="791e2-145">Organization.RecurrenceExpansionJobBatchSize</span><span class="sxs-lookup"><span data-stu-id="791e2-145">Organization.RecurrenceExpansionJobBatchSize</span></span>   |                                                                                                                                                                                  <span data-ttu-id="791e2-146">This is the number of instances expanded every time the asynchronous job runs.</span><span class="sxs-lookup"><span data-stu-id="791e2-146">This is the number of instances expanded every time the asynchronous job runs.</span></span>                                                                                                                                                                                   |

### <a name="see-also"></a><span data-ttu-id="791e2-147">Xem thêm</span><span class="sxs-lookup"><span data-stu-id="791e2-147">See also</span></span>  
 <span data-ttu-id="791e2-148">[Recurring Appointment Entities](recurring-appointment-entities.md) </span><span class="sxs-lookup"><span data-stu-id="791e2-148">[Recurring Appointment Entities](recurring-appointment-entities.md) </span></span>  
 <span data-ttu-id="791e2-149">[Create a Recurring Appointment Series, Instance or Exception](create-recurring-appointment-series-instance-exception.md) </span><span class="sxs-lookup"><span data-stu-id="791e2-149">[Create a Recurring Appointment Series, Instance or Exception](create-recurring-appointment-series-instance-exception.md) </span></span>  
 <span data-ttu-id="791e2-150">[Delete or End a Recurring Appointment Series or Instance](delete-or-end-a-recurring-appointment-series-or-instance.md) </span><span class="sxs-lookup"><span data-stu-id="791e2-150">[Delete or End a Recurring Appointment Series or Instance](delete-or-end-a-recurring-appointment-series-or-instance.md) </span></span>  
 [<span data-ttu-id="791e2-151">Update a Recurring Appointment</span><span class="sxs-lookup"><span data-stu-id="791e2-151">Update a Recurring Appointment</span></span>](update-recurring-appointment.md)
