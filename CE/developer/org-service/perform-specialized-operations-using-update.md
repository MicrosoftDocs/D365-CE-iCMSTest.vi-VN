---
title: Perform specialized operations using Update (Developer Guide for Dynamics 365 for Customer Engagement)| MicrosoftDocs
description: Before Dynamics CRM Online 2015 Update 1, specialized messages were required to update certain entity attribute values. Learn about how UpdateRequest can now be used to set these attributes. This article lists the specialized deprecated message requests and the related message attributes that can be updated using UpdateRequest
ms.custom: ''
ms.date: 12/15/2017
ms.reviewer: ''
ms.service: crm-online
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
applies_to:
- Dynamics 365 for Customer Engagement (online)
ms.assetid: 03511f6c-62f5-4976-b91f-996354b1d135
author: JimDaly
ms.author: jdaly
manager: amyla
search.audienceType:
- developer
search.app:
- D365CE
ms.openlocfilehash: 0cda1c6e3e037c861354d655795ea6b91053dc51
ms.sourcegitcommit: 9f0efd59de16a6d9902fa372cb25fc0baf1c2838
ms.translationtype: HT
ms.contentlocale: vi-VN
ms.lasthandoff: 01/08/2019
ms.locfileid: "385637"
---
# <a name="perform-specialized-operations-using-update"></a><span data-ttu-id="7cc0d-105">Perform specialized operations using Update</span><span class="sxs-lookup"><span data-stu-id="7cc0d-105">Perform specialized operations using Update</span></span>

[!INCLUDE[](../../includes/cc_applies_to_update_9_0_0.md)]

 <span data-ttu-id="7cc0d-106">Using <xref:Microsoft.Xrm.Sdk.Messages.UpdateRequest> you can now update certain entity attribute values.</span><span class="sxs-lookup"><span data-stu-id="7cc0d-106">Using <xref:Microsoft.Xrm.Sdk.Messages.UpdateRequest> you can now update certain entity attribute values.</span></span> <span data-ttu-id="7cc0d-107">The following table identifies the specialized deprecated message requests and the related message attributes that can be updated using <xref:Microsoft.Xrm.Sdk.Messages.UpdateRequest>.</span><span class="sxs-lookup"><span data-stu-id="7cc0d-107">The following table identifies the specialized deprecated message requests and the related message attributes that can be updated using <xref:Microsoft.Xrm.Sdk.Messages.UpdateRequest>.</span></span>
  
|<span data-ttu-id="7cc0d-108">Deprecated message request</span><span class="sxs-lookup"><span data-stu-id="7cc0d-108">Deprecated message request</span></span>|<span data-ttu-id="7cc0d-109">Attribute to update</span><span class="sxs-lookup"><span data-stu-id="7cc0d-109">Attribute to update</span></span>|  
|--------------------------------|-------------------------|  
|<xref:Microsoft.Crm.Sdk.Messages.AssignRequest>|<span data-ttu-id="7cc0d-110">\<entity>.`OwnerId`\*</span><span class="sxs-lookup"><span data-stu-id="7cc0d-110">\<entity>.`OwnerId`\*</span></span>|  
|<xref:Microsoft.Crm.Sdk.Messages.SetStateRequest>|<span data-ttu-id="7cc0d-111">\<entity>.`StateCode`\* **Important:**  For **SLA** and **RoutingRule** entities, changing the **OwnerId** and **StateCode** in a single **Update** message invocation is not supported and results in an exception.</span><span class="sxs-lookup"><span data-stu-id="7cc0d-111">\<entity>.`StateCode`\* **Important:**  For **SLA** and **RoutingRule** entities, changing the **OwnerId** and **StateCode** in a single **Update** message invocation is not supported and results in an exception.</span></span>|   
|<xref:Microsoft.Crm.Sdk.Messages.SetParentSystemUserRequest>|`SystemUser.ParentSystemUserId`|  
|<xref:Microsoft.Crm.Sdk.Messages.SetParentTeamRequest>|`Team.BusinessUnitId`|  
|<xref:Microsoft.Crm.Sdk.Messages.SetParentBusinessUnitRequest>|`BusinessUnit.ParentBusinessUnitId`|  
|<xref:Microsoft.Crm.Sdk.Messages.SetBusinessEquipmentRequest>|`Equipment.BusinessUnitId`|  
|<xref:Microsoft.Crm.Sdk.Messages.SetBusinessSystemUserRequest>|`SystemUser.BusinessUnitId`|  
  
 <span data-ttu-id="7cc0d-112">\*\<entity> refers to any entity that provides this attribute.</span><span class="sxs-lookup"><span data-stu-id="7cc0d-112">\*\<entity> refers to any entity that provides this attribute.</span></span>  
  
 <span data-ttu-id="7cc0d-113">These specialized messages will continue to work with the 2011 endpoint.</span><span class="sxs-lookup"><span data-stu-id="7cc0d-113">These specialized messages will continue to work with the 2011 endpoint.</span></span> <span data-ttu-id="7cc0d-114">However, the recommendation is to use the `UpdateRequest` or <xref:Microsoft.Xrm.Sdk.IOrganizationService.Update*> method when possible to set these attributes.</span><span class="sxs-lookup"><span data-stu-id="7cc0d-114">However, the recommendation is to use the `UpdateRequest` or <xref:Microsoft.Xrm.Sdk.IOrganizationService.Update*> method when possible to set these attributes.</span></span> <span data-ttu-id="7cc0d-115">The `Update` message simplifies the Organization Service and makes it easier to code standard data integration tools used with Dynamics 365 for Customer Engagement apps.</span><span class="sxs-lookup"><span data-stu-id="7cc0d-115">The `Update` message simplifies the Organization Service and makes it easier to code standard data integration tools used with Dynamics 365 for Customer Engagement apps.</span></span> <span data-ttu-id="7cc0d-116">In addition, it is easier to code and register a plug-in to execute for a single **Update** message instead of multiple specialized messages.</span><span class="sxs-lookup"><span data-stu-id="7cc0d-116">In addition, it is easier to code and register a plug-in to execute for a single **Update** message instead of multiple specialized messages.</span></span> <span data-ttu-id="7cc0d-117">The <xref:Microsoft.Xrm.Sdk.Metadata.AttributeMetadata>.<xref:Microsoft.Xrm.Sdk.Metadata.AttributeMetadata.IsValidForUpdate></span><span class="sxs-lookup"><span data-stu-id="7cc0d-117">The <xref:Microsoft.Xrm.Sdk.Metadata.AttributeMetadata>.<xref:Microsoft.Xrm.Sdk.Metadata.AttributeMetadata.IsValidForUpdate></span></span> <span data-ttu-id="7cc0d-118">property for the above listed attributes has been changed to `true` in this release to enable this capability.</span><span class="sxs-lookup"><span data-stu-id="7cc0d-118">property for the above listed attributes has been changed to `true` in this release to enable this capability.</span></span>  
  
 <span data-ttu-id="7cc0d-119">You can continue to use these specialized messages of the 2011 endpoint in your code.</span><span class="sxs-lookup"><span data-stu-id="7cc0d-119">You can continue to use these specialized messages of the 2011 endpoint in your code.</span></span> <span data-ttu-id="7cc0d-120">However, the Web API that eventually replaces the Organization Service supports only the **Update** message for these types of operations.</span><span class="sxs-lookup"><span data-stu-id="7cc0d-120">However, the Web API that eventually replaces the Organization Service supports only the **Update** message for these types of operations.</span></span> <span data-ttu-id="7cc0d-121">If you want to get a head start on changing your code to align with the Web API, you can now do so.</span><span class="sxs-lookup"><span data-stu-id="7cc0d-121">If you want to get a head start on changing your code to align with the Web API, you can now do so.</span></span> [!INCLUDE[proc_more_information](../../includes/proc-more-information.md)] <span data-ttu-id="7cc0d-122">[Use the Dynamics 365 for Customer Engagement Web API](../use-microsoft-dynamics-365-web-api.md).</span><span class="sxs-lookup"><span data-stu-id="7cc0d-122">[Use the Dynamics 365 for Customer Engagement Web API](../use-microsoft-dynamics-365-web-api.md).</span></span>  
  
## <a name="impact-of-this-change-on-plug-ins"></a><span data-ttu-id="7cc0d-123">Impact of this change on plug-ins</span><span class="sxs-lookup"><span data-stu-id="7cc0d-123">Impact of this change on plug-ins</span></span>  
 <span data-ttu-id="7cc0d-124">When update requests are processed that include both owner fields plus other standard fields for business owned entities, plug-ins registered for the **Update** message in pipeline stage 20 and/or stage 40 execute once for all non-owner fields, and then once for the owner fields.</span><span class="sxs-lookup"><span data-stu-id="7cc0d-124">When update requests are processed that include both owner fields plus other standard fields for business owned entities, plug-ins registered for the **Update** message in pipeline stage 20 and/or stage 40 execute once for all non-owner fields, and then once for the owner fields.</span></span> <span data-ttu-id="7cc0d-125">Examples of owner fields would be `businessunit` and `manager` (for a `SystemUser` entity).</span><span class="sxs-lookup"><span data-stu-id="7cc0d-125">Examples of owner fields would be `businessunit` and `manager` (for a `SystemUser` entity).</span></span> <span data-ttu-id="7cc0d-126">Examples of business owned entities include `SystemUser`, `BusinessUnit`, `Equipment`, and `Team`.</span><span class="sxs-lookup"><span data-stu-id="7cc0d-126">Examples of business owned entities include `SystemUser`, `BusinessUnit`, `Equipment`, and `Team`.</span></span>  
  
 <span data-ttu-id="7cc0d-127">When update requests are processed that include both state/status fields plus other standard fields, plug-ins registered for the **Update** message in pipeline stage 20 and/or stage 40 execute once for all non-state/status fields, and then once for the state/status fields.</span><span class="sxs-lookup"><span data-stu-id="7cc0d-127">When update requests are processed that include both state/status fields plus other standard fields, plug-ins registered for the **Update** message in pipeline stage 20 and/or stage 40 execute once for all non-state/status fields, and then once for the state/status fields.</span></span>  
  
 <span data-ttu-id="7cc0d-128">In order for plug-in code to receive the full data changes of the update, you must register the plug-in in stage 10 and then store relevant information in <xref:Microsoft.Xrm.Sdk.IExecutionContext.SharedVariables> in the plug-in context for later plug-ins (in the pipeline) to consume.</span><span class="sxs-lookup"><span data-stu-id="7cc0d-128">In order for plug-in code to receive the full data changes of the update, you must register the plug-in in stage 10 and then store relevant information in <xref:Microsoft.Xrm.Sdk.IExecutionContext.SharedVariables> in the plug-in context for later plug-ins (in the pipeline) to consume.</span></span>  
  
## <a name="impact-of-this-change-on-workflows"></a><span data-ttu-id="7cc0d-129">Impact of this change on workflows</span><span class="sxs-lookup"><span data-stu-id="7cc0d-129">Impact of this change on workflows</span></span>  
 <span data-ttu-id="7cc0d-130">When update requests are processed that include both owner fields plus other standard fields, workflows registered for the **Update** message execute once for all non-owner fields, and then once for the owner fields.</span><span class="sxs-lookup"><span data-stu-id="7cc0d-130">When update requests are processed that include both owner fields plus other standard fields, workflows registered for the **Update** message execute once for all non-owner fields, and then once for the owner fields.</span></span> <span data-ttu-id="7cc0d-131">Workflows registered for the **Assign** message by users continue to be triggered by updates to owner fields.</span><span class="sxs-lookup"><span data-stu-id="7cc0d-131">Workflows registered for the **Assign** message by users continue to be triggered by updates to owner fields.</span></span>  
  
 <span data-ttu-id="7cc0d-132">When update requests are processed that include both state/status fields plus other standard fields, workflows registered for the **Update** message execute once for all non-state/status fields, and then once for the state/status fields.</span><span class="sxs-lookup"><span data-stu-id="7cc0d-132">When update requests are processed that include both state/status fields plus other standard fields, workflows registered for the **Update** message execute once for all non-state/status fields, and then once for the state/status fields.</span></span> <span data-ttu-id="7cc0d-133">Workflows registered for the **Change Status** step continue to be triggered by updates to state/status fields.</span><span class="sxs-lookup"><span data-stu-id="7cc0d-133">Workflows registered for the **Change Status** step continue to be triggered by updates to state/status fields.</span></span>  
  
### <a name="see-also"></a><span data-ttu-id="7cc0d-134">Xem thêm</span><span class="sxs-lookup"><span data-stu-id="7cc0d-134">See also</span></span>  
 <span data-ttu-id="7cc0d-135">[Write plug-ins to extend business processes](../write-plugin-extend-business-processes.md) </span><span class="sxs-lookup"><span data-stu-id="7cc0d-135">[Write plug-ins to extend business processes](../write-plugin-extend-business-processes.md) </span></span>  
 [<span data-ttu-id="7cc0d-136">Automate your business processes in Customer Engagement apps</span><span class="sxs-lookup"><span data-stu-id="7cc0d-136">Automate your business processes in Customer Engagement apps</span></span>](../automate-business-processes-customer-engagement.md)
