---
title: Asynchronous operation states (Developer Guide for Dynamics 365 for Customer Engagement apps) | MicrosoftDocs
description: Learn about the asynchronous operation states, which can be waiting to run, it can be running, or it can be completed.
ms.custom: ''
ms.date: 10/31/2017
ms.reviewer: ''
ms.service: crm-online
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
applies_to:
- Dynamics 365 for Customer Engagement (online)
ms.assetid: 78340765-afb7-47eb-a024-6c2dfd41cd6f
caps.latest.revision: 26
author: JimDaly
ms.author: jdaly
manager: amyla
search.audienceType:
- developer
search.app:
- D365CE
ms.openlocfilehash: 081261d30ec6f1395474fafd3603889ae429748d
ms.sourcegitcommit: 9f0efd59de16a6d9902fa372cb25fc0baf1c2838
ms.translationtype: HT
ms.contentlocale: vi-VN
ms.lasthandoff: 01/08/2019
ms.locfileid: "387949"
---
# <a name="asynchronous-operation-states"></a><span data-ttu-id="95dde-103">Asynchronous operation states</span><span class="sxs-lookup"><span data-stu-id="95dde-103">Asynchronous operation states</span></span>

[!INCLUDE[](../includes/cc_applies_to_update_9_0_0.md)]

<span data-ttu-id="95dde-104">After asynchronous operations are added to the asynchronous queue, they exist in a well-defined state.</span><span class="sxs-lookup"><span data-stu-id="95dde-104">After asynchronous operations are added to the asynchronous queue, they exist in a well-defined state.</span></span> <span data-ttu-id="95dde-105">An asynchronous operation can be waiting to run, it can be running, or it can be completed.</span><span class="sxs-lookup"><span data-stu-id="95dde-105">An asynchronous operation can be waiting to run, it can be running, or it can be completed.</span></span> <span data-ttu-id="95dde-106">There are also other possible states before the operation is eventually deleted from the queue.</span><span class="sxs-lookup"><span data-stu-id="95dde-106">There are also other possible states before the operation is eventually deleted from the queue.</span></span> <span data-ttu-id="95dde-107">The states define the life cycle of the asynchronous operation.</span><span class="sxs-lookup"><span data-stu-id="95dde-107">The states define the life cycle of the asynchronous operation.</span></span>  
  
<a name="bkmk_states"></a>   
## <a name="states-for-asynchronous-operations"></a><span data-ttu-id="95dde-108">States for asynchronous operations</span><span class="sxs-lookup"><span data-stu-id="95dde-108">States for asynchronous operations</span></span>  
 <span data-ttu-id="95dde-109">The state of the asynchronous operation can be altered through three means: by the platform as part of regular queue processing, by the user interacting with the [!INCLUDE[pn_dynamics_crm](../includes/pn-dynamics-crm.md)] apps web application, or by a web service call that alters the asynchronous operation.</span><span class="sxs-lookup"><span data-stu-id="95dde-109">The state of the asynchronous operation can be altered through three means: by the platform as part of regular queue processing, by the user interacting with the [!INCLUDE[pn_dynamics_crm](../includes/pn-dynamics-crm.md)] apps web application, or by a web service call that alters the asynchronous operation.</span></span> <span data-ttu-id="95dde-110">As a developer you can retrieve the current state of any asynchronous operation that you have access to and also change the state.</span><span class="sxs-lookup"><span data-stu-id="95dde-110">As a developer you can retrieve the current state of any asynchronous operation that you have access to and also change the state.</span></span>  
  
 <span data-ttu-id="95dde-111">The following table lists the states, and the statuses for each state, of an `AsyncOperation`.</span><span class="sxs-lookup"><span data-stu-id="95dde-111">The following table lists the states, and the statuses for each state, of an `AsyncOperation`.</span></span>  
  
|<span data-ttu-id="95dde-112">Tiểu bang</span><span class="sxs-lookup"><span data-stu-id="95dde-112">State</span></span>|<span data-ttu-id="95dde-113">Trạng thái</span><span class="sxs-lookup"><span data-stu-id="95dde-113">Status</span></span>|<span data-ttu-id="95dde-114">Numeric status value</span><span class="sxs-lookup"><span data-stu-id="95dde-114">Numeric status value</span></span>|  
|-----------|------------|--------------------------|  
|<span data-ttu-id="95dde-115">Sẵn sàng</span><span class="sxs-lookup"><span data-stu-id="95dde-115">Ready</span></span>|<span data-ttu-id="95dde-116">WaitingForResources</span><span class="sxs-lookup"><span data-stu-id="95dde-116">WaitingForResources</span></span>|<span data-ttu-id="95dde-117">0</span><span class="sxs-lookup"><span data-stu-id="95dde-117">0</span></span>|  
|<span data-ttu-id="95dde-118">Đã treo</span><span class="sxs-lookup"><span data-stu-id="95dde-118">Suspended</span></span>|<span data-ttu-id="95dde-119">Đang chờ</span><span class="sxs-lookup"><span data-stu-id="95dde-119">Waiting</span></span>|<span data-ttu-id="95dde-120">10</span><span class="sxs-lookup"><span data-stu-id="95dde-120">10</span></span>|  
|<span data-ttu-id="95dde-121">Đã khóa</span><span class="sxs-lookup"><span data-stu-id="95dde-121">Locked</span></span>|<span data-ttu-id="95dde-122">InProgress</span><span class="sxs-lookup"><span data-stu-id="95dde-122">InProgress</span></span>|<span data-ttu-id="95dde-123">20</span><span class="sxs-lookup"><span data-stu-id="95dde-123">20</span></span>|  
|<span data-ttu-id="95dde-124">Đã khóa</span><span class="sxs-lookup"><span data-stu-id="95dde-124">Locked</span></span>|<span data-ttu-id="95dde-125">Đang tạm dừng</span><span class="sxs-lookup"><span data-stu-id="95dde-125">Pausing</span></span>|<span data-ttu-id="95dde-126">21</span><span class="sxs-lookup"><span data-stu-id="95dde-126">21</span></span>|  
|<span data-ttu-id="95dde-127">Đã khóa</span><span class="sxs-lookup"><span data-stu-id="95dde-127">Locked</span></span>|<span data-ttu-id="95dde-128">Đang hủy</span><span class="sxs-lookup"><span data-stu-id="95dde-128">Canceling</span></span>|<span data-ttu-id="95dde-129">22</span><span class="sxs-lookup"><span data-stu-id="95dde-129">22</span></span>|  
|<span data-ttu-id="95dde-130">Đã hoàn thành</span><span class="sxs-lookup"><span data-stu-id="95dde-130">Completed</span></span>|<span data-ttu-id="95dde-131">Đã thành công</span><span class="sxs-lookup"><span data-stu-id="95dde-131">Succeeded</span></span>|<span data-ttu-id="95dde-132">30</span><span class="sxs-lookup"><span data-stu-id="95dde-132">30</span></span>|  
|<span data-ttu-id="95dde-133">Đã hoàn thành</span><span class="sxs-lookup"><span data-stu-id="95dde-133">Completed</span></span>|<span data-ttu-id="95dde-134">Không thành công</span><span class="sxs-lookup"><span data-stu-id="95dde-134">Failed</span></span>|<span data-ttu-id="95dde-135">31</span><span class="sxs-lookup"><span data-stu-id="95dde-135">31</span></span>|  
|<span data-ttu-id="95dde-136">Đã hoàn thành</span><span class="sxs-lookup"><span data-stu-id="95dde-136">Completed</span></span>|<span data-ttu-id="95dde-137">Đã hủy</span><span class="sxs-lookup"><span data-stu-id="95dde-137">Canceled</span></span>|<span data-ttu-id="95dde-138">32</span><span class="sxs-lookup"><span data-stu-id="95dde-138">32</span></span>|  
  
 <span data-ttu-id="95dde-139">The supported states are defined in the `AsyncOperationState` enumeration.</span><span class="sxs-lookup"><span data-stu-id="95dde-139">The supported states are defined in the `AsyncOperationState` enumeration.</span></span> <span data-ttu-id="95dde-140">In the early bound `AsyncOperation` class, the state is available in the `AsyncOperation.StateCode` attribute while the status is available in the `AsyncOperation.StatusCode` attribute.</span><span class="sxs-lookup"><span data-stu-id="95dde-140">In the early bound `AsyncOperation` class, the state is available in the `AsyncOperation.StateCode` attribute while the status is available in the `AsyncOperation.StatusCode` attribute.</span></span> <span data-ttu-id="95dde-141">For more information, see the AsyncOperation entity metadata.</span><span class="sxs-lookup"><span data-stu-id="95dde-141">For more information, see the AsyncOperation entity metadata.</span></span> [!INCLUDE[metadata_browser](../includes/metadata-browser.md)]<span data-ttu-id="95dde-142">.</span><span class="sxs-lookup"><span data-stu-id="95dde-142">.</span></span> <span data-ttu-id="95dde-143">The statuses are shown in the [!INCLUDE[pn_dynamics_crm](../includes/pn-dynamics-crm.md)] Web application in the **Status Reason** field in **System Jobs** grid.</span><span class="sxs-lookup"><span data-stu-id="95dde-143">The statuses are shown in the [!INCLUDE[pn_dynamics_crm](../includes/pn-dynamics-crm.md)] Web application in the **Status Reason** field in **System Jobs** grid.</span></span> <span data-ttu-id="95dde-144">By selecting any of the menu items in the **More Actions** menu in **System Jobs**, you can interactively alter the state of an asynchronous operation.</span><span class="sxs-lookup"><span data-stu-id="95dde-144">By selecting any of the menu items in the **More Actions** menu in **System Jobs**, you can interactively alter the state of an asynchronous operation.</span></span> <span data-ttu-id="95dde-145">Allowed actions include the following: Cancel, Resume, Postpone, and Pause.</span><span class="sxs-lookup"><span data-stu-id="95dde-145">Allowed actions include the following: Cancel, Resume, Postpone, and Pause.</span></span>  
  
 <span data-ttu-id="95dde-146">The following diagram shows the asynchronous operation state transitions that are supported.</span><span class="sxs-lookup"><span data-stu-id="95dde-146">The following diagram shows the asynchronous operation state transitions that are supported.</span></span>  
  
 <span data-ttu-id="95dde-147">![AsyncOperation state diagram](media/crm-v5s-as-statediagram.png "AsyncOperation state diagram")</span><span class="sxs-lookup"><span data-stu-id="95dde-147">![AsyncOperation state diagram](media/crm-v5s-as-statediagram.png "AsyncOperation state diagram")</span></span>  
  
 <span data-ttu-id="95dde-148">Notice that an asynchronous operation can only transition from one state to another along specific paths as shown in the diagram.</span><span class="sxs-lookup"><span data-stu-id="95dde-148">Notice that an asynchronous operation can only transition from one state to another along specific paths as shown in the diagram.</span></span> <span data-ttu-id="95dde-149">Some paths are initiated by the user interacting with the [!INCLUDE[pn_dynamics_crm](../includes/pn-dynamics-crm.md)] web application while other paths are initiated by the [!INCLUDE[pn_dynamics_crm](../includes/pn-dynamics-crm.md)] apps platform as part of regular asynchronous queue processing or because of a Web service call.</span><span class="sxs-lookup"><span data-stu-id="95dde-149">Some paths are initiated by the user interacting with the [!INCLUDE[pn_dynamics_crm](../includes/pn-dynamics-crm.md)] web application while other paths are initiated by the [!INCLUDE[pn_dynamics_crm](../includes/pn-dynamics-crm.md)] apps platform as part of regular asynchronous queue processing or because of a Web service call.</span></span> <span data-ttu-id="95dde-150">For example, an asynchronous operation cannot transition directly from a Suspended state to a Locked state.</span><span class="sxs-lookup"><span data-stu-id="95dde-150">For example, an asynchronous operation cannot transition directly from a Suspended state to a Locked state.</span></span>  
  
 <span data-ttu-id="95dde-151">A locked state indicates that the `AsyncOperation` instance is being used by the asynchronous service.</span><span class="sxs-lookup"><span data-stu-id="95dde-151">A locked state indicates that the `AsyncOperation` instance is being used by the asynchronous service.</span></span> <span data-ttu-id="95dde-152">While it is locked it cannot be used by another instance of the service.</span><span class="sxs-lookup"><span data-stu-id="95dde-152">While it is locked it cannot be used by another instance of the service.</span></span> <span data-ttu-id="95dde-153">This ensures that the instance is not executed more than once, for example by two different asynchronous services.</span><span class="sxs-lookup"><span data-stu-id="95dde-153">This ensures that the instance is not executed more than once, for example by two different asynchronous services.</span></span>  
  
<a name="bkmk_retrieve"></a>   
## <a name="retrieve-and-update-asyncoperation-states"></a><span data-ttu-id="95dde-154">Retrieve and update AsyncOperation states</span><span class="sxs-lookup"><span data-stu-id="95dde-154">Retrieve and update AsyncOperation states</span></span>  
 <span data-ttu-id="95dde-155">Monitoring and updating the state of an asynchronous operation is typically done interactively through the **System Jobs** grid in the [!INCLUDE[pn_dynamics_crm](../includes/pn-dynamics-crm.md)] apps Web application.</span><span class="sxs-lookup"><span data-stu-id="95dde-155">Monitoring and updating the state of an asynchronous operation is typically done interactively through the **System Jobs** grid in the [!INCLUDE[pn_dynamics_crm](../includes/pn-dynamics-crm.md)] apps Web application.</span></span> <span data-ttu-id="95dde-156">However, you can also use the SDK to write code that performs those same tasks.</span><span class="sxs-lookup"><span data-stu-id="95dde-156">However, you can also use the SDK to write code that performs those same tasks.</span></span>  
  
#### <a name="read-the-state-of-an-asynchronous-operation"></a><span data-ttu-id="95dde-157">Read the state of an asynchronous operation</span><span class="sxs-lookup"><span data-stu-id="95dde-157">Read the state of an asynchronous operation</span></span>  
  
1.  <span data-ttu-id="95dde-158">Retrieve an `AsyncOperation` by name using the <xref:Microsoft.Xrm.Sdk.IOrganizationService.RetrieveMultiple*> method or by ID using the <xref:Microsoft.Xrm.Sdk.IOrganizationService.Retrieve*> method.</span><span class="sxs-lookup"><span data-stu-id="95dde-158">Retrieve an `AsyncOperation` by name using the <xref:Microsoft.Xrm.Sdk.IOrganizationService.RetrieveMultiple*> method or by ID using the <xref:Microsoft.Xrm.Sdk.IOrganizationService.Retrieve*> method.</span></span>  
  
2.  <span data-ttu-id="95dde-159">Read the `AsyncOperation.StateCode` attribute.</span><span class="sxs-lookup"><span data-stu-id="95dde-159">Read the `AsyncOperation.StateCode` attribute.</span></span>  
  
#### <a name="change-the-state-code"></a><span data-ttu-id="95dde-160">Change the state code</span><span class="sxs-lookup"><span data-stu-id="95dde-160">Change the state code</span></span>  
  
1. <span data-ttu-id="95dde-161">Modify the retrieved state code attribute to a new value according to the allowed operation states.</span><span class="sxs-lookup"><span data-stu-id="95dde-161">Modify the retrieved state code attribute to a new value according to the allowed operation states.</span></span> <span data-ttu-id="95dde-162">You could also change the `AsyncOperation.PostponeUntil` attribute.</span><span class="sxs-lookup"><span data-stu-id="95dde-162">You could also change the `AsyncOperation.PostponeUntil` attribute.</span></span>  
  
2. <span data-ttu-id="95dde-163">Call <xref:Microsoft.Xrm.Sdk.IOrganizationService.Update*> to change the value of those attributes in the database.</span><span class="sxs-lookup"><span data-stu-id="95dde-163">Call <xref:Microsoft.Xrm.Sdk.IOrganizationService.Update*> to change the value of those attributes in the database.</span></span>  
  
   <span data-ttu-id="95dde-164">The previous operations can also be performed by using the <xref:Microsoft.Xrm.Sdk.IOrganizationService>.<xref:Microsoft.Xrm.Sdk.IOrganizationService.Execute*></span><span class="sxs-lookup"><span data-stu-id="95dde-164">The previous operations can also be performed by using the <xref:Microsoft.Xrm.Sdk.IOrganizationService>.<xref:Microsoft.Xrm.Sdk.IOrganizationService.Execute*></span></span> <span data-ttu-id="95dde-165">method with the appropriate request messages.</span><span class="sxs-lookup"><span data-stu-id="95dde-165">method with the appropriate request messages.</span></span> <span data-ttu-id="95dde-166">Attributes of `AsyncOperation` other than `AsyncOperation.StateCode` and `AsyncOperation.PostponeUntil` should be considered read-only.</span><span class="sxs-lookup"><span data-stu-id="95dde-166">Attributes of `AsyncOperation` other than `AsyncOperation.StateCode` and `AsyncOperation.PostponeUntil` should be considered read-only.</span></span>  
  
## <a name="recurring-system-jobs"></a><span data-ttu-id="95dde-167">Recurring system jobs</span><span class="sxs-lookup"><span data-stu-id="95dde-167">Recurring system jobs</span></span>  
 <span data-ttu-id="95dde-168">You cannot cancel, pause, or resume most system jobs.</span><span class="sxs-lookup"><span data-stu-id="95dde-168">You cannot cancel, pause, or resume most system jobs.</span></span> <span data-ttu-id="95dde-169">Refer to the following list that identifies some of these restricted system jobs.</span><span class="sxs-lookup"><span data-stu-id="95dde-169">Refer to the following list that identifies some of these restricted system jobs.</span></span> <span data-ttu-id="95dde-170">The value in the first column is the value of the `OperationType` attribute of the `AsyncOperation` entity.</span><span class="sxs-lookup"><span data-stu-id="95dde-170">The value in the first column is the value of the `OperationType` attribute of the `AsyncOperation` entity.</span></span>  
  
|<span data-ttu-id="95dde-171">Async Operation Type (Option Value)</span><span class="sxs-lookup"><span data-stu-id="95dde-171">Async Operation Type (Option Value)</span></span>|<span data-ttu-id="95dde-172">Operation Description</span><span class="sxs-lookup"><span data-stu-id="95dde-172">Operation Description</span></span>|  
|-------------------------------------------|---------------------------|  
|<span data-ttu-id="95dde-173">22</span><span class="sxs-lookup"><span data-stu-id="95dde-173">22</span></span>|<span data-ttu-id="95dde-174">Calculate Organization Maximum Storage Size</span><span class="sxs-lookup"><span data-stu-id="95dde-174">Calculate Organization Maximum Storage Size</span></span>|  
|<span data-ttu-id="95dde-175">18</span><span class="sxs-lookup"><span data-stu-id="95dde-175">18</span></span>|<span data-ttu-id="95dde-176">Calculate Organization Storage Size</span><span class="sxs-lookup"><span data-stu-id="95dde-176">Calculate Organization Storage Size</span></span>|  
|<span data-ttu-id="95dde-177">19</span><span class="sxs-lookup"><span data-stu-id="95dde-177">19</span></span>|<span data-ttu-id="95dde-178">Collect Organization Database Statistics</span><span class="sxs-lookup"><span data-stu-id="95dde-178">Collect Organization Database Statistics</span></span>|  
|<span data-ttu-id="95dde-179">20</span><span class="sxs-lookup"><span data-stu-id="95dde-179">20</span></span>|<span data-ttu-id="95dde-180">Collection Organization Size Statistics</span><span class="sxs-lookup"><span data-stu-id="95dde-180">Collection Organization Size Statistics</span></span>|  
|<span data-ttu-id="95dde-181">16</span><span class="sxs-lookup"><span data-stu-id="95dde-181">16</span></span>|<span data-ttu-id="95dde-182">Collect Organization Statistics</span><span class="sxs-lookup"><span data-stu-id="95dde-182">Collect Organization Statistics</span></span>|  
|<span data-ttu-id="95dde-183">9</span><span class="sxs-lookup"><span data-stu-id="95dde-183">9</span></span>|<span data-ttu-id="95dde-184">SQM Data Collection</span><span class="sxs-lookup"><span data-stu-id="95dde-184">SQM Data Collection</span></span>|  
|<span data-ttu-id="95dde-185">25</span><span class="sxs-lookup"><span data-stu-id="95dde-185">25</span></span>|<span data-ttu-id="95dde-186">Organization Full Text Catalog Index</span><span class="sxs-lookup"><span data-stu-id="95dde-186">Organization Full Text Catalog Index</span></span>|  
|<span data-ttu-id="95dde-187">31</span><span class="sxs-lookup"><span data-stu-id="95dde-187">31</span></span>|<span data-ttu-id="95dde-188">Storage Limit Notification</span><span class="sxs-lookup"><span data-stu-id="95dde-188">Storage Limit Notification</span></span>|  
|<span data-ttu-id="95dde-189">24</span><span class="sxs-lookup"><span data-stu-id="95dde-189">24</span></span>|<span data-ttu-id="95dde-190">Update Statistic Intervals</span><span class="sxs-lookup"><span data-stu-id="95dde-190">Update Statistic Intervals</span></span>|  
|<span data-ttu-id="95dde-191">27</span><span class="sxs-lookup"><span data-stu-id="95dde-191">27</span></span>|<span data-ttu-id="95dde-192">Update Contract States</span><span class="sxs-lookup"><span data-stu-id="95dde-192">Update Contract States</span></span>|  
  
 <span data-ttu-id="95dde-193">For the complete list of supported asynchronous operation types, see the `AsyncOperation` entity metadata.</span><span class="sxs-lookup"><span data-stu-id="95dde-193">For the complete list of supported asynchronous operation types, see the `AsyncOperation` entity metadata.</span></span> [!INCLUDE[metadata_browser](../includes/metadata-browser.md)]  
  
### <a name="see-also"></a><span data-ttu-id="95dde-194">Xem thêm</span><span class="sxs-lookup"><span data-stu-id="95dde-194">See also</span></span>  
 <span data-ttu-id="95dde-195">[Dịch vụ Không đồng thời](asynchronous-service.md) </span><span class="sxs-lookup"><span data-stu-id="95dde-195">[Asynchronous Service](asynchronous-service.md) </span></span>  
 <span data-ttu-id="95dde-196">[Asynchronous Operation (system job) Entity](asyncoperation-system-job-entity.md) </span><span class="sxs-lookup"><span data-stu-id="95dde-196">[Asynchronous Operation (system job) Entity](asyncoperation-system-job-entity.md) </span></span>  
 [<span data-ttu-id="95dde-197">Dependency and execution order in asynchronous operations</span><span class="sxs-lookup"><span data-stu-id="95dde-197">Dependency and execution order in asynchronous operations</span></span>](dependency-execution-order-asynchronous-operations.md)
