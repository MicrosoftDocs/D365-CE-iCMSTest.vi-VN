---
title: Compose HTTP requests and handle errors (Developer Guide for Dynamics 365 for Customer Engagement)| MicrosoftDocs
description: Read about the HTTP methods and headers that form a part of HTTP requests that interact with the Web API and how to identify and handle errors returned in the response
ms.custom: ''
ms.date: 10/31/2017
ms.reviewer: ''
ms.service: crm-online
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
applies_to:
- Dynamics 365 for Customer Engagement (online)
ms.assetid: 64a39182-25de-4d31-951c-852025a75811
caps.latest.revision: 13
author: JimDaly
ms.author: jdaly
manager: amyla
search.audienceType:
- developer
search.app:
- D365CE
ms.openlocfilehash: a8b5e3eb2678e89f818b790c3308aa30ed7418f1
ms.sourcegitcommit: 9f0efd59de16a6d9902fa372cb25fc0baf1c2838
ms.translationtype: HT
ms.contentlocale: vi-VN
ms.lasthandoff: 01/08/2019
ms.locfileid: "388108"
---
# <a name="compose-http-requests-and-handle-errors"></a><span data-ttu-id="53dc2-103">Compose HTTP requests and handle errors</span><span class="sxs-lookup"><span data-stu-id="53dc2-103">Compose HTTP requests and handle errors</span></span>

[!INCLUDE[](../../includes/cc_applies_to_update_9_0_0.md)]

<span data-ttu-id="53dc2-104">You interact with the Web API by composing and sending HTTP requests.</span><span class="sxs-lookup"><span data-stu-id="53dc2-104">You interact with the Web API by composing and sending HTTP requests.</span></span> <span data-ttu-id="53dc2-105">You need to know how to set the appropriate HTTP headers and handle any errors included in the response.</span><span class="sxs-lookup"><span data-stu-id="53dc2-105">You need to know how to set the appropriate HTTP headers and handle any errors included in the response.</span></span>  

<a name="bkmk_url_versions"></a>

## <a name="web-api-url-and-versions"></a><span data-ttu-id="53dc2-106">Web API URL and versions</span><span class="sxs-lookup"><span data-stu-id="53dc2-106">Web API URL and versions</span></span>

<span data-ttu-id="53dc2-107">To access the Web API you must compose a URL using the parts in the following table.</span><span class="sxs-lookup"><span data-stu-id="53dc2-107">To access the Web API you must compose a URL using the parts in the following table.</span></span>

|<span data-ttu-id="53dc2-108">Phần</span><span class="sxs-lookup"><span data-stu-id="53dc2-108">Part</span></span>|<span data-ttu-id="53dc2-109">Mô tả</span><span class="sxs-lookup"><span data-stu-id="53dc2-109">Description</span></span>|
|--|--|
|<span data-ttu-id="53dc2-110">Giao thức</span><span class="sxs-lookup"><span data-stu-id="53dc2-110">Protocol</span></span>|<span data-ttu-id="53dc2-111">The appropriate protocol, either `https://` or `http://`.</span><span class="sxs-lookup"><span data-stu-id="53dc2-111">The appropriate protocol, either `https://` or `http://`.</span></span>|
|<span data-ttu-id="53dc2-112">Base URL</span><span class="sxs-lookup"><span data-stu-id="53dc2-112">Base URL</span></span>|<div><span data-ttu-id="53dc2-113">This is the URL you normally use to open the web application.</span><span class="sxs-lookup"><span data-stu-id="53dc2-113">This is the URL you normally use to open the web application.</span></span><ul><li><span data-ttu-id="53dc2-114">For Dynamics 365 for Customer Engagement apps (online): use <code class="x-hidden-focus">&lt;tenant name&gt;.crm.dynamics.com</code>.</span><span class="sxs-lookup"><span data-stu-id="53dc2-114">For Dynamics 365 for Customer Engagement apps (online): use <code class="x-hidden-focus">&lt;tenant name&gt;.crm.dynamics.com</code>.</span></span></li><li><span data-ttu-id="53dc2-115">For Internet-facing deployment (IFD): Use the appropriate URL for your instance.</span><span class="sxs-lookup"><span data-stu-id="53dc2-115">For Internet-facing deployment (IFD): Use the appropriate URL for your instance.</span></span> <span data-ttu-id="53dc2-116">This will be: <code class="x-hidden-focus">&lt;organization name&gt;.&lt;domain name&gt;</code>.</span><span class="sxs-lookup"><span data-stu-id="53dc2-116">This will be: <code class="x-hidden-focus">&lt;organization name&gt;.&lt;domain name&gt;</code>.</span></span></li><li><span data-ttu-id="53dc2-117">For Dynamics 365 for Customer Engagement (on-premises): use <code class="x-hidden-focus">&lt;server name&gt;/&lt;organization name&gt;</code>.</span><span class="sxs-lookup"><span data-stu-id="53dc2-117">For Dynamics 365 for Customer Engagement (on-premises): use <code class="x-hidden-focus">&lt;server name&gt;/&lt;organization name&gt;</code>.</span></span></li></ul></div>|
|<span data-ttu-id="53dc2-118">Web API path</span><span class="sxs-lookup"><span data-stu-id="53dc2-118">Web API path</span></span>|<span data-ttu-id="53dc2-119">The path to the web API is `/api/data/`.</span><span class="sxs-lookup"><span data-stu-id="53dc2-119">The path to the web API is `/api/data/`.</span></span>|
|<span data-ttu-id="53dc2-120">Phiên bản</span><span class="sxs-lookup"><span data-stu-id="53dc2-120">Version</span></span>|   <span data-ttu-id="53dc2-121">The version is expressed this way: `v[Major_version].[Minor_version][PatchVersion]/`.</span><span class="sxs-lookup"><span data-stu-id="53dc2-121">The version is expressed this way: `v[Major_version].[Minor_version][PatchVersion]/`.</span></span> <span data-ttu-id="53dc2-122">The valid version for this release is <code class="x-hidden-focus">v9.0</code>.</span><span class="sxs-lookup"><span data-stu-id="53dc2-122">The valid version for this release is <code class="x-hidden-focus">v9.0</code>.</span></span>|
|<span data-ttu-id="53dc2-123">Nguồn lực</span><span class="sxs-lookup"><span data-stu-id="53dc2-123">Resource</span></span>|<span data-ttu-id="53dc2-124">The name of the entity, function, or action you want to use.</span><span class="sxs-lookup"><span data-stu-id="53dc2-124">The name of the entity, function, or action you want to use.</span></span>|


<span data-ttu-id="53dc2-125">The URL you will use will be composed with these parts: Protocol + Base URL + Web API path + Version + Resource.</span><span class="sxs-lookup"><span data-stu-id="53dc2-125">The URL you will use will be composed with these parts: Protocol + Base URL + Web API path + Version + Resource.</span></span>

<a name="version_compatiblity"></a>

###   <a name="version-compatibility"></a><span data-ttu-id="53dc2-126">Version compatibility</span><span class="sxs-lookup"><span data-stu-id="53dc2-126">Version compatibility</span></span>

<span data-ttu-id="53dc2-127">This release introduces capabilities which are not available in previous versions.</span><span class="sxs-lookup"><span data-stu-id="53dc2-127">This release introduces capabilities which are not available in previous versions.</span></span> <span data-ttu-id="53dc2-128">Subsequent minor versions may provide additional capabilities which will not be back ported to earlier minor versions.</span><span class="sxs-lookup"><span data-stu-id="53dc2-128">Subsequent minor versions may provide additional capabilities which will not be back ported to earlier minor versions.</span></span> <span data-ttu-id="53dc2-129">Your code written for v9.0 will continue to work in future versions when you reference v9.0 in the URL you use.</span><span class="sxs-lookup"><span data-stu-id="53dc2-129">Your code written for v9.0 will continue to work in future versions when you reference v9.0 in the URL you use.</span></span>

<span data-ttu-id="53dc2-130">As new capabilities are introduced they may conflict with earlier versions.</span><span class="sxs-lookup"><span data-stu-id="53dc2-130">As new capabilities are introduced they may conflict with earlier versions.</span></span> <span data-ttu-id="53dc2-131">This is necessary to allow the service to become better.</span><span class="sxs-lookup"><span data-stu-id="53dc2-131">This is necessary to allow the service to become better.</span></span> <span data-ttu-id="53dc2-132">Most of the time, capabilities will remain the same between versions but you should not assume they will.</span><span class="sxs-lookup"><span data-stu-id="53dc2-132">Most of the time, capabilities will remain the same between versions but you should not assume they will.</span></span>

> [!NOTE]
> <span data-ttu-id="53dc2-133">Unlike the v8.x minor releases, new capabilities or other changes added to future versions will not be applied to earlier versions.</span><span class="sxs-lookup"><span data-stu-id="53dc2-133">Unlike the v8.x minor releases, new capabilities or other changes added to future versions will not be applied to earlier versions.</span></span>
> <span data-ttu-id="53dc2-134">You will need to pay attention to the version of the service you use and test your code if you change the version used.</span><span class="sxs-lookup"><span data-stu-id="53dc2-134">You will need to pay attention to the version of the service you use and test your code if you change the version used.</span></span>

<a name="bkmk_methods"></a>

## <a name="http-methods"></a><span data-ttu-id="53dc2-135">HTTP methods</span><span class="sxs-lookup"><span data-stu-id="53dc2-135">HTTP methods</span></span>

<span data-ttu-id="53dc2-136">HTTP requests can apply a variety of different methods.</span><span class="sxs-lookup"><span data-stu-id="53dc2-136">HTTP requests can apply a variety of different methods.</span></span> <span data-ttu-id="53dc2-137">When using the Web API you will only use the methods listed in the following table.</span><span class="sxs-lookup"><span data-stu-id="53dc2-137">When using the Web API you will only use the methods listed in the following table.</span></span>  
  
|<span data-ttu-id="53dc2-138">Phương pháp</span><span class="sxs-lookup"><span data-stu-id="53dc2-138">Method</span></span>|<span data-ttu-id="53dc2-139">Sử dụng</span><span class="sxs-lookup"><span data-stu-id="53dc2-139">Usage</span></span>|  
|------------|-----------|  
|<span data-ttu-id="53dc2-140">GET</span><span class="sxs-lookup"><span data-stu-id="53dc2-140">GET</span></span>|<span data-ttu-id="53dc2-141">Use when retrieving data, including calling functions.</span><span class="sxs-lookup"><span data-stu-id="53dc2-141">Use when retrieving data, including calling functions.</span></span> <span data-ttu-id="53dc2-142">The expected Status Code for a successful retrieve is 200 OK.</span><span class="sxs-lookup"><span data-stu-id="53dc2-142">The expected Status Code for a successful retrieve is 200 OK.</span></span>|  
|<span data-ttu-id="53dc2-143">POST</span><span class="sxs-lookup"><span data-stu-id="53dc2-143">POST</span></span>|<span data-ttu-id="53dc2-144">Use when creating entities or calling actions.</span><span class="sxs-lookup"><span data-stu-id="53dc2-144">Use when creating entities or calling actions.</span></span>|  
|<span data-ttu-id="53dc2-145">PATCH</span><span class="sxs-lookup"><span data-stu-id="53dc2-145">PATCH</span></span>|<span data-ttu-id="53dc2-146">Use when updating entities or performing upsert operations.</span><span class="sxs-lookup"><span data-stu-id="53dc2-146">Use when updating entities or performing upsert operations.</span></span>|  
|<span data-ttu-id="53dc2-147">XÓA</span><span class="sxs-lookup"><span data-stu-id="53dc2-147">DELETE</span></span>|<span data-ttu-id="53dc2-148">Use when deleting entities or individual properties of entities.</span><span class="sxs-lookup"><span data-stu-id="53dc2-148">Use when deleting entities or individual properties of entities.</span></span>|  
|<span data-ttu-id="53dc2-149">PUT</span><span class="sxs-lookup"><span data-stu-id="53dc2-149">PUT</span></span>|<span data-ttu-id="53dc2-150">Use in limited situations to update individual properties of entities.</span><span class="sxs-lookup"><span data-stu-id="53dc2-150">Use in limited situations to update individual properties of entities.</span></span> <span data-ttu-id="53dc2-151">This method isn’t recommended when updating most entities.</span><span class="sxs-lookup"><span data-stu-id="53dc2-151">This method isn’t recommended when updating most entities.</span></span> <span data-ttu-id="53dc2-152">You’ll use this when updating model entities.</span><span class="sxs-lookup"><span data-stu-id="53dc2-152">You’ll use this when updating model entities.</span></span>|  

<a name="bkmk_headers"></a>

## <a name="http-headers"></a><span data-ttu-id="53dc2-153">HTTP headers</span><span class="sxs-lookup"><span data-stu-id="53dc2-153">HTTP headers</span></span>

 <span data-ttu-id="53dc2-154">Although the OData protocol allows for both JSON and ATOM format, the web API only supports JSON.</span><span class="sxs-lookup"><span data-stu-id="53dc2-154">Although the OData protocol allows for both JSON and ATOM format, the web API only supports JSON.</span></span> <span data-ttu-id="53dc2-155">Therefore the following headers can be applied.</span><span class="sxs-lookup"><span data-stu-id="53dc2-155">Therefore the following headers can be applied.</span></span>  

 <span data-ttu-id="53dc2-156">Every request should include the Accept header value of `application/json`, even when no response body is expected.</span><span class="sxs-lookup"><span data-stu-id="53dc2-156">Every request should include the Accept header value of `application/json`, even when no response body is expected.</span></span> <span data-ttu-id="53dc2-157">Any error returned in the response will be returned as JSON.</span><span class="sxs-lookup"><span data-stu-id="53dc2-157">Any error returned in the response will be returned as JSON.</span></span> <span data-ttu-id="53dc2-158">While your code should work even if this header isn’t included, we recommend including it as a best practice</span><span class="sxs-lookup"><span data-stu-id="53dc2-158">While your code should work even if this header isn’t included, we recommend including it as a best practice</span></span>  

 <span data-ttu-id="53dc2-159">The current OData version is 4.0, but future versions may allow for new capabilities.</span><span class="sxs-lookup"><span data-stu-id="53dc2-159">The current OData version is 4.0, but future versions may allow for new capabilities.</span></span> <span data-ttu-id="53dc2-160">To ensure that there is no ambiguity about the OData version that will be applied to your code at that point in the future, you should always include an explicit statement of the current OData version and the Maximum version to apply in your code.</span><span class="sxs-lookup"><span data-stu-id="53dc2-160">To ensure that there is no ambiguity about the OData version that will be applied to your code at that point in the future, you should always include an explicit statement of the current OData version and the Maximum version to apply in your code.</span></span> <span data-ttu-id="53dc2-161">Use both OData-Version and OData-MaxVersion headers set to a value of 4.0.</span><span class="sxs-lookup"><span data-stu-id="53dc2-161">Use both OData-Version and OData-MaxVersion headers set to a value of 4.0.</span></span>  

 <span data-ttu-id="53dc2-162">Queries which expand collection-valued navigation properties may return cached data for those properties that doesn’t reflect recent changes.</span><span class="sxs-lookup"><span data-stu-id="53dc2-162">Queries which expand collection-valued navigation properties may return cached data for those properties that doesn’t reflect recent changes.</span></span> <span data-ttu-id="53dc2-163">Include `If-None-Match: null` header in the request body to override browser caching of Web API request.</span><span class="sxs-lookup"><span data-stu-id="53dc2-163">Include `If-None-Match: null` header in the request body to override browser caching of Web API request.</span></span> <span data-ttu-id="53dc2-164">For more information see [Hypertext Transfer Protocol (HTTP/1.1): Conditional Requests 3.2 : If-None-Match](https://tools.ietf.org/html/rfc7232#section-3.2).</span><span class="sxs-lookup"><span data-stu-id="53dc2-164">For more information see [Hypertext Transfer Protocol (HTTP/1.1): Conditional Requests 3.2 : If-None-Match](https://tools.ietf.org/html/rfc7232#section-3.2).</span></span>

 <span data-ttu-id="53dc2-165">All HTTP headers should include at least the following headers.</span><span class="sxs-lookup"><span data-stu-id="53dc2-165">All HTTP headers should include at least the following headers.</span></span>  

```
Accept: application/json  
OData-MaxVersion: 4.0  
OData-Version: 4.0
If-None-Match: null
```  

 <span data-ttu-id="53dc2-166">Every request that includes JSON data in the request body must include a Content-Type header with a value of `application/json`.</span><span class="sxs-lookup"><span data-stu-id="53dc2-166">Every request that includes JSON data in the request body must include a Content-Type header with a value of `application/json`.</span></span>  

```  
Content-Type: application/json  
```  

 <span data-ttu-id="53dc2-167">You can use additional headers to enable specific capabilities.</span><span class="sxs-lookup"><span data-stu-id="53dc2-167">You can use additional headers to enable specific capabilities.</span></span>  

- <span data-ttu-id="53dc2-168">To return data on create (POST) or update (PATCH) operations for entities, include the `return=representation` preference.</span><span class="sxs-lookup"><span data-stu-id="53dc2-168">To return data on create (POST) or update (PATCH) operations for entities, include the `return=representation` preference.</span></span> <span data-ttu-id="53dc2-169">When this preference is applied to a POST request, a successful response will have status 201 (Created) .</span><span class="sxs-lookup"><span data-stu-id="53dc2-169">When this preference is applied to a POST request, a successful response will have status 201 (Created) .</span></span> <span data-ttu-id="53dc2-170">For a PATCH request, a successful response will have a status 200 (OK).</span><span class="sxs-lookup"><span data-stu-id="53dc2-170">For a PATCH request, a successful response will have a status 200 (OK).</span></span> <span data-ttu-id="53dc2-171">Without this preference applied, both operations will return status 204 (No Content) to reflect that no data is returned in the body of the response by default.</span><span class="sxs-lookup"><span data-stu-id="53dc2-171">Without this preference applied, both operations will return status 204 (No Content) to reflect that no data is returned in the body of the response by default.</span></span>  

  > [!NOTE]
  >  <span data-ttu-id="53dc2-172">This capability was added with [!INCLUDE[pn_crm_8_2_0_both](../../includes/pn-crm-8-2-0-both.md)].</span><span class="sxs-lookup"><span data-stu-id="53dc2-172">This capability was added with [!INCLUDE[pn_crm_8_2_0_both](../../includes/pn-crm-8-2-0-both.md)].</span></span>  

- <span data-ttu-id="53dc2-173">To return formatted values with a query, include the odata.include-annotations preference set to Microsoft.Dynamics.CRM.formattedvalue using the [Prefer](https://tools.ietf.org/html/rfc7240) header.</span><span class="sxs-lookup"><span data-stu-id="53dc2-173">To return formatted values with a query, include the odata.include-annotations preference set to Microsoft.Dynamics.CRM.formattedvalue using the [Prefer](https://tools.ietf.org/html/rfc7240) header.</span></span> [!INCLUDE[proc_more_information](../../includes/proc-more-information.md)] <span data-ttu-id="53dc2-174">[Include formatted values](query-data-web-api.md#bkmk_includeFormattedValues)</span><span class="sxs-lookup"><span data-stu-id="53dc2-174">[Include formatted values](query-data-web-api.md#bkmk_includeFormattedValues)</span></span>  

- <span data-ttu-id="53dc2-175">You also use the Prefer header with the odata.maxpagesize option to specify how many pages you want to return.</span><span class="sxs-lookup"><span data-stu-id="53dc2-175">You also use the Prefer header with the odata.maxpagesize option to specify how many pages you want to return.</span></span> [!INCLUDE[proc_more_information](../../includes/proc-more-information.md)] <span data-ttu-id="53dc2-176">[Specify the number of entities to return in a page](query-data-web-api.md#bkmk_specifyNumber)</span><span class="sxs-lookup"><span data-stu-id="53dc2-176">[Specify the number of entities to return in a page](query-data-web-api.md#bkmk_specifyNumber)</span></span>  

- <span data-ttu-id="53dc2-177">To impersonate another user when the caller has the privileges to do so, add the MSCRMCallerID header with the systemuserid value of the user to impersonate.</span><span class="sxs-lookup"><span data-stu-id="53dc2-177">To impersonate another user when the caller has the privileges to do so, add the MSCRMCallerID header with the systemuserid value of the user to impersonate.</span></span> [!INCLUDE[proc_more_information](../../includes/proc-more-information.md)] <span data-ttu-id="53dc2-178">[Impersonate another user using the Web API](impersonate-another-user-web-api.md).</span><span class="sxs-lookup"><span data-stu-id="53dc2-178">[Impersonate another user using the Web API](impersonate-another-user-web-api.md).</span></span>  

- <span data-ttu-id="53dc2-179">To apply optimistic concurrency, you can apply the [If-Match](https://tools.ietf.org/html/rfc7232#section-3.1) header with an Etag value.</span><span class="sxs-lookup"><span data-stu-id="53dc2-179">To apply optimistic concurrency, you can apply the [If-Match](https://tools.ietf.org/html/rfc7232#section-3.1) header with an Etag value.</span></span> [!INCLUDE[proc_more_information](../../includes/proc-more-information.md)] <span data-ttu-id="53dc2-180">[Apply optimistic concurrency](perform-conditional-operations-using-web-api.md#bkmk_Applyoptimisticconcurrency).</span><span class="sxs-lookup"><span data-stu-id="53dc2-180">[Apply optimistic concurrency](perform-conditional-operations-using-web-api.md#bkmk_Applyoptimisticconcurrency).</span></span>  

- <span data-ttu-id="53dc2-181">To control whether an upsert operation should actually create or update an entity, you can also use the If-Match and [If-None-Match](https://tools.ietf.org/html/rfc7232#section-3.2) headers.</span><span class="sxs-lookup"><span data-stu-id="53dc2-181">To control whether an upsert operation should actually create or update an entity, you can also use the If-Match and [If-None-Match](https://tools.ietf.org/html/rfc7232#section-3.2) headers.</span></span> [!INCLUDE[proc_more_information](../../includes/proc-more-information.md)] <span data-ttu-id="53dc2-182">[Upsert an entity](update-delete-entities-using-web-api.md#bkmk_upsert).</span><span class="sxs-lookup"><span data-stu-id="53dc2-182">[Upsert an entity](update-delete-entities-using-web-api.md#bkmk_upsert).</span></span>  

- <span data-ttu-id="53dc2-183">When you execute batch operations, you must apply a number of different headers in the request and with each part sent in the body.</span><span class="sxs-lookup"><span data-stu-id="53dc2-183">When you execute batch operations, you must apply a number of different headers in the request and with each part sent in the body.</span></span> [!INCLUDE[proc_more_information](../../includes/proc-more-information.md)] <span data-ttu-id="53dc2-184">[Execute batch operations using the Web API](execute-batch-operations-using-web-api.md).</span><span class="sxs-lookup"><span data-stu-id="53dc2-184">[Execute batch operations using the Web API](execute-batch-operations-using-web-api.md).</span></span>  

<a name="bkmk_statusCodes"></a>

## <a name="identify-status-codes"></a><span data-ttu-id="53dc2-185">Identify status codes</span><span class="sxs-lookup"><span data-stu-id="53dc2-185">Identify status codes</span></span>

 <span data-ttu-id="53dc2-186">Whether an http request succeeds or fails, the response will include a status code.</span><span class="sxs-lookup"><span data-stu-id="53dc2-186">Whether an http request succeeds or fails, the response will include a status code.</span></span> <span data-ttu-id="53dc2-187">Status codes returned by the [!INCLUDE[pn_dynamics_crm](../../includes/pn-dynamics-crm.md)] apps Web API include the following.</span><span class="sxs-lookup"><span data-stu-id="53dc2-187">Status codes returned by the [!INCLUDE[pn_dynamics_crm](../../includes/pn-dynamics-crm.md)] apps Web API include the following.</span></span>  


|          <span data-ttu-id="53dc2-188">Mã</span><span class="sxs-lookup"><span data-stu-id="53dc2-188">Code</span></span>           |                                                                                                                                                                                                                                                                             <span data-ttu-id="53dc2-189">Mô tả</span><span class="sxs-lookup"><span data-stu-id="53dc2-189">Description</span></span>                                                                                                                                                                                                                                                                              |     <span data-ttu-id="53dc2-190">Loại</span><span class="sxs-lookup"><span data-stu-id="53dc2-190">Type</span></span>     |
|-------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--------------|
|         <span data-ttu-id="53dc2-191">200 OK</span><span class="sxs-lookup"><span data-stu-id="53dc2-191">200 OK</span></span>          |                                                                                                                                                                                                                                                <span data-ttu-id="53dc2-192">Expect this when your operation will return data in the response body.</span><span class="sxs-lookup"><span data-stu-id="53dc2-192">Expect this when your operation will return data in the response body.</span></span>                                                                                                                                                                                                                                                |   <span data-ttu-id="53dc2-193">Success</span><span class="sxs-lookup"><span data-stu-id="53dc2-193">Success</span></span>    |
|       <span data-ttu-id="53dc2-194">201 Created</span><span class="sxs-lookup"><span data-stu-id="53dc2-194">201 Created</span></span>       |                                                                                                                                                       <span data-ttu-id="53dc2-195">Expect this when your entity POST operation succeeds and you have specified the `return=representation` preference in your request.</span><span class="sxs-lookup"><span data-stu-id="53dc2-195">Expect this when your entity POST operation succeeds and you have specified the `return=representation` preference in your request.</span></span> <br /><span data-ttu-id="53dc2-196">**Note:**  This capability was added with [!INCLUDE[pn_crm_8_2_0_both](../../includes/pn-crm-8-2-0-both.md)].</span><span class="sxs-lookup"><span data-stu-id="53dc2-196">**Note:**  This capability was added with [!INCLUDE[pn_crm_8_2_0_both](../../includes/pn-crm-8-2-0-both.md)].</span></span>                                                                                                                                                        |   <span data-ttu-id="53dc2-197">Success</span><span class="sxs-lookup"><span data-stu-id="53dc2-197">Success</span></span>    |
|     <span data-ttu-id="53dc2-198">204 No Content</span><span class="sxs-lookup"><span data-stu-id="53dc2-198">204 No Content</span></span>      |                                                                                                                                                                                                                                       <span data-ttu-id="53dc2-199">Expect this when your operation succeeds but does not return data in the response body.</span><span class="sxs-lookup"><span data-stu-id="53dc2-199">Expect this when your operation succeeds but does not return data in the response body.</span></span>                                                                                                                                                                                                                                        |   <span data-ttu-id="53dc2-200">Success</span><span class="sxs-lookup"><span data-stu-id="53dc2-200">Success</span></span>    |
|    <span data-ttu-id="53dc2-201">304 Not Modified</span><span class="sxs-lookup"><span data-stu-id="53dc2-201">304 Not Modified</span></span>     |                                                                                                                                                 <span data-ttu-id="53dc2-202">Expect this when testing whether an entity has been modified since it was last retrieved.</span><span class="sxs-lookup"><span data-stu-id="53dc2-202">Expect this when testing whether an entity has been modified since it was last retrieved.</span></span> [!INCLUDE[proc_more_information](../../includes/proc-more-information.md)] <span data-ttu-id="53dc2-203">[Conditional retrievals](perform-conditional-operations-using-web-api.md#bkmk_DetectIfChanged)</span><span class="sxs-lookup"><span data-stu-id="53dc2-203">[Conditional retrievals](perform-conditional-operations-using-web-api.md#bkmk_DetectIfChanged)</span></span>                                                                                                                                                  | <span data-ttu-id="53dc2-204">Redirection</span><span class="sxs-lookup"><span data-stu-id="53dc2-204">Redirection</span></span>  |
|      <span data-ttu-id="53dc2-205">403 Forbidden</span><span class="sxs-lookup"><span data-stu-id="53dc2-205">403 Forbidden</span></span>      | <span data-ttu-id="53dc2-206">Expect this for the following types of errors:</span><span class="sxs-lookup"><span data-stu-id="53dc2-206">Expect this for the following types of errors:</span></span><br /><br /> <span data-ttu-id="53dc2-207">-   AccessDenied</span><span class="sxs-lookup"><span data-stu-id="53dc2-207">-   AccessDenied</span></span><br /><span data-ttu-id="53dc2-208">-   AttributePermissionReadIsMissing</span><span class="sxs-lookup"><span data-stu-id="53dc2-208">-   AttributePermissionReadIsMissing</span></span><br /><span data-ttu-id="53dc2-209">-   AttributePermissionUpdateIsMissingDuringUpdate</span><span class="sxs-lookup"><span data-stu-id="53dc2-209">-   AttributePermissionUpdateIsMissingDuringUpdate</span></span><br /><span data-ttu-id="53dc2-210">-   AttributePrivilegeCreateIsMissing</span><span class="sxs-lookup"><span data-stu-id="53dc2-210">-   AttributePrivilegeCreateIsMissing</span></span><br /><span data-ttu-id="53dc2-211">-   CannotActOnBehalfOfAnotherUser</span><span class="sxs-lookup"><span data-stu-id="53dc2-211">-   CannotActOnBehalfOfAnotherUser</span></span><br /><span data-ttu-id="53dc2-212">-   CannotAddOrActonBehalfAnotherUserPrivilege</span><span class="sxs-lookup"><span data-stu-id="53dc2-212">-   CannotAddOrActonBehalfAnotherUserPrivilege</span></span><br /><span data-ttu-id="53dc2-213">-   CrmSecurityError</span><span class="sxs-lookup"><span data-stu-id="53dc2-213">-   CrmSecurityError</span></span><br /><span data-ttu-id="53dc2-214">-   InvalidAccessRights</span><span class="sxs-lookup"><span data-stu-id="53dc2-214">-   InvalidAccessRights</span></span><br /><span data-ttu-id="53dc2-215">-   PrincipalPrivilegeDenied</span><span class="sxs-lookup"><span data-stu-id="53dc2-215">-   PrincipalPrivilegeDenied</span></span><br /><span data-ttu-id="53dc2-216">-   PrivilegeCreateIsDisabledForOrganization</span><span class="sxs-lookup"><span data-stu-id="53dc2-216">-   PrivilegeCreateIsDisabledForOrganization</span></span><br /><span data-ttu-id="53dc2-217">-   PrivilegeDenied</span><span class="sxs-lookup"><span data-stu-id="53dc2-217">-   PrivilegeDenied</span></span><br /><span data-ttu-id="53dc2-218">-   unManagedinvalidprincipal</span><span class="sxs-lookup"><span data-stu-id="53dc2-218">-   unManagedinvalidprincipal</span></span><br /><span data-ttu-id="53dc2-219">-   unManagedinvalidprivilegeedepth</span><span class="sxs-lookup"><span data-stu-id="53dc2-219">-   unManagedinvalidprivilegeedepth</span></span> | <span data-ttu-id="53dc2-220">Client Error</span><span class="sxs-lookup"><span data-stu-id="53dc2-220">Client Error</span></span> |
|    <span data-ttu-id="53dc2-221">401 Unauthorized</span><span class="sxs-lookup"><span data-stu-id="53dc2-221">401 Unauthorized</span></span>     |                                                                   <span data-ttu-id="53dc2-222">Expect this for the following types of errors:</span><span class="sxs-lookup"><span data-stu-id="53dc2-222">Expect this for the following types of errors:</span></span><br /><br /> <span data-ttu-id="53dc2-223">-   BadAuthTicket</span><span class="sxs-lookup"><span data-stu-id="53dc2-223">-   BadAuthTicket</span></span><br /><span data-ttu-id="53dc2-224">-   ExpiredAuthTicket</span><span class="sxs-lookup"><span data-stu-id="53dc2-224">-   ExpiredAuthTicket</span></span><br /><span data-ttu-id="53dc2-225">-   InsufficientAuthTicket</span><span class="sxs-lookup"><span data-stu-id="53dc2-225">-   InsufficientAuthTicket</span></span><br /><span data-ttu-id="53dc2-226">-   InvalidAuthTicket</span><span class="sxs-lookup"><span data-stu-id="53dc2-226">-   InvalidAuthTicket</span></span><br /><span data-ttu-id="53dc2-227">-   InvalidUserAuth</span><span class="sxs-lookup"><span data-stu-id="53dc2-227">-   InvalidUserAuth</span></span><br /><span data-ttu-id="53dc2-228">-   MissingCrmAuthenticationToken</span><span class="sxs-lookup"><span data-stu-id="53dc2-228">-   MissingCrmAuthenticationToken</span></span><br /><span data-ttu-id="53dc2-229">-   MissingCrmAuthenticationTokenOrganizationName</span><span class="sxs-lookup"><span data-stu-id="53dc2-229">-   MissingCrmAuthenticationTokenOrganizationName</span></span><br /><span data-ttu-id="53dc2-230">-   RequestIsNotAuthenticated</span><span class="sxs-lookup"><span data-stu-id="53dc2-230">-   RequestIsNotAuthenticated</span></span><br /><span data-ttu-id="53dc2-231">-   TamperedAuthTicket</span><span class="sxs-lookup"><span data-stu-id="53dc2-231">-   TamperedAuthTicket</span></span><br /><span data-ttu-id="53dc2-232">-   UnauthorizedAccess</span><span class="sxs-lookup"><span data-stu-id="53dc2-232">-   UnauthorizedAccess</span></span><br /><span data-ttu-id="53dc2-233">-   UnManagedInvalidSecurityPrincipal</span><span class="sxs-lookup"><span data-stu-id="53dc2-233">-   UnManagedInvalidSecurityPrincipal</span></span>                                                                    | <span data-ttu-id="53dc2-234">Client Error</span><span class="sxs-lookup"><span data-stu-id="53dc2-234">Client Error</span></span> |
|  <span data-ttu-id="53dc2-235">413 Payload Too Large</span><span class="sxs-lookup"><span data-stu-id="53dc2-235">413 Payload Too Large</span></span>  |                                                                                                                                                                                                                                                          <span data-ttu-id="53dc2-236">Expect this when the request length is too large.</span><span class="sxs-lookup"><span data-stu-id="53dc2-236">Expect this when the request length is too large.</span></span>                                                                                                                                                                                                                                                           | <span data-ttu-id="53dc2-237">Client Error</span><span class="sxs-lookup"><span data-stu-id="53dc2-237">Client Error</span></span> |
|     <span data-ttu-id="53dc2-238">400 BadRequest</span><span class="sxs-lookup"><span data-stu-id="53dc2-238">400 BadRequest</span></span>      |                                                                                                                                                                                                                                                               <span data-ttu-id="53dc2-239">Expect this when an argument is invalid.</span><span class="sxs-lookup"><span data-stu-id="53dc2-239">Expect this when an argument is invalid.</span></span>                                                                                                                                                                                                                                                               | <span data-ttu-id="53dc2-240">Client Error</span><span class="sxs-lookup"><span data-stu-id="53dc2-240">Client Error</span></span> |
|      <span data-ttu-id="53dc2-241">404 Not Found</span><span class="sxs-lookup"><span data-stu-id="53dc2-241">404 Not Found</span></span>      |                                                                                                                                                                                                                                                             <span data-ttu-id="53dc2-242">Expect this when the resource doesn’t exist.</span><span class="sxs-lookup"><span data-stu-id="53dc2-242">Expect this when the resource doesn’t exist.</span></span>                                                                                                                                                                                                                                                             | <span data-ttu-id="53dc2-243">Client Error</span><span class="sxs-lookup"><span data-stu-id="53dc2-243">Client Error</span></span> |
| <span data-ttu-id="53dc2-244">405 Method Not Allowed</span><span class="sxs-lookup"><span data-stu-id="53dc2-244">405 Method Not Allowed</span></span>  |                                                                                                                                  <span data-ttu-id="53dc2-245">This error occurs for incorrect method and resource combinations.</span><span class="sxs-lookup"><span data-stu-id="53dc2-245">This error occurs for incorrect method and resource combinations.</span></span> <span data-ttu-id="53dc2-246">For example, you can’t use DELETE or PATCH on a collection of entities.</span><span class="sxs-lookup"><span data-stu-id="53dc2-246">For example, you can’t use DELETE or PATCH on a collection of entities.</span></span><br /><br /> <span data-ttu-id="53dc2-247">Expect this for the following types of errors:</span><span class="sxs-lookup"><span data-stu-id="53dc2-247">Expect this for the following types of errors:</span></span><br /><br /> <span data-ttu-id="53dc2-248">-   CannotDeleteDueToAssociation</span><span class="sxs-lookup"><span data-stu-id="53dc2-248">-   CannotDeleteDueToAssociation</span></span><br /><span data-ttu-id="53dc2-249">-   InvalidOperation</span><span class="sxs-lookup"><span data-stu-id="53dc2-249">-   InvalidOperation</span></span><br /><span data-ttu-id="53dc2-250">-   NotSupported</span><span class="sxs-lookup"><span data-stu-id="53dc2-250">-   NotSupported</span></span>                                                                                                                                   | <span data-ttu-id="53dc2-251">Client Error</span><span class="sxs-lookup"><span data-stu-id="53dc2-251">Client Error</span></span> |
| <span data-ttu-id="53dc2-252">412 Precondition Failed</span><span class="sxs-lookup"><span data-stu-id="53dc2-252">412 Precondition Failed</span></span> |                                                                                                                                                                                                                          <span data-ttu-id="53dc2-253">Expect this for the following types of errors:</span><span class="sxs-lookup"><span data-stu-id="53dc2-253">Expect this for the following types of errors:</span></span><br /><br /> <span data-ttu-id="53dc2-254">-   ConcurrencyVersionMismatch</span><span class="sxs-lookup"><span data-stu-id="53dc2-254">-   ConcurrencyVersionMismatch</span></span><br /><span data-ttu-id="53dc2-255">-   DuplicateRecord</span><span class="sxs-lookup"><span data-stu-id="53dc2-255">-   DuplicateRecord</span></span>                                                                                                                                                                                                                          | <span data-ttu-id="53dc2-256">Client Error</span><span class="sxs-lookup"><span data-stu-id="53dc2-256">Client Error</span></span> |
|  <span data-ttu-id="53dc2-257">429 Too Many Requests</span><span class="sxs-lookup"><span data-stu-id="53dc2-257">429 Too Many Requests</span></span>  |                                                                                                                                                                                                         <span data-ttu-id="53dc2-258">Expect this when API limits are exceeded.</span><span class="sxs-lookup"><span data-stu-id="53dc2-258">Expect this when API limits are exceeded.</span></span> [!INCLUDE[proc_more_information](../../includes/proc-more-information.md)] <span data-ttu-id="53dc2-259">[API Limits](../api-limits.md)</span><span class="sxs-lookup"><span data-stu-id="53dc2-259">[API Limits](../api-limits.md)</span></span>                                                                                                                                                                                                          | <span data-ttu-id="53dc2-260">Client Error</span><span class="sxs-lookup"><span data-stu-id="53dc2-260">Client Error</span></span> |
|   <span data-ttu-id="53dc2-261">501 Not Implemented</span><span class="sxs-lookup"><span data-stu-id="53dc2-261">501 Not Implemented</span></span>   |                                                                                                                                                                                                                                                     <span data-ttu-id="53dc2-262">Expect this when some requested operation isnt implemented.</span><span class="sxs-lookup"><span data-stu-id="53dc2-262">Expect this when some requested operation isnt implemented.</span></span>                                                                                                                                                                                                                                                      | <span data-ttu-id="53dc2-263">Server Error</span><span class="sxs-lookup"><span data-stu-id="53dc2-263">Server Error</span></span> |
| <span data-ttu-id="53dc2-264">503 Service Unavailable</span><span class="sxs-lookup"><span data-stu-id="53dc2-264">503 Service Unavailable</span></span> |                                                                                                                                                                                                                                                        <span data-ttu-id="53dc2-265">Expect this when the web API service isn’t available.</span><span class="sxs-lookup"><span data-stu-id="53dc2-265">Expect this when the web API service isn’t available.</span></span>                                                                                                                                                                                                                                                         | <span data-ttu-id="53dc2-266">Server Error</span><span class="sxs-lookup"><span data-stu-id="53dc2-266">Server Error</span></span> |

<a name="bkmk_parseErrors"></a>

## <a name="parse-errors-from-the-response"></a><span data-ttu-id="53dc2-267">Parse errors from the response</span><span class="sxs-lookup"><span data-stu-id="53dc2-267">Parse errors from the response</span></span>

 <span data-ttu-id="53dc2-268">Details about errors are included as JSON in the response.</span><span class="sxs-lookup"><span data-stu-id="53dc2-268">Details about errors are included as JSON in the response.</span></span> <span data-ttu-id="53dc2-269">Errors will be in this format.</span><span class="sxs-lookup"><span data-stu-id="53dc2-269">Errors will be in this format.</span></span>  

```json  
{  
 "error":{  
  "code": "<This code is not related to the http status code and is frequently empty>",  
  "message": "<A message describing the error>",  
  "innererror": {  
   "message": "<A message describing the error, this is frequently the same as the outer message>",  
   "type": "Microsoft.Crm.CrmHttpException",  
   "stacktrace": "<Details from the server about where the error occurred>"  
  }  
 }  
}  
```  

### <a name="see-also"></a><span data-ttu-id="53dc2-270">Xem thêm</span><span class="sxs-lookup"><span data-stu-id="53dc2-270">See also</span></span>  
 <span data-ttu-id="53dc2-271">[Perform operations using the Web API](perform-operations-web-api.md) </span><span class="sxs-lookup"><span data-stu-id="53dc2-271">[Perform operations using the Web API](perform-operations-web-api.md) </span></span>  
 <span data-ttu-id="53dc2-272">[Query Data using the Web API](query-data-web-api.md) </span><span class="sxs-lookup"><span data-stu-id="53dc2-272">[Query Data using the Web API](query-data-web-api.md) </span></span>  
 <span data-ttu-id="53dc2-273">[Create an entity using the Web API](create-entity-web-api.md) </span><span class="sxs-lookup"><span data-stu-id="53dc2-273">[Create an entity using the Web API](create-entity-web-api.md) </span></span>  
 <span data-ttu-id="53dc2-274">[Retrieve an entity using the Web API](retrieve-entity-using-web-api.md) </span><span class="sxs-lookup"><span data-stu-id="53dc2-274">[Retrieve an entity using the Web API](retrieve-entity-using-web-api.md) </span></span>  
 <span data-ttu-id="53dc2-275">[Update and delete entities using the Web API](update-delete-entities-using-web-api.md) </span><span class="sxs-lookup"><span data-stu-id="53dc2-275">[Update and delete entities using the Web API](update-delete-entities-using-web-api.md) </span></span>  
 <span data-ttu-id="53dc2-276">[Associate and disassociate entities using the Web API](associate-disassociate-entities-using-web-api.md) </span><span class="sxs-lookup"><span data-stu-id="53dc2-276">[Associate and disassociate entities using the Web API](associate-disassociate-entities-using-web-api.md) </span></span>  
 <span data-ttu-id="53dc2-277">[Use Web API functions](use-web-api-functions.md) </span><span class="sxs-lookup"><span data-stu-id="53dc2-277">[Use Web API functions](use-web-api-functions.md) </span></span>  
 <span data-ttu-id="53dc2-278">[Use Web API actions](use-web-api-actions.md) </span><span class="sxs-lookup"><span data-stu-id="53dc2-278">[Use Web API actions](use-web-api-actions.md) </span></span>  
 <span data-ttu-id="53dc2-279">[Execute batch operations using the Web API](execute-batch-operations-using-web-api.md) </span><span class="sxs-lookup"><span data-stu-id="53dc2-279">[Execute batch operations using the Web API](execute-batch-operations-using-web-api.md) </span></span>  
 <span data-ttu-id="53dc2-280">[Impersonate another user using the Web API](impersonate-another-user-web-api.md) </span><span class="sxs-lookup"><span data-stu-id="53dc2-280">[Impersonate another user using the Web API](impersonate-another-user-web-api.md) </span></span>  
 [<span data-ttu-id="53dc2-281">Perform conditional operations using the Web API</span><span class="sxs-lookup"><span data-stu-id="53dc2-281">Perform conditional operations using the Web API</span></span>](perform-conditional-operations-using-web-api.md)
