---
title: Configure auditing and diagnostics in Unified Service Desk for Dynamics 365 for Customer Engagement apps | MicrosoftDocs
description: Learn how to set auditing and diagnostics.
ms.custom:
- dyn365-USD, dyn365-admin
ms.date: 02/06/2018
ms.reviewer: ''
ms.service: dynamics-365-customerservice
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
applies_to:
- Dynamics 365 for Customer Engagement apps
- Dynamics 365 for Customer Engagement (on-premises) apps
- Dynamics CRM 2013
- Dynamics CRM 2015
- Dynamics CRM 2016
ms.assetid: 27b03f6a-2297-425e-be79-d4e6c960890b
author: kabala123
ms.author: kabala
manager: shujoshi
tags:
- MigrationHO
search.audienceType:
- admin
search.app:
- D365CE
- D365USD
ms.openlocfilehash: fe38d5f1fc444f6b096ad89ab607ab0920d4474f
ms.sourcegitcommit: 9f0efd59de16a6d9902fa372cb25fc0baf1c2838
ms.translationtype: HT
ms.contentlocale: vi-VN
ms.lasthandoff: 01/08/2019
ms.locfileid: "382407"
---
# <a name="auditing-and-diagnostics-overview"></a><span data-ttu-id="02501-103">Auditing and diagnostics overview</span><span class="sxs-lookup"><span data-stu-id="02501-103">Auditing and diagnostics overview</span></span>
<span data-ttu-id="02501-104">The **Audit & Diagnostics Settings** area provides centralized management for agent auditing and [!INCLUDE[pn_unified_service_desk](../../includes/pn-unified-service-desk.md)] application diagnostic logging.</span><span class="sxs-lookup"><span data-stu-id="02501-104">The **Audit & Diagnostics Settings** area provides centralized management for agent auditing and [!INCLUDE[pn_unified_service_desk](../../includes/pn-unified-service-desk.md)] application diagnostic logging.</span></span>  

 <span data-ttu-id="02501-105">Agent auditing helps organizations analyze agent productivity, identify gaps in process, and provide coaching and training that can all be used to further improve the customer service experience.</span><span class="sxs-lookup"><span data-stu-id="02501-105">Agent auditing helps organizations analyze agent productivity, identify gaps in process, and provide coaching and training that can all be used to further improve the customer service experience.</span></span> <span data-ttu-id="02501-106">Audit data in [!INCLUDE[pn_unified_service_desk](../../includes/pn-unified-service-desk.md)] is channeled to a listener that gives you control over where you channel audit logging, such as to a text file, windows event log, or data store.</span><span class="sxs-lookup"><span data-stu-id="02501-106">Audit data in [!INCLUDE[pn_unified_service_desk](../../includes/pn-unified-service-desk.md)] is channeled to a listener that gives you control over where you channel audit logging, such as to a text file, windows event log, or data store.</span></span>  

 <span data-ttu-id="02501-107">Diagnostic logging helps you troubleshoot issues that may occur with the [!INCLUDE[pn_unified_service_desk](../../includes/pn-unified-service-desk.md)] application.</span><span class="sxs-lookup"><span data-stu-id="02501-107">Diagnostic logging helps you troubleshoot issues that may occur with the [!INCLUDE[pn_unified_service_desk](../../includes/pn-unified-service-desk.md)] application.</span></span>  

 <span data-ttu-id="02501-108">When you configure auditing and diagnostics in [!INCLUDE[pn_unified_service_desk](../../includes/pn-unified-service-desk.md)], keep in mind the following functionality:</span><span class="sxs-lookup"><span data-stu-id="02501-108">When you configure auditing and diagnostics in [!INCLUDE[pn_unified_service_desk](../../includes/pn-unified-service-desk.md)], keep in mind the following functionality:</span></span>  

- <span data-ttu-id="02501-109">How [!INCLUDE[pn_unified_service_desk](../../includes/pn-unified-service-desk.md)] auditing and diagnostics are configured and recorded is completely separate from the audit feature in [!INCLUDE[pn_microsoftcrm](../../includes/pn-microsoftcrm.md)] apps.</span><span class="sxs-lookup"><span data-stu-id="02501-109">How [!INCLUDE[pn_unified_service_desk](../../includes/pn-unified-service-desk.md)] auditing and diagnostics are configured and recorded is completely separate from the audit feature in [!INCLUDE[pn_microsoftcrm](../../includes/pn-microsoftcrm.md)] apps.</span></span>  

- [!INCLUDE[pn_unified_service_desk](../../includes/pn-unified-service-desk.md)] <span data-ttu-id="02501-110">auditing requires a Listener Hosted Control to record and save audit activity.</span><span class="sxs-lookup"><span data-stu-id="02501-110">auditing requires a Listener Hosted Control to record and save audit activity.</span></span> <span data-ttu-id="02501-111">Similarly, you can channel diagnostic logging using a Listener Hosted Control, but it’s not required, and by default, diagnostic logging is recorded on the local computer.</span><span class="sxs-lookup"><span data-stu-id="02501-111">Similarly, you can channel diagnostic logging using a Listener Hosted Control, but it’s not required, and by default, diagnostic logging is recorded on the local computer.</span></span>  

### <a name="audit-and-diagnostics-configuration-overview"></a><span data-ttu-id="02501-112">Audit and diagnostics configuration overview</span><span class="sxs-lookup"><span data-stu-id="02501-112">Audit and diagnostics configuration overview</span></span>  

1. <span data-ttu-id="02501-113">Developer writes the code used for the custom listener.</span><span class="sxs-lookup"><span data-stu-id="02501-113">Developer writes the code used for the custom listener.</span></span> <span data-ttu-id="02501-114">Typically, the custom listener is an assembly.</span><span class="sxs-lookup"><span data-stu-id="02501-114">Typically, the custom listener is an assembly.</span></span> <span data-ttu-id="02501-115">More information: [Create custom listeners for auditing, diagnostics and traces](../../unified-service-desk/create-custom-listeners-auditing-diagnostics-traces.md)</span><span class="sxs-lookup"><span data-stu-id="02501-115">More information: [Create custom listeners for auditing, diagnostics and traces](../../unified-service-desk/create-custom-listeners-auditing-diagnostics-traces.md)</span></span>  

2. <span data-ttu-id="02501-116">Developer compresses the assembly into a .zip package file.</span><span class="sxs-lookup"><span data-stu-id="02501-116">Developer compresses the assembly into a .zip package file.</span></span> <span data-ttu-id="02501-117">More information: [Create custom listeners for auditing, diagnostics and traces](../../unified-service-desk/create-custom-listeners-auditing-diagnostics-traces.md)</span><span class="sxs-lookup"><span data-stu-id="02501-117">More information: [Create custom listeners for auditing, diagnostics and traces](../../unified-service-desk/create-custom-listeners-auditing-diagnostics-traces.md)</span></span>  

3. <span data-ttu-id="02501-118">Developer creates the Listener Hosted Control, which includes information about the assembly created in step 1.</span><span class="sxs-lookup"><span data-stu-id="02501-118">Developer creates the Listener Hosted Control, which includes information about the assembly created in step 1.</span></span> <span data-ttu-id="02501-119">More information: [Listener Hosted Control (Hosted Control)](../../unified-service-desk/listener-hosted-control-hosted-control.md)</span><span class="sxs-lookup"><span data-stu-id="02501-119">More information: [Listener Hosted Control (Hosted Control)](../../unified-service-desk/listener-hosted-control-hosted-control.md)</span></span>  

4. [!INCLUDE[pn_unified_service_desk](../../includes/pn-unified-service-desk.md)] <span data-ttu-id="02501-120">administrator creates an Audit & Diagnostics Settings record that defines what is audited or diagnosed.</span><span class="sxs-lookup"><span data-stu-id="02501-120">administrator creates an Audit & Diagnostics Settings record that defines what is audited or diagnosed.</span></span> <span data-ttu-id="02501-121">Additionally, the Listener Hosted Control is associated with the Audit & Diagnostics Settings record.</span><span class="sxs-lookup"><span data-stu-id="02501-121">Additionally, the Listener Hosted Control is associated with the Audit & Diagnostics Settings record.</span></span> <span data-ttu-id="02501-122">More information: [Auditing](../../unified-service-desk/admin/configure-auditing-diagnostics-unified-service-desk.md#BKMK_Auditing)</span><span class="sxs-lookup"><span data-stu-id="02501-122">More information: [Auditing](../../unified-service-desk/admin/configure-auditing-diagnostics-unified-service-desk.md#BKMK_Auditing)</span></span>  

5. [!INCLUDE[pn_unified_service_desk](../../includes/pn-unified-service-desk.md)] <span data-ttu-id="02501-123">administrator creates a Customization Files record and attaches the .zip package file that was created by the developer in the previous step.</span><span class="sxs-lookup"><span data-stu-id="02501-123">administrator creates a Customization Files record and attaches the .zip package file that was created by the developer in the previous step.</span></span> <span data-ttu-id="02501-124">More information: [Distribute custom hosted controls using Customization Files](../../unified-service-desk/admin/distribute-custom-hosted-controls-using-customization-files.md)</span><span class="sxs-lookup"><span data-stu-id="02501-124">More information: [Distribute custom hosted controls using Customization Files](../../unified-service-desk/admin/distribute-custom-hosted-controls-using-customization-files.md)</span></span>  

6. [!INCLUDE[pn_unified_service_desk](../../includes/pn-unified-service-desk.md)] <span data-ttu-id="02501-125">administrator associates the Customization Files record with the appropriate Configuration.</span><span class="sxs-lookup"><span data-stu-id="02501-125">administrator associates the Customization Files record with the appropriate Configuration.</span></span> <span data-ttu-id="02501-126">More information: [Assign users to a Unified Service Desk configuration](../../unified-service-desk/admin/manage-access-using-unified-service-desk-configuration.md#Assign)</span><span class="sxs-lookup"><span data-stu-id="02501-126">More information: [Assign users to a Unified Service Desk configuration](../../unified-service-desk/admin/manage-access-using-unified-service-desk-configuration.md#Assign)</span></span>  

<a name="BKMK_Auditing"></a>   
## <a name="auditing"></a><span data-ttu-id="02501-127">Kiểm tra</span><span class="sxs-lookup"><span data-stu-id="02501-127">Auditing</span></span>  
 <span data-ttu-id="02501-128">You can configure auditing in [!INCLUDE[pn_unified_service_desk](../../includes/pn-unified-service-desk.md)] in one of two ways:</span><span class="sxs-lookup"><span data-stu-id="02501-128">You can configure auditing in [!INCLUDE[pn_unified_service_desk](../../includes/pn-unified-service-desk.md)] in one of two ways:</span></span>  

-   <span data-ttu-id="02501-129">Standard or custom auditing using an Audit & Diagnostics record.</span><span class="sxs-lookup"><span data-stu-id="02501-129">Standard or custom auditing using an Audit & Diagnostics record.</span></span> <span data-ttu-id="02501-130">This audit feature is centrally managed, has several events to choose from, and allows you to add a custom listener that determines where audit data is sent.</span><span class="sxs-lookup"><span data-stu-id="02501-130">This audit feature is centrally managed, has several events to choose from, and allows you to add a custom listener that determines where audit data is sent.</span></span>  

-   <span data-ttu-id="02501-131">Standard auditing by adding an audit flag and setting its value to 1 in the Options area.</span><span class="sxs-lookup"><span data-stu-id="02501-131">Standard auditing by adding an audit flag and setting its value to 1 in the Options area.</span></span> <span data-ttu-id="02501-132">This audit feature has limited events and logs audit data in the UII_auditBase table in the organization database.</span><span class="sxs-lookup"><span data-stu-id="02501-132">This audit feature has limited events and logs audit data in the UII_auditBase table in the organization database.</span></span>  

> [!NOTE]
>  <span data-ttu-id="02501-133">If you enable both an Audit & Diagnostics record and an audit flag option record, the audit flag option record will be ignored and will not record audit data.</span><span class="sxs-lookup"><span data-stu-id="02501-133">If you enable both an Audit & Diagnostics record and an audit flag option record, the audit flag option record will be ignored and will not record audit data.</span></span>  

#### <a name="create-an-audit--diagnostics-record-to-use-for-auditing"></a><span data-ttu-id="02501-134">Create an Audit & Diagnostics record to use for auditing</span><span class="sxs-lookup"><span data-stu-id="02501-134">Create an Audit & Diagnostics record to use for auditing</span></span>  

1. <span data-ttu-id="02501-135">Go to **Settings** > **Unified Service Desk** > **Audit & Diagnostics Settings**.</span><span class="sxs-lookup"><span data-stu-id="02501-135">Go to **Settings** > **Unified Service Desk** > **Audit & Diagnostics Settings**.</span></span>  

2. <span data-ttu-id="02501-136">Bấm vào **Mới**.</span><span class="sxs-lookup"><span data-stu-id="02501-136">Click **New**.</span></span>  

3. <span data-ttu-id="02501-137">In the Name box, type a name that describes the purpose of the Audit & Diagnostics record, such as *All events auditing*.</span><span class="sxs-lookup"><span data-stu-id="02501-137">In the Name box, type a name that describes the purpose of the Audit & Diagnostics record, such as *All events auditing*.</span></span>  

4. <span data-ttu-id="02501-138">Choose Activity Tracking Enabled.</span><span class="sxs-lookup"><span data-stu-id="02501-138">Choose Activity Tracking Enabled.</span></span>  

5. <span data-ttu-id="02501-139">Because this example is for tracking all events, leave all check boxes selected.</span><span class="sxs-lookup"><span data-stu-id="02501-139">Because this example is for tracking all events, leave all check boxes selected.</span></span> <span data-ttu-id="02501-140">Alternatively, you can clear the check box for any events you don’t want to audit for this record.</span><span class="sxs-lookup"><span data-stu-id="02501-140">Alternatively, you can clear the check box for any events you don’t want to audit for this record.</span></span>  

    <span data-ttu-id="02501-141">You can also include diagnostics logging in this record.</span><span class="sxs-lookup"><span data-stu-id="02501-141">You can also include diagnostics logging in this record.</span></span> <span data-ttu-id="02501-142">For more information see the [Diagnostics](../../unified-service-desk/admin/configure-auditing-diagnostics-unified-service-desk.md#BKMK_Diagnostics) section.</span><span class="sxs-lookup"><span data-stu-id="02501-142">For more information see the [Diagnostics](../../unified-service-desk/admin/configure-auditing-diagnostics-unified-service-desk.md#BKMK_Diagnostics) section.</span></span>  

6. <span data-ttu-id="02501-143">In the Trace Source Settings area, add a Trace Source Setting record.</span><span class="sxs-lookup"><span data-stu-id="02501-143">In the Trace Source Settings area, add a Trace Source Setting record.</span></span> <span data-ttu-id="02501-144">The Trace Source Setting includes the Listener Hosted Control that is used to channel the audit and diagnostic activity to a data store, event log, or text file.</span><span class="sxs-lookup"><span data-stu-id="02501-144">The Trace Source Setting includes the Listener Hosted Control that is used to channel the audit and diagnostic activity to a data store, event log, or text file.</span></span> <span data-ttu-id="02501-145">To create a Trace Source Setting record, follow these steps.</span><span class="sxs-lookup"><span data-stu-id="02501-145">To create a Trace Source Setting record, follow these steps.</span></span>  

   > [!IMPORTANT]
   >  <span data-ttu-id="02501-146">You must provide a Trace Source Setting record that contains a valid Listener Hosted Control that will be used to record the audit activity, or the audit activity will not be saved.</span><span class="sxs-lookup"><span data-stu-id="02501-146">You must provide a Trace Source Setting record that contains a valid Listener Hosted Control that will be used to record the audit activity, or the audit activity will not be saved.</span></span> <span data-ttu-id="02501-147">For information about how to create a Listener Hosted Control, see [Create custom listeners for auditing, diagnostics and traces](../../unified-service-desk/create-custom-listeners-auditing-diagnostics-traces.md).</span><span class="sxs-lookup"><span data-stu-id="02501-147">For information about how to create a Listener Hosted Control, see [Create custom listeners for auditing, diagnostics and traces](../../unified-service-desk/create-custom-listeners-auditing-diagnostics-traces.md).</span></span>  

   1.  <span data-ttu-id="02501-148">In the Trace Source Settings area of the Audit & Diagnostics Settings record, click **+**, click the search magnifying glass, and then click **+New**.</span><span class="sxs-lookup"><span data-stu-id="02501-148">In the Trace Source Settings area of the Audit & Diagnostics Settings record, click **+**, click the search magnifying glass, and then click **+New**.</span></span>  

   <span data-ttu-id="02501-149">![Create a new Trace Source Settings record in USD](../../unified-service-desk/media/usd-create-trace-source-settings.PNG "Create a new Trace Source Settings record in USD")</span><span class="sxs-lookup"><span data-stu-id="02501-149">![Create a new Trace Source Settings record in USD](../../unified-service-desk/media/usd-create-trace-source-settings.PNG "Create a new Trace Source Settings record in USD")</span></span>  

   2.  <span data-ttu-id="02501-150">Type a name for the Trace Source Settings record, such as *USD Agent Auditing Trace Source for Azure Data Store*, and then click **Save**.</span><span class="sxs-lookup"><span data-stu-id="02501-150">Type a name for the Trace Source Settings record, such as *USD Agent Auditing Trace Source for Azure Data Store*, and then click **Save**.</span></span>  

   3.  <span data-ttu-id="02501-151">Next to Listener Hosted Controls, click **+**, type the name of the Listener Hosted Control that will be used for agent auditing, and then press ENTER.</span><span class="sxs-lookup"><span data-stu-id="02501-151">Next to Listener Hosted Controls, click **+**, type the name of the Listener Hosted Control that will be used for agent auditing, and then press ENTER.</span></span> <span data-ttu-id="02501-152">Choose the Listener Hosted Control in the list.</span><span class="sxs-lookup"><span data-stu-id="02501-152">Choose the Listener Hosted Control in the list.</span></span>  

   4.  <span data-ttu-id="02501-153">Bấm vào **Lưu**.</span><span class="sxs-lookup"><span data-stu-id="02501-153">Click **Save**.</span></span>  

7. <span data-ttu-id="02501-154">Bấm vào **Lưu & đóng**.</span><span class="sxs-lookup"><span data-stu-id="02501-154">Click **Save & Close**.</span></span>  

   > [!NOTE]
   >  <span data-ttu-id="02501-155">Audit and diagnostics settings records are activated when they are created.</span><span class="sxs-lookup"><span data-stu-id="02501-155">Audit and diagnostics settings records are activated when they are created.</span></span>  

8. <span data-ttu-id="02501-156">Next, to begin audit logging, associate the audit & diagnostic record with a configuration.</span><span class="sxs-lookup"><span data-stu-id="02501-156">Next, to begin audit logging, associate the audit & diagnostic record with a configuration.</span></span> <span data-ttu-id="02501-157">To do this, create a configuration or use an existing configuration, and then select the audit record in the **Audit & Diagnostics Settings** attribute on the Configuration form.</span><span class="sxs-lookup"><span data-stu-id="02501-157">To do this, create a configuration or use an existing configuration, and then select the audit record in the **Audit & Diagnostics Settings** attribute on the Configuration form.</span></span> [!INCLUDE[proc_more_information](../../includes/proc-more-information.md)] <span data-ttu-id="02501-158">[Manage access using Unified Service Desk configuration](../../unified-service-desk/admin/manage-access-using-unified-service-desk-configuration.md)</span><span class="sxs-lookup"><span data-stu-id="02501-158">[Manage access using Unified Service Desk configuration](../../unified-service-desk/admin/manage-access-using-unified-service-desk-configuration.md)</span></span>  

#### <a name="standard-auditing-by-adding-an-audit-flag"></a><span data-ttu-id="02501-159">Standard auditing by adding an audit flag</span><span class="sxs-lookup"><span data-stu-id="02501-159">Standard auditing by adding an audit flag</span></span>  

1. <span data-ttu-id="02501-160">Sign in to [!INCLUDE[pn_microsoftcrm](../../includes/pn-microsoftcrm.md)] apps.</span><span class="sxs-lookup"><span data-stu-id="02501-160">Sign in to [!INCLUDE[pn_microsoftcrm](../../includes/pn-microsoftcrm.md)] apps.</span></span>  

2. [!INCLUDE[proc_settings_usd](../../includes/proc-settings-usd.md)]  

3. <span data-ttu-id="02501-161">Bấm vào **Tùy chọn**.</span><span class="sxs-lookup"><span data-stu-id="02501-161">Click **Options**.</span></span>  

4. <span data-ttu-id="02501-162">Trên trang tùy chọn, bấm vào **Mới**.</span><span class="sxs-lookup"><span data-stu-id="02501-162">On the Options page, click **New**.</span></span>  

5. <span data-ttu-id="02501-163">On the **New Option** page, type an audit flag name in the **Name** field and an appropriate value in the **Value** field.</span><span class="sxs-lookup"><span data-stu-id="02501-163">On the **New Option** page, type an audit flag name in the **Name** field and an appropriate value in the **Value** field.</span></span>  

   <span data-ttu-id="02501-164">![Add an audit flag in Unified Service Desk](../../unified-service-desk/media/usd-add-audit-flag.PNG "Add an audit flag in Unified Service Desk")</span><span class="sxs-lookup"><span data-stu-id="02501-164">![Add an audit flag in Unified Service Desk](../../unified-service-desk/media/usd-add-audit-flag.PNG "Add an audit flag in Unified Service Desk")</span></span>  

    <span data-ttu-id="02501-165">You can use the audit flags listed in this table.</span><span class="sxs-lookup"><span data-stu-id="02501-165">You can use the audit flags listed in this table.</span></span>  


   |         <span data-ttu-id="02501-166">Cờ kiểm tra</span><span class="sxs-lookup"><span data-stu-id="02501-166">Audit flag</span></span>         |                                                                                        <span data-ttu-id="02501-167">Mô tả</span><span class="sxs-lookup"><span data-stu-id="02501-167">Description</span></span>                                                                                         |
   |----------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
   |     <span data-ttu-id="02501-168">AuditCacheMaxSize</span><span class="sxs-lookup"><span data-stu-id="02501-168">AuditCacheMaxSize</span></span>      | <span data-ttu-id="02501-169">When this flag value is set to **1**, the number of audit records cached before saving to the server is 1 record.</span><span class="sxs-lookup"><span data-stu-id="02501-169">When this flag value is set to **1**, the number of audit records cached before saving to the server is 1 record.</span></span><br /><br /> <span data-ttu-id="02501-170">Tùy chọn này chỉ hoạt động nếu **AuditNoCache** là **sai**.</span><span class="sxs-lookup"><span data-stu-id="02501-170">This option works only if the **AuditNoCache** is **False**.</span></span> |
   |      <span data-ttu-id="02501-171">AuditFlagAction</span><span class="sxs-lookup"><span data-stu-id="02501-171">AuditFlagAction</span></span>       |                                                  <span data-ttu-id="02501-172">When this flag value is set to **1**, audit records are created when an action is fired.</span><span class="sxs-lookup"><span data-stu-id="02501-172">When this flag value is set to **1**, audit records are created when an action is fired.</span></span>                                                  |
   |    <span data-ttu-id="02501-173">AuditFlagAgentState</span><span class="sxs-lookup"><span data-stu-id="02501-173">AuditFlagAgentState</span></span>     |                                            <span data-ttu-id="02501-174">Khi giá trị cờ này được đặt thành **1**,tệp kiểm tra được tạo khi trạng thái tổng đài viên thay đổi.</span><span class="sxs-lookup"><span data-stu-id="02501-174">When this flag value is set to **1**, audit files are created when the status of the agent changes.</span></span>                                             |
   | <span data-ttu-id="02501-175">AuditFlagHostedApplication</span><span class="sxs-lookup"><span data-stu-id="02501-175">AuditFlagHostedApplication</span></span> |                                     <span data-ttu-id="02501-176">When this flag value is set to **1**, audit files are created when a hosted application is started or gets focus.</span><span class="sxs-lookup"><span data-stu-id="02501-176">When this flag value is set to **1**, audit files are created when a hosted application is started or gets focus.</span></span>                                      |
   |       <span data-ttu-id="02501-177">AuditFlagLogin</span><span class="sxs-lookup"><span data-stu-id="02501-177">AuditFlagLogin</span></span>       |                                                   <span data-ttu-id="02501-178">Khi giá trị cờ này được đặt thành **1**, hồ sơ kiểm tra được tạo ra khi tổng đài viên đăng nhập.</span><span class="sxs-lookup"><span data-stu-id="02501-178">When this flag value is set to **1**, audit records are created when an agent logs in.</span></span>                                                   |
   |      <span data-ttu-id="02501-179">AuditFlagSession</span><span class="sxs-lookup"><span data-stu-id="02501-179">AuditFlagSession</span></span>      |                                  <span data-ttu-id="02501-180">Khi giá trị cờ này được đặt thành **1**, hồ sơ kiểm tra được tạo ra khi một phiên làm việc được tạo ra hoặc có sự chuyển đổi phiên.</span><span class="sxs-lookup"><span data-stu-id="02501-180">When this flag value is set to **1**, audit records are created when a session is created or there is a session switch.</span></span>                                   |
   |     <span data-ttu-id="02501-181">AuditFlagWorkflow</span><span class="sxs-lookup"><span data-stu-id="02501-181">AuditFlagWorkflow</span></span>      |                                         <span data-ttu-id="02501-182">Khi giá trị cờ này được đặt thành **1**, hồ sơ kiểm tra được tạo ra khi luồng công việc UII bắt đầu hoặc đóng.</span><span class="sxs-lookup"><span data-stu-id="02501-182">When this flag value is set to **1**, audit records are created when a UII workflow is started or closed.</span></span>                                          |
   |        <span data-ttu-id="02501-183">AuditNoCache</span><span class="sxs-lookup"><span data-stu-id="02501-183">AuditNoCache</span></span>        |                                             <span data-ttu-id="02501-184">If this is set to **True**, audit records are saved dynamically to the server without any caching.</span><span class="sxs-lookup"><span data-stu-id="02501-184">If this is set to **True**, audit records are saved dynamically to the server without any caching.</span></span>                                             |


6. <span data-ttu-id="02501-185">Bấm vào **Lưu**.</span><span class="sxs-lookup"><span data-stu-id="02501-185">Click **Save**.</span></span>  

7. <span data-ttu-id="02501-186">To view audit logging, sign in to [!INCLUDE[pn_microsoftcrm](../../includes/pn-microsoftcrm.md)] apps, and then from a productivity area click **Advanced Find**.</span><span class="sxs-lookup"><span data-stu-id="02501-186">To view audit logging, sign in to [!INCLUDE[pn_microsoftcrm](../../includes/pn-microsoftcrm.md)] apps, and then from a productivity area click **Advanced Find**.</span></span> <span data-ttu-id="02501-187">In the Look for list, select `UII Audit`, and then click **Results** to see all audit logging details.</span><span class="sxs-lookup"><span data-stu-id="02501-187">In the Look for list, select `UII Audit`, and then click **Results** to see all audit logging details.</span></span>  

<a name="BKMK_Diagnostics"></a>   
## <a name="diagnostics"></a><span data-ttu-id="02501-188">Diagnostics</span><span class="sxs-lookup"><span data-stu-id="02501-188">Diagnostics</span></span>  
 <span data-ttu-id="02501-189">UTF-8 encoded text files that are named **UnifiedServiceDesk-\<date>.log** are maintained at the following location on the client computer: `c:\Users\\*\<UserName>*\AppData\Roaming\Microsoft\Microsoft Dynamics 365 for Customer Engagement Unified Service Desk\\*\<Version>*`.</span><span class="sxs-lookup"><span data-stu-id="02501-189">UTF-8 encoded text files that are named **UnifiedServiceDesk-\<date>.log** are maintained at the following location on the client computer: `c:\Users\\*\<UserName>*\AppData\Roaming\Microsoft\Microsoft Dynamics 365 for Customer Engagement Unified Service Desk\\*\<Version>*`.</span></span> <span data-ttu-id="02501-190">The log files record operational events and errors in the client application, and are created or appended to when you first start the [!INCLUDE[pn_unified_service_desk](../../includes/pn-unified-service-desk.md)] client application.</span><span class="sxs-lookup"><span data-stu-id="02501-190">The log files record operational events and errors in the client application, and are created or appended to when you first start the [!INCLUDE[pn_unified_service_desk](../../includes/pn-unified-service-desk.md)] client application.</span></span> <span data-ttu-id="02501-191">By default, diagnostic logging is enabled at the error level for the [!INCLUDE[pn_unified_service_desk](../../includes/pn-unified-service-desk.md)] client application.</span><span class="sxs-lookup"><span data-stu-id="02501-191">By default, diagnostic logging is enabled at the error level for the [!INCLUDE[pn_unified_service_desk](../../includes/pn-unified-service-desk.md)] client application.</span></span> <span data-ttu-id="02501-192">This topic describes how you can view and change the client diagnostic logging characteristics.</span><span class="sxs-lookup"><span data-stu-id="02501-192">This topic describes how you can view and change the client diagnostic logging characteristics.</span></span>  

#### <a name="create-an-audit--diagnostics-record-to-use-for-diagnostics"></a><span data-ttu-id="02501-193">Create an Audit & Diagnostics record to use for diagnostics</span><span class="sxs-lookup"><span data-stu-id="02501-193">Create an Audit & Diagnostics record to use for diagnostics</span></span>  

1. <span data-ttu-id="02501-194">Go to **Settings** > **Unified Service Desk** > **Audit & Diagnostics Settings**.</span><span class="sxs-lookup"><span data-stu-id="02501-194">Go to **Settings** > **Unified Service Desk** > **Audit & Diagnostics Settings**.</span></span>  

2. <span data-ttu-id="02501-195">Bấm vào **Mới**.</span><span class="sxs-lookup"><span data-stu-id="02501-195">Click **New**.</span></span>  

3. <span data-ttu-id="02501-196">In the Name box, type a name that describes the purpose of the auditing and diagnostics record, such as *Diagnostics information-level logging*.</span><span class="sxs-lookup"><span data-stu-id="02501-196">In the Name box, type a name that describes the purpose of the auditing and diagnostics record, such as *Diagnostics information-level logging*.</span></span>  

4. <span data-ttu-id="02501-197">Scroll down to the Diagnostics Settings area and click **Diagnostics Tracking Enabled**.</span><span class="sxs-lookup"><span data-stu-id="02501-197">Scroll down to the Diagnostics Settings area and click **Diagnostics Tracking Enabled**.</span></span>  

    <span data-ttu-id="02501-198">Although you can configure both auditing and diagnostics in a single record, the procedure here configures only diagnostics in the Audit & Diagnostics Settings record.</span><span class="sxs-lookup"><span data-stu-id="02501-198">Although you can configure both auditing and diagnostics in a single record, the procedure here configures only diagnostics in the Audit & Diagnostics Settings record.</span></span> <span data-ttu-id="02501-199">See [Auditing](../../unified-service-desk/admin/configure-auditing-diagnostics-unified-service-desk.md#BKMK_Auditing) for the procedure to configure auditing.</span><span class="sxs-lookup"><span data-stu-id="02501-199">See [Auditing](../../unified-service-desk/admin/configure-auditing-diagnostics-unified-service-desk.md#BKMK_Auditing) for the procedure to configure auditing.</span></span>  

5. <span data-ttu-id="02501-200">Select from the available diagnostics options described here.</span><span class="sxs-lookup"><span data-stu-id="02501-200">Select from the available diagnostics options described here.</span></span>  

   - <span data-ttu-id="02501-201">**Enable Exit Monitoring.**</span><span class="sxs-lookup"><span data-stu-id="02501-201">**Enable Exit Monitoring.**</span></span> <span data-ttu-id="02501-202">By default, exit monitoring is enabled and both diagnostics logs and exit logs are collected in the event of an exception in the [!INCLUDE[pn_unified_service_desk](../../includes/pn-unified-service-desk.md)] client.</span><span class="sxs-lookup"><span data-stu-id="02501-202">By default, exit monitoring is enabled and both diagnostics logs and exit logs are collected in the event of an exception in the [!INCLUDE[pn_unified_service_desk](../../includes/pn-unified-service-desk.md)] client.</span></span>  

   - <span data-ttu-id="02501-203">**Diagnostics Logs Directory.**</span><span class="sxs-lookup"><span data-stu-id="02501-203">**Diagnostics Logs Directory.**</span></span> <span data-ttu-id="02501-204">Specifies the full path to the folder where diagnostics files for exceptions are kept.</span><span class="sxs-lookup"><span data-stu-id="02501-204">Specifies the full path to the folder where diagnostics files for exceptions are kept.</span></span> <span data-ttu-id="02501-205">If the path is invalid or inaccessible, [!INCLUDE[pn_unified_service_desk](../../includes/pn-unified-service-desk.md)] will use the default folder.</span><span class="sxs-lookup"><span data-stu-id="02501-205">If the path is invalid or inaccessible, [!INCLUDE[pn_unified_service_desk](../../includes/pn-unified-service-desk.md)] will use the default folder.</span></span> <span data-ttu-id="02501-206">Theo mặc định, thư mục là `%APPDATA%\Roaming\Microsoft\Microsoft Dynamics 365 for Customer Engagement Unified Service Desk\\<version\>\Diagnostics\\`.</span><span class="sxs-lookup"><span data-stu-id="02501-206">By default, the folder is `%APPDATA%\Roaming\Microsoft\Microsoft Dynamics 365 for Customer Engagement Unified Service Desk\\<version\>\Diagnostics\\`.</span></span>  

   - <span data-ttu-id="02501-207">**On-Demand Diagnostics Shortcut.**</span><span class="sxs-lookup"><span data-stu-id="02501-207">**On-Demand Diagnostics Shortcut.**</span></span> <span data-ttu-id="02501-208">Specifies the shortcut key used to invoke the manual creation of a  dump file.</span><span class="sxs-lookup"><span data-stu-id="02501-208">Specifies the shortcut key used to invoke the manual creation of a  dump file.</span></span> <span data-ttu-id="02501-209">The default key combination is CTRL+ALT+A.</span><span class="sxs-lookup"><span data-stu-id="02501-209">The default key combination is CTRL+ALT+A.</span></span> <span data-ttu-id="02501-210">To change the default, use the form *key1*+*key2*+*key3*.</span><span class="sxs-lookup"><span data-stu-id="02501-210">To change the default, use the form *key1*+*key2*+*key3*.</span></span>

       > [!Note]
       > <span data-ttu-id="02501-211">You can start the manual creation of a dump file using the **On-Demand Diagnostics Shortcut** key only when **Enable Exit Monitoring** or **Enable Crash Dump Generation**, or both options are enabled.</span><span class="sxs-lookup"><span data-stu-id="02501-211">You can start the manual creation of a dump file using the **On-Demand Diagnostics Shortcut** key only when **Enable Exit Monitoring** or **Enable Crash Dump Generation**, or both options are enabled.</span></span>

   - <span data-ttu-id="02501-212">**Diagnostics Verbosity Level.**</span><span class="sxs-lookup"><span data-stu-id="02501-212">**Diagnostics Verbosity Level.**</span></span> <span data-ttu-id="02501-213">Determines the type of events that will be recorded during diagnostics.</span><span class="sxs-lookup"><span data-stu-id="02501-213">Determines the type of events that will be recorded during diagnostics.</span></span> <span data-ttu-id="02501-214">The default value is error level.</span><span class="sxs-lookup"><span data-stu-id="02501-214">The default value is error level.</span></span>  


     |  <span data-ttu-id="02501-215">Mức độ nhật ký</span><span class="sxs-lookup"><span data-stu-id="02501-215">Log Level</span></span>  |                        <span data-ttu-id="02501-216">Mô tả</span><span class="sxs-lookup"><span data-stu-id="02501-216">Description</span></span>                         |
     |-------------|------------------------------------------------------------|
     |    <span data-ttu-id="02501-217">Lỗi</span><span class="sxs-lookup"><span data-stu-id="02501-217">Error</span></span>    |                 <span data-ttu-id="02501-218">Chỉ báo cáo sự kiện lỗi.</span><span class="sxs-lookup"><span data-stu-id="02501-218">Reports only error events.</span></span>                 |
     |   <span data-ttu-id="02501-219">Cảnh báo</span><span class="sxs-lookup"><span data-stu-id="02501-219">Warning</span></span>   |             <span data-ttu-id="02501-220">Báo cáo lỗi và sự kiện cảnh báo.</span><span class="sxs-lookup"><span data-stu-id="02501-220">Reports errors and warning events.</span></span>             |
     | <span data-ttu-id="02501-221">Thông tin</span><span class="sxs-lookup"><span data-stu-id="02501-221">Information</span></span> |     <span data-ttu-id="02501-222">Báo cáo lỗi, cảnh báo và sự kiện thông tin.</span><span class="sxs-lookup"><span data-stu-id="02501-222">Reports errors, warnings, and information events.</span></span>      |
     |   <span data-ttu-id="02501-223">Diễn giải</span><span class="sxs-lookup"><span data-stu-id="02501-223">Verbose</span></span>   | <span data-ttu-id="02501-224">Báo cáo lỗi, cảnh báo, thông tin và sự kiện diễn giải.</span><span class="sxs-lookup"><span data-stu-id="02501-224">Reports errors, warnings, information, and verbose events.</span></span> |


   - <span data-ttu-id="02501-225">**Enable Crash Dump Generation.**</span><span class="sxs-lookup"><span data-stu-id="02501-225">**Enable Crash Dump Generation.**</span></span> <span data-ttu-id="02501-226">The default is enabled and dump files are collected during a fatal exception of the [!INCLUDE[pn_unified_service_desk](../../includes/pn-unified-service-desk.md)] client.</span><span class="sxs-lookup"><span data-stu-id="02501-226">The default is enabled and dump files are collected during a fatal exception of the [!INCLUDE[pn_unified_service_desk](../../includes/pn-unified-service-desk.md)] client.</span></span> <span data-ttu-id="02501-227">If the options is not set dump files will not be collected during a [!INCLUDE[pn_unified_service_desk](../../includes/pn-unified-service-desk.md)] client exception.</span><span class="sxs-lookup"><span data-stu-id="02501-227">If the options is not set dump files will not be collected during a [!INCLUDE[pn_unified_service_desk](../../includes/pn-unified-service-desk.md)] client exception.</span></span> <span data-ttu-id="02501-228">If this options is disabled and Enable Exit Monitoring is enabled, both diagnostics logs and exit logs are collected, but dump files aren’t.</span><span class="sxs-lookup"><span data-stu-id="02501-228">If this options is disabled and Enable Exit Monitoring is enabled, both diagnostics logs and exit logs are collected, but dump files aren’t.</span></span>  

   - <span data-ttu-id="02501-229">**Max Diagnostics Logs Size (MB)**.</span><span class="sxs-lookup"><span data-stu-id="02501-229">**Max Diagnostics Logs Size (MB)**.</span></span> <span data-ttu-id="02501-230">Specifies the maximum size of the folder in megabytes where diagnostics files are kept.</span><span class="sxs-lookup"><span data-stu-id="02501-230">Specifies the maximum size of the folder in megabytes where diagnostics files are kept.</span></span> <span data-ttu-id="02501-231">The default size is 5 GB (5000 MB).</span><span class="sxs-lookup"><span data-stu-id="02501-231">The default size is 5 GB (5000 MB).</span></span> <span data-ttu-id="02501-232">When the specified value is exceeded, the oldest log folders will be deleted until the folder size no longer exceeds the value.</span><span class="sxs-lookup"><span data-stu-id="02501-232">When the specified value is exceeded, the oldest log folders will be deleted until the folder size no longer exceeds the value.</span></span> <span data-ttu-id="02501-233">Notice that, the most recent log folder is not deleted even if it exceeds the value specified.</span><span class="sxs-lookup"><span data-stu-id="02501-233">Notice that, the most recent log folder is not deleted even if it exceeds the value specified.</span></span>  

6. <span data-ttu-id="02501-234">Click **Save & Close**.</span><span class="sxs-lookup"><span data-stu-id="02501-234">Click **Save & Close**.</span></span>  

   > [!NOTE]
   >  <span data-ttu-id="02501-235">Note that audit & diagnostics records are activated when they are created.</span><span class="sxs-lookup"><span data-stu-id="02501-235">Note that audit & diagnostics records are activated when they are created.</span></span>  

7. <span data-ttu-id="02501-236">Next, to begin diagnostic logging, associate the audit & diagnostic settings record with a configuration.</span><span class="sxs-lookup"><span data-stu-id="02501-236">Next, to begin diagnostic logging, associate the audit & diagnostic settings record with a configuration.</span></span> <span data-ttu-id="02501-237">To do this, create a configuration or use an existing configuration, and then select the audit record in the **Audit & Diagnostics Settings** attribute on the Configuration form.</span><span class="sxs-lookup"><span data-stu-id="02501-237">To do this, create a configuration or use an existing configuration, and then select the audit record in the **Audit & Diagnostics Settings** attribute on the Configuration form.</span></span> [!INCLUDE[proc_more_information](../../includes/proc-more-information.md)] <span data-ttu-id="02501-238">[Manage access using Unified Service Desk configuration](../../unified-service-desk/admin/manage-access-using-unified-service-desk-configuration.md)</span><span class="sxs-lookup"><span data-stu-id="02501-238">[Manage access using Unified Service Desk configuration](../../unified-service-desk/admin/manage-access-using-unified-service-desk-configuration.md)</span></span>  

<a name="userschema"></a>   
## <a name="add-user-information-to-audit--diagnostics-settings-logging"></a><span data-ttu-id="02501-239">Add user information to Audit & Diagnostics Settings logging</span><span class="sxs-lookup"><span data-stu-id="02501-239">Add user information to Audit & Diagnostics Settings logging</span></span>  
 <span data-ttu-id="02501-240">The User Schema Settings area provides a list of User entity attributes that can be added to an audit and diagnostics record.</span><span class="sxs-lookup"><span data-stu-id="02501-240">The User Schema Settings area provides a list of User entity attributes that can be added to an audit and diagnostics record.</span></span> <span data-ttu-id="02501-241">The values you select in the Audit & Diagnostics Settings record are included in the audit and diagnostics data that is recorded.</span><span class="sxs-lookup"><span data-stu-id="02501-241">The values you select in the Audit & Diagnostics Settings record are included in the audit and diagnostics data that is recorded.</span></span> <span data-ttu-id="02501-242">Instead of identifying users by first and last name alone, there are many attributes you can use to uniquely identify each user in the audit and diagnostic logs, such as Active Directory Guid, Home Phone, or Primary Email.</span><span class="sxs-lookup"><span data-stu-id="02501-242">Instead of identifying users by first and last name alone, there are many attributes you can use to uniquely identify each user in the audit and diagnostic logs, such as Active Directory Guid, Home Phone, or Primary Email.</span></span> <span data-ttu-id="02501-243">If a user schema value is null or empty an entry is not recorded in the audit logs.</span><span class="sxs-lookup"><span data-stu-id="02501-243">If a user schema value is null or empty an entry is not recorded in the audit logs.</span></span>  

> [!CAUTION]
>  <span data-ttu-id="02501-244">Audit and diagnostics logs can contain personally identifiable information and should only be stored in a secure location.</span><span class="sxs-lookup"><span data-stu-id="02501-244">Audit and diagnostics logs can contain personally identifiable information and should only be stored in a secure location.</span></span>  

<a name="Deactivate"></a>   
## <a name="deactivate-or-activate-an-audit--diagnostics-settings-record"></a><span data-ttu-id="02501-245">Deactivate or activate an Audit & Diagnostics Settings record</span><span class="sxs-lookup"><span data-stu-id="02501-245">Deactivate or activate an Audit & Diagnostics Settings record</span></span>  

1.  <span data-ttu-id="02501-246">In the **Active Audit & Diagnostics Settings** view, choose the record you want to deactivate.</span><span class="sxs-lookup"><span data-stu-id="02501-246">In the **Active Audit & Diagnostics Settings** view, choose the record you want to deactivate.</span></span>  

2.  <span data-ttu-id="02501-247">On the actions toolbar, click **DEACTIVATE**.</span><span class="sxs-lookup"><span data-stu-id="02501-247">On the actions toolbar, click **DEACTIVATE**.</span></span>  

     <span data-ttu-id="02501-248">From the **Inactive Audit & Diagnostics Settings** view, use similar steps to activate records that are deactivated.</span><span class="sxs-lookup"><span data-stu-id="02501-248">From the **Inactive Audit & Diagnostics Settings** view, use similar steps to activate records that are deactivated.</span></span>  

## <a name="see-also"></a><span data-ttu-id="02501-249">Xem thêm</span><span class="sxs-lookup"><span data-stu-id="02501-249">See also</span></span>  
 <span data-ttu-id="02501-250">[Quản lý tùy chọn cho Unified Service Desk](../../unified-service-desk/admin/manage-options-unified-service-desk.md) </span><span class="sxs-lookup"><span data-stu-id="02501-250">[Manage Options for Unified Service Desk](../../unified-service-desk/admin/manage-options-unified-service-desk.md) </span></span>  
 <span data-ttu-id="02501-251">[Trình quản lý chung (Kiểm soát tổ chức)](../../unified-service-desk/global-manager-hosted-control.md) </span><span class="sxs-lookup"><span data-stu-id="02501-251">[Global Manager (Hosted Control)](../../unified-service-desk/global-manager-hosted-control.md) </span></span>  
 <span data-ttu-id="02501-252">[Administer and manage Unified Service Desk](../../unified-service-desk/admin/administer-manage-unified-service-desk.md) [Performance data collection using keyboard shortcut](../../unified-service-desk/admin/performance-data-collection-using-keyboard-shortcut.md)</span><span class="sxs-lookup"><span data-stu-id="02501-252">[Administer and manage Unified Service Desk](../../unified-service-desk/admin/administer-manage-unified-service-desk.md) [Performance data collection using keyboard shortcut](../../unified-service-desk/admin/performance-data-collection-using-keyboard-shortcut.md)</span></span>
